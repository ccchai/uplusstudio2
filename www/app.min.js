window.uplus={};window.templ={};window.uplus.controllers=angular.module("ctrls",[]);window.uplus.components=angular.module("uplus",[]);window.uplus.app=angular.module("app",["ngRoute","ctrls","uplus","datePicker"]);window.uplus.DEBUG=!1;window.uplus.VERSION="Version 2.2.1";window.uplus.INTERNAL_MODE=!0;window.uplus.APP_TITLE="Uplus";window.uplus.APP_TITLE_ACCENT="Studio";window.uplus.APP_ACCOUNT_ID=null;window.addEventListener("message",function(n){if(n.data){var t=n.data.split(",");window.uplus.INTERNAL_MODE=!1;window.uplus.APP_TITLE=t[0];window.uplus.APP_TITLE_ACCENT=t[1];window.uplus.APP_ACCOUNT_ID=t[2]}},!1);window.uplus.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)})};window.uplus.isSuccess=function(n){return n>0&&n<300};window.uplus.clone=function(){function n(){}return function(t){return n.prototype=t,new n}}();window.uplus.preventNewLine=function(n){n.which===13&&n.preventDefault()};window.uplus.pinchZoom=function(n){var i=document.getElementById(n),t=new Hammer.Manager(i),r=new Hammer.Pinch,u=new Hammer.Pan;r.recognizeWith(u);t.add([r,u]);t._adjustScale=1;t._adjustDeltaX=0;t._adjustDeltaY=0;t._currentScale=null;t._currentDeltaX=null;t._currentDeltaY=null;t._reset=function(){this._adjustScale=1;this._adjustDeltaX=0;this._adjustDeltaY=0;this._currentScale=null;this._currentDeltaX=null;this._currentDeltaY=null;i.style.transform=null;i.style.WebkitTransform=null};t.on("pinch pan",function(n){var r=[];t._currentScale=t._adjustScale*n.scale;t._currentScale<1&&(t._currentScale=1);t._currentScale==1?(t._currentDeltaX=0,t._currentDeltaY=0):(t._currentDeltaX=t._adjustDeltaX+n.deltaX/t._currentScale,t._currentDeltaY=t._adjustDeltaY+n.deltaY/t._currentScale);r.push("scale("+t._currentScale+")");r.push("translate("+t._currentDeltaX+"px,"+t._currentDeltaY+"px)");i.style.transform=r.join(" ");i.style.WebkitTransform=i.style.transform});t.on("panend pinchend",function(){t._adjustScale=t._currentScale;t._adjustDeltaX=t._currentDeltaX;t._adjustDeltaY=t._currentDeltaY});return t};window.uplus.getMonths=function(n,t){var f=moment(),e=moment().year(f.year()).month(f.month()).date(1),r=[],i=e.add(1,"months"),u;for(r.push({id:i.format("YYYYMMDD"),name:t+i.format("MM/YYYY")}),u=0;u<n-1;u++)i=e.subtract(1,"months"),r.push({id:i.format("YYYYMMDD"),name:t+i.format("MM/YYYY")});return r};window.uplus.getFilterIdByMonth=function(n){if(!n)return"00000000";var t=moment(n,"D/M/YYYY"),i=moment().year(t.year()).month(t.month()).date(1);return i.format("YYYYMMDD")};window.uplus.isPhoneGap=function(){return window.cordova?!0:!1};window.uplus.phoneGapInit=function(n){window.uplus.isPhoneGap()?document.addEventListener("deviceready",function(){window.uplus.baseUrl="https://studio.uplus.com.my";FastClick.attach(document.body);angular.bootstrap(document,n)}):(window.uplus.baseUrl="",FastClick.attach(document.body),angular.bootstrap(document,n),"serviceWorker"in navigator&&typeof Cache!="undefined"&&Cache.prototype.addAll&&navigator.serviceWorker.register("/sw.js"))};window.uplus.start=function(n){angular.element(document).ready(function(){new window.uplus.phoneGapInit(n)})};window.uplus.startFcm=function(n){if(window.FCMPlugin){FCMPlugin.onTokenRefresh(function(){});FCMPlugin.getToken(function(){});FCMPlugin.onNotification(function(n){alert(JSON.stringify(n))});FCMPlugin.subscribeToTopic(n)}};window.uplus.print={};window.uplus.print.setTitleFont=function(){var i=new Uint8Array(3),n,t;i[0]=27;i[1]=33;i[2]=8;n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=32;t=new Uint8Array(3);t[0]=27;t[1]=33;t[2]=16;bluetoothSerial.write(i,function(){},function(){});bluetoothSerial.write(n,function(){},function(){});bluetoothSerial.write(t,function(){},function(){})};window.uplus.print.setFontA=function(){bluetoothSerial.write([27,33,0],function(){},function(){})};window.uplus.print.lineFeed=function(){bluetoothSerial.write([10],function(){},function(){})};window.uplus.print.alignLeft=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.alignCenter=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=1;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.alignRight=function(){var n=new Uint8Array(3);n[0]=27;n[1]=97;n[2]=2;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.bold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=33;n[2]=8;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.cancelBold=function(){var n=new Uint8Array(3);n[0]=27;n[1]=69;n[2]=0;bluetoothSerial.write(n,function(){},function(){})};window.uplus.print.printString=function(n){bluetoothSerial.write(n,function(){},function(){})};window.uplus.mapControl=null;window.uplus.mapDiv=null;window.uplus.arrowShape="M 10.481,15.75 L 10.481,0.554 L 21.019,0.554 L 21.019,15.75 L 31.5,15.75 L 15.75,31.5 L 0,15.75 Z";window.uplus.circleShape="M 3.592,25.762 C 9.118,32.473 19.051,33.434 25.762,27.908 C 32.473,22.382 33.434,12.449 27.908,5.738 C 22.382,-0.973 12.449,-1.934 5.738,3.592 C -0.973,9.118 -1.934,19.051 3.592,25.762 Z";window.uplus.getDeviceMarker=function(n){var i=Math.floor((new Date-new Date(n.Time))/36e5),t=n.Heading-180;return t<0&&(t=360+t),i>24?{anchor:new google.maps.Point(16,16),path:window.uplus.circleShape,fillColor:"#000",fillOpacity:1,scale:.6,strokeWeight:2,strokeOpacity:.8,strokeColor:"#fff",status:"No Update"}:n.Speed==0?n.Ignition?{anchor:new google.maps.Point(16,16),path:window.uplus.circleShape,fillColor:"#ffcc44",fillOpacity:1,scale:.6,strokeWeight:2,strokeOpacity:.8,strokeColor:"#fff",status:"Idling",rotation:t}:{anchor:new google.maps.Point(16,16),path:window.uplus.circleShape,fillColor:"#cd1e3d",fillOpacity:1,scale:.6,strokeWeight:2,strokeOpacity:.8,strokeColor:"#fff",status:"Stopped",rotation:t}:n.Speed<70?{anchor:new google.maps.Point(16,16),path:window.uplus.arrowShape,fillColor:"#02805c",fillOpacity:1,scale:1,strokeWeight:2,strokeColor:"#fff",strokeOpacity:.8,rotation:t,status:"Moving"}:n.Speed<75?{anchor:new google.maps.Point(16,16),path:window.uplus.arrowShape,fillColor:"#ffcc44",fillOpacity:1,scale:1,strokeWeight:2,strokeColor:"#000",strokeOpacity:.2,rotation:t,status:"Moving"}:n.Speed<80?{anchor:new google.maps.Point(16,16),path:window.uplus.arrowShape,fillColor:"#ff8f00",fillOpacity:1,scale:1,strokeWeight:2,strokeColor:"#fff",strokeOpacity:.8,rotation:t,status:"Moving"}:{anchor:new google.maps.Point(16,16),path:window.uplus.arrowShape,fillColor:"#cd1e3d",fillOpacity:1,scale:1,strokeWeight:2,strokeColor:"#fff",strokeOpacity:.8,rotation:t,status:"Overspeed"}};window.uplus.reattachMap=function(n){var t=document.getElementById("map-canvas"),i=t.parentElement.removeChild(t);document.getElementById(n).appendChild(i);google.maps.event.trigger(window.uplus.mapControl,"resize")};window.uplus.attachMap=function(n){if(window.uplus.mapDiv)document.getElementById(n).appendChild(window.uplus.mapDiv),window.uplus.mapDiv=null,google.maps.event.trigger(window.uplus.mapControl,"resize");else{var t=document.createElement("div");t.id="map-canvas";t.style.height="100%";t.style.width="100%";document.getElementById(n).appendChild(t);window.uplus.mapControl=new google.maps.Map(t,{center:new google.maps.LatLng(1.4879,110.3424),zoom:6,streetViewControl:!0,scaleControl:!0,disableDoubleClickZoom:!0,clickableIcons:!1,fullscreenControl:!1})}};window.uplus.detachMap=function(){var n=document.getElementById("map-canvas");window.uplus.mapDiv=n.parentElement.removeChild(n)};window.templ.AeonCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-class="{\'active\': tab == 1}" ng-click="changeTab(1)">Customer<\/button><button class="menu-button" ng-class="{\'active\': tab == 2}" ng-click="changeTab(2)">Job<\/button><button class="menu-button" ng-class="{\'active\': tab == 3}" ng-click="changeTab(3)">Relative<\/button><button class="menu-button" ng-class="{\'active\': tab == 4}" ng-click="changeTab(4)">Item<\/button><button class="menu-button" ng-class="{\'active\': tab == 5}" ng-click="changeTab(5)">Loan<\/button><button class="menu-button" ng-click="print()"><svg class="menu-svg"><use xlink:href="#icon-print"><\/use><\/svg> Print<\/button><button class="menu-button" ng-click="delete()"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><a class="menu-button" href="https://uplus.blob.core.windows.net/uplus-web/idscanner.apk" style="text-decoration: none" target="_system"><svg class="menu-svg"><use xlink:href="#icon-external-link"><\/use><\/svg> Download ID Scanner<\/a><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin: 120px auto 0 auto"><table class="form-table-horizontal" ng-show="tab == 1"><tr><th><label for="mykad">Mykad Info<\/label><\/th><td><textarea id="mykad" name="mykad" rows="2" style="height: auto" ng-model="mykad" ng-blur="onEnterMykad()"><\/textarea><\/td><\/tr><tr><th><label for="Code">No IC<\/label><\/th><td><input id="Code" name="Code" type="text" ng-model="current.Code" maxlength="20" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Name">Nama<\/label><\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" maxlength="100" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Address">Alamat<\/label><\/th><td><textarea id="Address" name="Address" ng-model="current.Address" required><\/textarea><\/td><\/tr><tr><th><label for="Phone">No Tel Bimbit<\/label><\/th><td><input type="tel" id="Phone" name="Phone" ng-model="current.Phone" maxlength="20" required autocomplete="off" /><\/td><\/tr><tr><th><label for="AddressType">Jenis Kediaman<\/label><\/th><td><select id="AddressType" name="AddressType" ng-model="current.AddressType"><option value=""><\/option><option value="Rumah Sendiri">Rumah Sendiri<\/option><option value="Rumah Ibu Bapa">Rumah Ibu Bapa<\/option><option value="Rumah Saudara">Rumah Saudara<\/option><option value="Rumah Sewa">Rumah Sewa<\/option><option value="Kediaman Syarikat">Kediaman Syarikat<\/option><option value="Lain-Lain">Lain-Lain<\/option><\/select><\/td><\/tr><tr ng-show="current.AddressType == \'Lain-Lain\'"><th><label for="AddressTypeOther">Jenis Kediaman<\/label><\/th><td><input type="text" id="AddressTypeOther" name="AddressTypeOther" ng-model="current.AddressTypeOther" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="LengthOfStayYear">Tempoh Menetap<\/label><\/th><td><table><tr><td style="padding: 0; width: 50%"><input id="LengthOfStayYear" name="LengthOfStayYear" type="number" ng-model="current.LengthOfStayYear" placeholder="Year" autocomplete="off" /><\/td><td style="padding: 0 0 0 10px; width: 50%"><input id="LengthOfStayMonth" name="LengthOfStayMonth" type="number" ng-model="current.LengthOfStayMonth" placeholder="Month" autocomplete="off" /><\/td><\/tr><\/table><\/td><\/tr><tr><th><label for="TotalDependant">Tanggungan Anak<\/label><\/th><td><input type="number" id="TotalDependant" name="TotalDependant" ng-model="current.TotalDependant" autocomplete="off" /><\/td><\/tr><tr><th><label for="MarriageStatus">Taraf Perkahwinan<\/label><\/th><td><select id="MarriageStatus" name="MarriageStatus" ng-model="current.MarriageStatus"><option value=""><\/option><option value="Berkahwin">Berkahwin<\/option><option value="Bujang">Bujang<\/option><option value="Balu/Duda">Balu/Duda<\/option><option value="Bercerai">Bercerai<\/option><\/select><\/td><\/tr><tr><th><label for="Race">Kaum<\/label><\/th><td><select id="Race" name="Race" ng-model="current.Race"><option value=""><\/option><option value="Melayu">Melayu<\/option><option value="Cina">Cina<\/option><option value="India">India<\/option><option value="Iban">Iban<\/option><option value="Bidayuh">Bidayuh<\/option><option value="Lain-Lain">Lain-Lain<\/option><\/select><\/td><\/tr><tr ng-show="current.Race == \'Lain-Lain\'"><th><label for="RaceOther">Kaum<\/label><\/th><td><input type="text" id="RaceOther" name="RaceOther" ng-model="current.RaceOther" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="UserCode">User ID<\/label><\/th><td><input id="UserCode" name="UserCode" type="text" ng-model="current.UserCode" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="tab == 2"><tr><th><label for="Company">Nama Syarikat<\/label><\/th><td><input id="Company" name="Company" type="text" ng-model="current.Company" autocomplete="off" /><\/td><\/tr><tr><th><label for="CompanyAddress">Alamat Syarikat<\/label><\/th><td><textarea id="CompanyAddress" name="CompanyAddress" ng-model="current.CompanyAddress"><\/textarea><\/td><\/tr><tr><th><label for="CompanyPhone">Tel No Syarikat<\/label><\/th><td><input id="CompanyPhone" name="CompanyPhone" type="tel" ng-model="current.CompanyPhone" autocomplete="off" /><\/td><\/tr><tr><th><label for="ServiceLengthYear">Tempoh Khidmat<\/label><\/th><td><table><tr><td style="padding: 0; width: 50%"><input id="ServiceLengthYear" name="ServiceLengthYear" type="number" ng-model="current.ServiceLengthYear" placeholder="Year" autocomplete="off" /><\/td><td style="padding: 0 0 0 10px; width: 50%"><input id="ServiceLengthMonth" name="ServiceLengthMonth" type="number" ng-model="current.ServiceLengthMonth" placeholder="Month" autocomplete="off" /><\/td><\/tr><\/table><\/td><\/tr><tr><th><label for="PayDay">Tarikh Gaji<\/label><\/th><td><input id="PayDay" name="PayDay" type="number" ng-model="current.PayDay" autocomplete="off" /><\/td><\/tr><tr><th><label for="Salary">Gaji Bersih Sebulan<\/label><\/th><td><input id="Salary" name="Salary" type="number" ng-model="current.Salary" autocomplete="off" /><\/td><\/tr><tr><th><label for="Occupation">Jawatan<\/label><\/th><td><input id="Occupation" name="Occupation" type="text" ng-model="current.Occupation" autocomplete="off" /><\/td><\/tr><tr><th><label for="Bank">Bank<\/label><\/th><td><input id="Bank" name="Bank" type="text" ng-model="current.Bank" autocomplete="off" /><\/td><\/tr><tr><th><label for="BankAccountNo">No Akaun Bank<\/label><\/th><td><input id="BankAccountNo" name="BankAccountNo" type="text" ng-model="current.BankAccountNo" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="tab == 3"><tr><th><label for="Relative">Nama Saudara<\/label><\/th><td><input id="Relative" name="Relative" type="text" ng-model="current.Relative" autocomplete="off" /><\/td><\/tr><tr><th><label for="RelativeAddress">Alamat Saudara<\/label><\/th><td><textarea id="RelativeAddress" name="RelativeAddress" ng-model="current.RelativeAddress"><\/textarea><\/td><\/tr><tr><th><label for="RelativePhone">No Tel Bimbit<\/label><\/th><td><input id="RelativePhone" name="RelativePhone" type="tel" ng-model="current.RelativePhone" autocomplete="off" /><\/td><\/tr><tr><th><label for="RelativePhoneOffice">No Tel OFFICE<\/label><\/th><td><input id="RelativePhoneOffice" name="RelativePhoneOffice" type="tel" ng-model="current.RelativePhoneOffice" autocomplete="off" /><\/td><\/tr><tr><th><label for="Relationship">Hubungan<\/label><\/th><td><select id="Relationship" name="Relationship" ng-model="current.Relationship"><option value=""><\/option><option value="Ibu Bapa">Ibu Bapa<\/option><option value="Saudara">Saudara<\/option><option value="Lain-Lain">Lain-Lain<\/option><\/select><\/td><\/tr><tr ng-show="current.Relationship == \'Lain-Lain\'"><th><label for="RelationshipOther">Hubungan<\/label><\/th><td><input type="text" id="RelationshipOther" name="RelationshipOther" ng-model="current.RelationshipOther" maxlength="100" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="tab == 4"><tr><td colspan="2"><b>Item 1<\/b><\/td><\/tr><tr><th><label for="Brand1">Jenama<\/label><\/th><td><input id="Brand1" name="Brand1" type="text" ng-model="current.Brand1" autocomplete="off" /><\/td><\/tr><tr><th><label for="Model1">Model<\/label><\/th><td><input id="Model1" name="Model1" type="text" ng-model="current.Model1" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price1">Price<\/label><\/th><td><input id="Price1" name="Price1" type="number" ng-model="current.Price1" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><td colspan="2"><b>Item 2<\/b><\/td><\/tr><tr><th><label for="Brand2">Jenama<\/label><\/th><td><input id="Brand2" name="Brand2" type="text" ng-model="current.Brand2" autocomplete="off" /><\/td><\/tr><tr><th><label for="Model2">Model<\/label><\/th><td><input id="Model2" name="Model2" type="text" ng-model="current.Model2" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price2">Price<\/label><\/th><td><input id="Price2" name="Price2" type="number" ng-model="current.Price2" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><td colspan="2"><b>Item 3<\/b><\/td><\/tr><tr><th><label for="Brand3">Jenama<\/label><\/th><td><input id="Brand3" name="Brand3" type="text" ng-model="current.Brand3" autocomplete="off" /><\/td><\/tr><tr><th><label for="Model3">Model<\/label><\/th><td><input id="Model3" name="Model3" type="text" ng-model="current.Model3" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price3">Price<\/label><\/th><td><input id="Price3" name="Price3" type="number" ng-model="current.Price3" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><td colspan="2"><b>Item 4<\/b><\/td><\/tr><tr><th><label for="Brand4">Jenama<\/label><\/th><td><input id="Brand4" name="Brand4" type="text" ng-model="current.Brand4" autocomplete="off" /><\/td><\/tr><tr><th><label for="Model4">Model<\/label><\/th><td><input id="Model4" name="Model4" type="text" ng-model="current.Model4" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price4">Price<\/label><\/th><td><input id="Price4" name="Price4" type="number" ng-model="current.Price4" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="tab == 5"><tr><th><label for="TotalCashPrice">Jumlah Harga Belian<\/label><\/th><td><input id="TotalCashPrice" name="TotalCashPrice" type="number" ng-model="current.TotalCashPrice" autocomplete="off" /><\/td><\/tr><tr><th><label for="AgreementFee">Yuran Perjanjian<\/label><\/th><td><input id="AgreementFee" name="AgreementFee" type="number" ng-model="current.AgreementFee" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><th><label for="InterestRate">Kadar Faedah %<\/label><\/th><td><input id="InterestRate" name="InterestRate" type="number" ng-model="current.InterestRate" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><th><label for="Downpayment">Bayaran Pendahaluan<\/label><\/th><td><input id="Downpayment" name="Downpayment" type="number" ng-model="current.Downpayment" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><th><label for="FinanceAmount">Harga Ansuran Mudah<\/label><\/th><td><input id="FinanceAmount" name="FinanceAmount" type="number" ng-model="current.FinanceAmount" autocomplete="off" /><\/td><\/tr><tr><th><label for="InitialPayment">Bayaran Pertama<\/label><\/th><td><input id="InitialPayment" name="InitialPayment" type="number" ng-model="current.InitialPayment" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><th><label for="BalanceSum">Baki Bayaran<\/label><\/th><td><input id="BalanceSum" name="BalanceSum" type="number" ng-model="current.BalanceSum" autocomplete="off" /><\/td><\/tr><tr><th><label for="LoanPeriod">Tempoh Ansuran<\/label><\/th><td><input id="LoanPeriod" name="LoanPeriod" type="number" ng-model="current.LoanPeriod" ng-blur="onCalc()" autocomplete="off" /><\/td><\/tr><tr><th><label for="MonthlyAmount">Ansuran Bulanan<\/label><\/th><td><input id="MonthlyAmount" name="MonthlyAmount" type="number" ng-model="current.MonthlyAmount" autocomplete="off" /><\/td><\/tr><\/table><!--<table class="form-table-horizontal" ng-show="tab == 5"><tr><th><label for="Rebate">IC (Front)<\/label><\/th><td><a class="link" ng-show="!current.IcFront" ng-click="takePhoto(\'IcFront\')" href="">Camera<\/a> |<a class="link" ng-show="!current.IcFront" ng-click="pickPhoto(\'IcFront\')" href="">Gallery<\/a><a class="link" ng-show="current.IcFront" ng-click="removePhoto(\'IcFront\')" href="">Remove<\/a><img ng-src="{{current.IcFront}}" ng-show="current.IcFront" ng-click="showPhoto(\'IcFront\')" class="aeonPhoto" /><\/td><\/tr><tr><th><label for="Rebate">IC (Back)<\/label><\/th><td><a class="link" ng-show="!current.IcBack" ng-click="takePhoto(\'IcBack\')" href="">Camera<\/a> |<a class="link" ng-show="!current.IcBack" ng-click="pickPhoto(\'IcBack\')" href="">Gallery<\/a><a class="link" ng-show="current.IcBack" ng-click="removePhoto(\'IcBack\')" href="">Remove<\/a><img ng-src="{{current.IcBack}}" ng-show="current.IcBack" ng-click="showPhoto(\'IcBack\')" class="aeonPhoto" /><\/td><\/tr><tr><th><label for="Rebate">Bank Account<\/label><\/th><td><a class="link" ng-show="!current.BankAccount" ng-click="takePhoto(\'BankAccount\')" href="">Camera<\/a> |<a class="link" ng-show="!current.BankAccount" ng-click="pickPhoto(\'BankAccount\')" href="">Gallery<\/a><a class="link" ng-show="current.BankAccount" ng-click="removePhoto(\'BankAccount\')" href="">Remove<\/a><img ng-src="{{current.BankAccount}}" ng-show="current.BankAccount" ng-click="showPhoto(\'BankAccount\')" class="aeonPhoto" /><\/td><\/tr><tr><th><label for="Rebate">Payslip<\/label><\/th><td><a class="link" ng-show="!current.Payslip" ng-click="takePhoto(\'Payslip\')" href="">Camera<\/a> |<a class="link" ng-show="!current.Payslip" ng-click="pickPhoto(\'Payslip\')" href="">Gallery<\/a><a class="link" ng-show="current.Payslip" ng-click="removePhoto(\'Payslip\')" href="">Remove<\/a><img ng-src="{{current.Payslip}}" ng-show="current.Payslip" ng-click="showPhoto(\'Payslip\')" class="aeonPhoto" /><\/td><\/tr><tr><th><label for="Rebate">Payslip 2<\/label><\/th><td><a class="link" ng-show="!current.Payslip2" ng-click="takePhoto(\'Payslip2\')" href="">Camera<\/a> |<a class="link" ng-show="!current.Payslip2" ng-click="pickPhoto(\'Payslip2\')" href="">Gallery<\/a><a class="link" ng-show="current.Payslip2" ng-click="removePhoto(\'Payslip2\')" href="">Remove<\/a><img ng-src="{{current.Payslip2}}" ng-show="current.Payslip2" ng-click="showPhoto(\'Payslip2\')" class="aeonPhoto" /><\/td><\/tr><tr><th><label for="Rebate">Payslip 3<\/label><\/th><td><a class="link" ng-show="!current.Payslip3" ng-click="takePhoto(\'Payslip3\')" href="">Camera<\/a> |<a class="link" ng-show="!current.Payslip3" ng-click="pickPhoto(\'Payslip3\')" href="">Gallery<\/a><a class="link" ng-show="current.Payslip3" ng-click="removePhoto(\'Payslip3\')" href="">Remove<\/a><img ng-src="{{current.Payslip3}}" ng-show="current.Payslip3" ng-click="showPhoto(\'Payslip3\')" class="aeonPhoto" /><\/td><\/tr><\/table>--><table class="form-table-horizontal"><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Save<\/button><\/td><\/tr><\/table><\/form>';window.templ.AeonLoanCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 70px"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Status<\/th><td><b ng-bind="current.Status"><\/b><\/td><\/tr><tr><th>Customer ID<\/th><td><b ng-bind="current.CustomerId"><\/b><\/td><\/tr><tr><th>Name<\/th><td><b ng-bind="current.Name"><\/b><\/td><\/tr><tr><th>Application Date<\/th><td><b ng-bind="current.ApplicationDate | date: \'d/M/yyyy\'"><\/b><\/td><\/tr><tr><th>Approval Date<\/th><td><b ng-bind="current.ApprovalDate | date: \'d/M/yyyy\'"><\/b><\/td><\/tr><tr><th>Agreement No<\/th><td><b ng-bind="current.AgreementNo"><\/b><\/td><\/tr><tr><th>Loan Period<\/th><td><b ng-bind="current.ApprovedLoanPeriod"><\/b><\/td><\/tr><tr><th>Monthly Amount<\/th><td><b ng-bind="current.ApprovedMonthlyAmount | number: 2"><\/b><\/td><\/tr><tr><th>Total Cash Price<\/th><td><b ng-bind="current.ApprovedTotalCashPrice | number: 2"><\/b><\/td><\/tr><tr><th>Interest Rate<\/th><td><b ng-bind="current.ApprovedInterestRate | number: 2"><\/b><\/td><\/tr><tr><th>Agreement Fee<\/th><td><b ng-bind="current.ApprovedAgreementFee | number: 2"><\/b><\/td><\/tr><tr><th>Down Payment<\/th><td><b ng-bind="current.ApprovedDownPayment | number: 2"><\/b><\/td><\/tr><tr><th>Promotion Voucher<\/th><td><b ng-bind="current.ApprovedPromotionVoucher | number: 2"><\/b><\/td><\/tr><tr><th>Finance Amount<\/th><td><b ng-bind="current.ApprovedFinanceAmount | number: 2"><\/b><\/td><\/tr><tr><th>Easy Payment Price<\/th><td><b ng-bind="current.ApprovedEasyPaymentPrice | number: 2"><\/b><\/td><\/tr><tr><th>Initial Payment<\/th><td><b ng-bind="current.ApprovedInitialPayment | number: 2"><\/b><\/td><\/tr><tr><th>Balance Sum<\/th><td><b ng-bind="current.ApprovedBalanceSum | number: 2"><\/b><\/td><\/tr><tr><th>Item ID<\/th><td><b ng-bind="current.ItemId"><\/b><\/td><\/tr><tr><th>Description<\/th><td><b ng-bind="current.Description"><\/b><\/td><\/tr><\/table><\/div><\/form>';window.templ.AeonLoansCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/aeon-loan/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="(model.ApplicationDate | date: \'d/M/yyyy\') + \' ~ \' + model.AgreementNo" ><\/span><div class="list-item-div" bo-if="model.Status == \'Approved\'"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><div class="list-item-div icon-alert" bo-if="model.Status == \'Declined\' || model.Status == \'Cancelled\'"><svg class="list-item-svgl"><use xlink:href="#icon-alert"><\/use><\/svg><\/div><div class="list-item-div" bo-if="model.Status == \'Pending\'"><svg class="list-item-svgl"><use xlink:href="#icon-hourglass"><\/use><\/svg><\/div><\/a><\/div>';window.templ.AeonsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/aeon/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span"  bo-bind="model.Item"><\/span><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/aeon" icon="#icon-plus"><\/u-fab-link>';window.templ.AlertCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 70px"><table class="form-table-vertical"><tr><th>Alert Type<\/th><\/tr><tr><td><b ng-bind="current.Name"><\/b><\/td><\/tr><tr><th>Status<\/th><\/tr><tr><td><select id="Active" name="Active" ng-model="current.Active" ng-options="o.v as o.n for o in [{ n: \'Disabled\', v: false }, { n: \'Enabled\', v: true }]"><\/select><\/td><\/tr><tr><th>Recipients<\/th><\/tr><tr><td class="large-select"><oi-select oi-options="item.Name for item in filters track by item.Id" ng-model="selected.SendTo" multiple><\/oi-select><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Submit<\/button><\/td><\/tr><\/table><\/form>';window.templ.AlertsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/alert/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" ng-show="model.Active">Enabled<\/span><span class="list-item-span" ng-show="!model.Active">Disabled<\/span><div class="list-item-div" bo-if="model.Active"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><div class="list-item-div icon-alert" bo-if="!model.Active"><svg class="list-item-svgl"><use xlink:href="#icon-alert"><\/use><\/svg><\/div><\/a><\/div>';window.templ.AnnounceCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 70px"><table class="form-table-vertical"><tr><th>To<\/th><\/tr><tr><td class="large-select"><oi-select oi-options="item.Name for item in filters track by item.Id" ng-model="selected.SendTo" multiple><\/oi-select><\/td><\/tr><tr><th>Message<\/th><\/tr><tr><td><textarea id="Message" name="Message" rows="7" ng-model="current.Memo" required><\/textarea><\/td><\/tr><tr><th>Photo<\/th><\/tr><tr><td><input type="file" id="upload" fileread="current.Photo" accept="image/*" /><img ng-click="onClick()" ng-src="{{current.Photo.Data}}" ng-show="current.Photo" style="width: 100%; max-width: 380px; margin-top: 20px; cursor: pointer" /><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Submit<\/button><\/td><\/tr><\/table><\/form><u-pane visible=\'paneShown\'><img ng-src="{{photoUrl}}" style="max-width: 100%" id="currentPhoto" /><\/u-pane>';window.templ.BlogPostCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 120px"><table class="form-table-horizontal"><tr><th><label for="Name">Title<\/label><\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Active">Status<\/label><\/th><td><select id="Active" name="Active" ng-model="current.Active" ng-options="o.v as o.n for o in [{ n: \'Draft\', v: false }, { n: \'Published\', v: true }]"><\/select><\/td><\/tr><tr><th><label>Published<\/label><\/th><td><b ng-show="current.PublishDate" ng-bind="current.PublishDate | date: \'d-M-yyyy h:mm a\'"><\/b><b ng-show="!current.PublishDate">-<\/b><\/td><\/tr><\/table><\/form><div id="toolbar" class="toolbar" style="display: none;"><div class="block"><a data-wysihtml-command="undo" data-icon="e" title="Undo"><\/a><a data-wysihtml-command="redo" data-icon="f" title="Redo"><\/a><a data-wysihtml-action="change_view" data-icon="m" title="HTML"><\/a><\/div><div class="block"><a data-wysihtml-command="bold" data-icon="h" title="Bold"><\/a><a data-wysihtml-command="italic" data-icon="i" title="Italic"><\/a><a data-wysihtml-command="underline" data-icon="j" title="Underline"><\/a><\/div><div class="block"><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="h1" data-icon="t" title="Heading 1">1<\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="h2" data-icon="t" title="Heading 2">2<\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="h3" data-icon="t" title="Heading 3">3<\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="p" data-icon="p" title="Paragraph"><\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-blank-value="true" data-icon="q" title="Plain"><\/a><\/div><div class="block"><a data-wysihtml-command="alignLeftStyle" data-icon="b" title="Left"><\/a><a data-wysihtml-command="alignCenterStyle" data-icon="d" title="Center"><\/a><a data-wysihtml-command="alignRightStyle" data-icon="c" title="Right"><\/a><\/div><div class="block"><a data-wysihtml-command="insertUnorderedList" data-icon="n" title="Unordered List"><\/a><a data-wysihtml-command="insertOrderedList" data-icon="o" title="Ordered List"><\/a><a data-wysihtml-command="outdentList" data-icon="r" title="Outdent"><\/a><a data-wysihtml-command="indentList" data-icon="s" title="Indent"><\/a><\/div><div class="block"><a data-wysihtml-command="insertImage" data-icon="u" title="Image"><\/a><a data-wysihtml-command="createLink" data-icon="v" title="Link"><\/a><a data-wysihtml-command="removeLink" data-icon="w" title="Unlink"><\/a><a data-wysihtml-command="fontSizeStyle" data-icon="x" title="Font Size"><\/a><a data-wysihtml-command="foreColorStyle" data-icon="z" title="Font Color"><\/a><a data-wysihtml-command="bgColorStyle" data-icon="y" title="Background Color"><\/a><\/div><div class="block"><a data-wysihtml-command="insertBlockQuote" data-icon="k" title="Blockquote"><\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="pre" data-icon="a" title="Pre"><\/a><a data-wysihtml-command="formatCode" data-wysihtml-command-value="language-html" data-icon="l" title="Code"><\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="createLink" style="display: none;" class="html-dlg"><label>URL:<\/label><input data-wysihtml-dialog-field="href" value="http://"><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="fontSizeStyle" style="display: none;" class="html-dlg"><label> Size:<\/label><input type="text" data-wysihtml-dialog-field="size" value="" /><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="bgColorStyle" style="display: none;" class="html-dlg"><label>Background Color:<\/label><input type="text" data-wysihtml-dialog-field="color" value="rgba(0,0,0,1)" /><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="foreColorStyle" style="display: none;" class="html-dlg"><label>Font Color:<\/label><input type="text" data-wysihtml-dialog-field="color" value="rgba(0,0,0,1)" /><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="insertImage" style="display: none;" class="html-dlg"><label>URL:<\/label><input data-wysihtml-dialog-field="src" value=""><label>Align:<\/label><select data-wysihtml-dialog-field="className" style="width: 80px"><option value="">Default<\/option><option value="wysiwyg-float-left">Left<\/option><option value="wysiwyg-float-right">Right<\/option><\/select><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><\/div><div id="editor" class="post"><\/div>';window.templ.BlogPostsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/blog-post/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-if="model.Active" bo-bind="model.PublishDate | date: \'d-M-yyyy h:mm a\'"><\/span><span class="list-item-span" bo-if="!model.Active">Draft<\/span><div class="list-item-div" bo-if="model.Active"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><div class="list-item-div icon-alert" bo-if="!model.Active"><svg class="list-item-svgl"><use xlink:href="#icon-alert"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/blog-post" icon="#icon-plus"><\/u-fab-link>';window.templ.ChangePasswordCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 70px"><table class="form-table-vertical"><tr><th>User ID<\/th><\/tr><tr><td><b ng-bind="current.Code"><\/b><\/td><\/tr><tr><th>Current Password<\/th><\/tr><tr><td><input type="password" id="CurrentPassword" name="CurrentPassword" ng-model="current.CurrentPassword" autocomplete="off" /><\/td><\/tr><tr><th>New Password<\/th><\/tr><tr><td><input type="password" id="NewPassword" name="NewPassword" ng-model="current.NewPassword" autocomplete="off" /><\/td><\/tr><tr><th>Confirm New Password<\/th><\/tr><tr><td><input type="password" id="ConfirmPassword" name="ConfirmPassword" ng-model="current.ConfirmPassword" compare-check="current.NewPassword" autocomplete="off" /><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled"> Submit<\/button><\/td><\/tr><\/table><\/form>';window.templ.ComputerDeviceCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px"><table class="form-table-vertical"><tr><th>Device ID<\/th><\/tr><tr><td><input type="text" id="Code" name="Code" ng-model="current.Code" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Computer Name<\/th><\/tr><tr><td><input type="text" id="Name" name="Name" ng-model="current.Name" maxlength="100" autocomplete="off" /><\/td><\/tr><\/table><\/form>';window.templ.ComputerDevicesCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/computer-device/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.Code"><\/span><em class="list-item-em" bo-bind="model.CreatedOn | date: \'d/M/yyyy h:mm a\'"><\/em><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/computer-device" icon="#icon-plus"><\/u-fab-link>';window.templ.ContactLogCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 70px"><table class="form-table-horizontal"><tr><th><label for="">Name<\/label><\/th><td ng-bind="current.Name"><\/td><\/tr><tr><th><label for="">Phone<\/label><\/th><td><a ng-href="{{\'whatsapp://send?text=&phone=+6\' + current.Phone}}" class="link-text-normal" ng-bind="current.Phone"><\/a><\/td><\/tr><tr><th><label for="">Assigned To<\/label><\/th><td ng-bind="current.AssignedTo"><\/td><\/tr><tr ng-repeat="model in current.Answers"><th><label for="" ng-bind="model.Code"> <\/label><\/th><td ng-bind="model.Answer"><\/td><\/tr><tr><td colspan="2"><button class="form-button" ng-click="assignMe()" ng-disabled="!myForm.$valid || isDisabled">Assign to Me<\/button><\/td><\/tr><\/table><\/form>';window.templ.ContactLogsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/contact-log/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-if="!model.AssignedTo" bo-bind="model.CreatedOn | date: \'d-M-yyyy h:mm a\'"><\/span><span class="list-item-span" bo-if="model.AssignedTo" bo-bind="model.AssignedTo"><\/span><div class="list-item-div" bo-if="model.AssignedTo"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><div class="list-item-div icon-alert" bo-if="!model.AssignedTo"><svg class="list-item-svgl"><use xlink:href="#icon-alert"><\/use><\/svg><\/div><\/a><\/div>';window.templ.DeviceCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="delete()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><button class="menu-button" ng-click="toggleShowCommands()"><svg class="menu-svg"><use xlink:href="#icon-external-link"><\/use><\/svg> SMS Settings<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px"><table class="form-table-horizontal"><tr><th>Device ID<\/th><td><input type="text" id="Code" name="Code" ng-model="current.Code" required maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Phone No<\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>IMEI<\/th><td><input type="text" id="Location" name="Location" ng-model="current.Location" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Category<\/th><td><oi-select oi-options="item for item in categories" ng-model="current.Category" oi-select-options="{ newItem: \'autocomplete\', newItemFn: \'addCategory($query)\'}"><\/oi-select><\/td><\/tr><tr><th>Visible To<\/th><td><oi-select oi-options="item for item in userGroups" ng-model="current.VisibleTos" multiple><\/oi-select><\/td><\/tr><tr><th>Colour<\/th><td><table style="width: 100%; text-align: center;"><tr><td style="width: 25%; padding: 5px"><input id="#354069" ng-model="current.Colour" value="#354069" type="radio" name="Colour"><label for="#354069"  style="background: #354069; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#25849c" ng-model="current.Colour" value="#25849c" type="radio" name="Colour"><label for="#25849c" style="background: #25849c; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#ff8259" ng-model="current.Colour" value="#ff8259" type="radio" name="Colour"><label for="#ff8259" style="background: #ff8259; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#cd1e3d" ng-model="current.Colour" value="#cd1e3d" type="radio" name="Colour"><label for="#cd1e3d" style="background: #cd1e3d; width: 48px; height: 48px; display: inline-block"><\/label><\/td><\/tr><\/table><\/td><\/tr><tr ng-show="showCommands"><td colspan="2"><h2 style="font-size: 20px; font-weight: 600;">GPS modem settings via SMS<\/h2><div class="data-list"><a class="list-item" bindonce ng-repeat="model in commands" ng-href="{{\'sms:\' + current.Name + \'?body=\' + getSmsMessage(model)}}"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.Desc" style="white-space:normal"><\/span><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div><\/td><\/tr><\/table><\/form>';window.templ.DevicesCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/device/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.Code"><\/span><em class="list-item-em" bo-bind="model.Location"><\/em><i class="list-item-i" bo-bind="model.Category"><\/i><div class="list-item-div" bo-style="{\'background\': model.Colour}"><\/div><\/a><\/div><u-fab-link url="#!/device" icon="#icon-plus"><\/u-fab-link>';window.templ.DownloadHistoryCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><div class="list-item" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.CreatedOn | date: \'d/M/yyyy h:mm a\'"><\/span><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/div><\/div>';window.templ.DownloadsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a  ng-click="open(model)" href=""   class="list-item" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b2" bo-bind="model.Name"><\/b><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/a><\/div><u-pane visible=\'paneShown\'><div style="text-align: center;"><h1 ng-bind="filter.Name" style="padding: 120px 20px 40px 20px"><\/h1><a target="_blank" ng-href="{{filter.Url}}" class="form-button" style="width: 120px">Download<\/a><\/div><\/u-pane>';window.templ.FileCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="changeName()"><svg class="menu-svg"><use xlink:href="#icon-paperclip"><\/use><\/svg> Properties<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><div style="height: 50px">&nbsp;<\/div><u-find count="filtered.length" search-text="filter.findText"><\/u-find><div style="font-size: 0"><div ng-repeat="model in filtered = (current.FileItems | filter:filter.findText)" style="width: 160px; margin: 10px; display: inline-block; vertical-align: top"><div style="width: 160px; height: 106px; border: 1px solid #e7e7e7" ng-style="{\'background\': getBackground(model.Blob)}"><\/div><div style="font-size: 16px; text-align: center;" ng-model="model.Name" contenteditable onkeypress="window.uplus.preventNewLine(event)" ng-change="onChange(model)" ng-blur="onEndEdit(model)"><\/div><div style="font-size: 12px; color: #7d7d7d; text-align: center" ng-bind="getFileSize(model.Length)"><\/div><a class="link-text-normal" target="_system" style="font-size: 12px; display: block; text-align: center" ng-href="{{model.Blob}}">Download<\/a><\/div><\/div><form name="myForm" ng-submit="submitForm(myForm)" novalidate ng-show="current.Id > 0" style="margin: 40px auto; padding-top: 50px; background: #fff; box-shadow: 0 1px 3px 0 rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 2px 1px -1px rgba(0,0,0,.12)"><table class="form-table-vertical"><tr><td><input type="file" id="selections" multiple required style="max-width: unset" autocomplete="off" placeholder="Choose files to upload" /><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Upload<\/button><\/td><\/tr><\/table><\/form><h2 class="form-h2-title" ng-bind="progressTxt" style="text-align: center; padding: 0 10px 40px 10px"><\/h2><u-pane visible=\'paneShown\'><form name="newForm" ng-submit="onChangeName(newForm)" novalidate><table class="form-table-vertical"><tr><th><label for="Name">Please set the folder name.<\/label><\/th><\/tr><tr><td><input type="text" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!newForm.$valid || isDisabled">Submit<\/button><\/td><\/tr><\/table><\/form><\/u-pane>';window.templ.FilesCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/file/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b2" bo-bind="model.Name"><\/b><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/file" icon="#icon-plus"><\/u-fab-link>';window.templ.FormCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="changeName()"><svg class="menu-svg"><use xlink:href="#icon-paperclip"><\/use><\/svg> Properties<\/button><button class="menu-button" ng-click="remove()" ng-disabled="isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><button class="menu-button" ng-click="navTo()"><svg class="menu-svg"><use xlink:href="#icon-playback-play"><\/use><\/svg> Entries<\/button><\/u-menu><div class="table-data-simple-cont" style="max-width: 800px; margin: 120px auto 40px auto"><table class="table-data-simple"><tr><th>Field Name <small>(Clear text to remove)<\/small><\/th><th>Type<\/th><\/tr><tr ng-repeat="model in current.FormItems"><td style="width: 99%"><input type="text" ng-model="model.Name" ng-change="onChange(model)" ng-blur="onEndEdit(model, false)" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><\/td><td style="min-width: 120px"><select ng-model="model.Type" ng-change="onEndEdit(model, true)" style="max-width: unset; width: 100%; border: none; outline: none"><option value="Text">Text<\/option><option value="Number">Number<\/option><option value="Multiline">Multiline<\/option><\/select><\/td><\/tr><tr><td colspan="5" style="padding-bottom: 20px"><button class="form-button" ng-click="addItem()" type="button">Add<\/button><\/td><\/tr><\/table><\/div><u-pane visible=\'paneShown\'><form name="myForm" ng-submit="onChangeName(myForm)" novalidate><table class="form-table-vertical"><tr><th><label for="Name">Please set the form name.<\/label><\/th><\/tr><tr><td><input type="text" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Submit<\/button><\/td><\/tr><\/table><\/form><\/u-pane>';window.templ.FormEntriesCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="navTo()"><svg class="menu-svg"><use xlink:href="#icon-playback-play"><\/use><\/svg> Define<\/button><\/u-menu><u-refresh><\/u-refresh><div class="table-data-simple-cont" style="max-width: 1200px; margin: 120px auto 40px auto"><table class="table-data-simple"><tr><th style="width: 40px; max-width: 40px"><\/th><th ng-repeat="model in current.FormItems" ng-bind="model.Name" style="width: 200px"><\/th><\/tr><tr ng-repeat="row in list"><td  style="width: 40px; max-width: 40px"><a href="" ng-click="removeItem(row)" class="link-text-normal" style="font-size: 22px; text-decoration: none">&times;<\/a><\/td><td style="width: 200px" ng-repeat="model in current.FormItems"><input type="text" ng-model="row.Item[model.Name]" ng-change="onChange(row)" ng-blur="onEndEdit(row)" ng-if="model.Type == \'Text\'" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><input type="number" ng-model="row.Item[model.Name]" ng-change="onChange(row)" ng-blur="onEndEdit(row)" ng-if="model.Type == \'Number\'" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><textarea ng-model="row.Item[model.Name]" ng-change="onChange(row)" ng-blur="onEndEdit(row)" ng-if="model.Type == \'Multiline\'" style="max-width: unset; width: 100%; border: none; outline: none"><\/textarea><\/td><\/tr><tr><td colspan="{{current.FormItems.length + 1}}" style="padding-bottom: 20px"><button class="form-button" ng-click="addItem()" type="button">Add<\/button><\/td><\/tr><\/table><\/div>';window.templ.FormsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/form-entries/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b2" bo-bind="model.Name"><\/b><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/form" icon="#icon-plus"><\/u-fab-link>';window.templ.GooglePlayCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 70px"><table class="form-table-horizontal"><tr><th>From<\/th><td><u-datepicker value="current.fromd" name="fromd" required><\/u-datepicker><\/td><\/tr><tr><th>Until<\/th><td><u-datepicker value="current.untild" name="untild" required><\/u-datepicker><\/td><\/tr><tr><td colspan="2"><button class="form-button" ng-disabled="!myForm.$valid || isDisabled"> Submit<\/button><\/td><\/tr><\/table><\/form><div class="table-data-simple-cont" style="margin: 0 0 40px 0"><table class="table-data-simple" ng-show="list && list.length > 0"><tr><th>User<\/th><th style="text-align: right">Count<\/th><th style="text-align: right">Value<\/th><\/tr><tr ng-repeat="model in list"><td ng-bind="model.Code"><\/td><td ng-bind="model.TotalCard | number: 0" style="text-align: right"><\/td><td ng-bind="model.TotalAmount | number: 0" style="text-align: right"><\/td><\/tr><\/table><\/div>';window.templ.HomeCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><div style="padding: 70px 10px 0 10px"><div class="home-table-profile"><table style="width: 100%; border-collapse: collapse"><tr><td style="padding: 10px; width: 64px; vertical-align: top"><div class="home-profile-photo"><svg style="width: 32px; height: 32px; fill: #fff"><use xlink:href="#icon-user-2"><\/use><\/svg><\/div><\/td><td style="padding: 10px 10px 10px 0;"><span class="home-profile-caption" style="font-size: 16px" ng-bind="current.UserName"><\/span><span class="home-profile-caption" ng-bind="current.DbName"><\/span><a href="" class="link-text" ng-click="logout()">LOGOUT<\/a><\/td><\/tr><\/table><\/div><\/div><div class="home-container" bindonce ng-repeat="grp in current.Data"><h2 class="home-title" bo-bind="grp.Name"><\/h2><a class="home-a-item" bo-href="model.Url" ng-repeat="model in grp.Data"><svg class="home-icon"><use xlink:href="{{model.Icon}}"><\/use><\/svg><span bo-bind="model.Caption"><\/span><\/a><\/div><svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="icon-user-2" viewBox="0 0 512 512"><path d="m490 410c-16-31-70-51-144-78c-8-3-17-7-26-10l0-51c9-8 29-29 32-63c5-4 8-11 11-20c3-15 1-33-9-44c0-1 1-3 2-5c8-20 23-59 17-89c-7-37-60-50-102-50c-33 0-74 8-86 31c-13 2-23 7-30 16c-18 25-5 69 3 93c0 1 0 3 1 4c-11 10-13 28-10 44c3 9 6 16 11 20c3 34 23 55 32 63l0 51c-9 3-18 7-26 10c-74 27-128 47-144 78c-22 44-22 89-22 91c0 6 5 11 11 11l490 0c6 0 11-5 11-11c0-2 0-47-22-91z m-468 81c1-15 6-44 20-71c11-24 67-45 131-68c11-4 22-8 33-13c5-1 7-5 7-10l0-64c0-3-1-6-4-8c-1-1-28-19-28-56c0-4-3-9-8-10c-2-3-5-13-4-23c1-5 3-9 6-10c4-2 6-6 6-10c0-3-1-6-3-14c-5-17-18-58-5-74c3-5 10-8 19-8c5 0 9-3 10-8c3-11 29-23 69-23c37 0 77 12 81 33c5 24-9 59-16 77c-4 10-5 13-5 17c0 4 2 8 6 10c3 1 5 5 6 10c1 10-2 20-4 23c-5 1-8 6-8 10c0 37-27 55-28 56c-3 2-4 5-4 8l0 64c0 5 2 9 7 10c11 5 22 9 33 13c64 23 120 44 131 68c14 27 19 56 20 71z" /><\/symbol><symbol id="icon-cloud-download" viewBox="0 0 512 512"><path d="m456 194c-20-19-47-30-75-31c-27-50-79-82-136-82c-77 0-141 58-152 133c-22-2-43 5-61 19c-20 17-32 42-32 68c0 25 8 46 23 61c26 25 64 26 69 26c0 0 0 0 0 0l41 0c6 0 11-5 11-10c0-6-5-11-11-11l-41 0c0 0-33 0-54-20c-11-11-17-27-17-46c0-20 9-39 25-51c15-13 35-18 55-13l12 2l1-12c4-70 62-125 131-125c51 0 98 30 120 76l3 7l7-1c25-1 48 8 66 26c18 17 28 40 28 65c0 77-73 91-82 92l-30 0c-6 0-11 5-11 11c0 5 5 10 11 10l31 0l2 0c1 0 101-14 101-113c0-30-13-59-35-81z m-154 225l-46 46l0-188c0-6-5-10-11-10c-6 0-10 4-10 10l0 188l-46-46c-4-4-11-4-15 0c-4 4-4 11 0 15l64 64c1 1 2 2 3 3c2 0 3 0 4 0c2 0 3 0 4 0c2-1 3-2 4-3l64-64c4-4 4-11 0-15c-4-4-11-4-15 0z" /><\/symbol><symbol id="icon-cloud-upload" viewBox="0 0 512 512"><path d="m456 194c-20-19-47-30-75-31c-27-50-79-82-136-82c-77 0-141 58-152 133c-22-2-43 5-61 19c-20 17-32 42-32 68c0 25 8 46 23 61c26 25 64 26 69 26c0 0 0 0 0 0l61 0c6 0 11-5 11-10c0-6-5-11-11-11l-61 0c0 0-33 0-54-20c-11-11-17-27-17-46c0-20 9-39 25-51c15-13 35-18 55-13l12 2l1-12c4-70 62-125 131-125c51 0 98 30 120 76l3 7l7-1c25-1 48 8 66 26c18 17 28 40 28 65c0 77-73 91-82 92l-50 0c-6 0-11 5-11 11c0 5 5 10 11 10l51 0l2 0c1 0 101-14 101-113c0-30-13-59-35-81z m-203 54c-1-1-2-1-4-2c-2-1-5-1-8 0c-1 1-2 1-3 2l-64 64c-4 5-4 11 0 16c4 4 11 4 15 0l46-46l0 209c0 6 4 10 10 10c6 0 11-4 11-10l0-209l46 46c2 2 5 3 7 3c3 0 6-1 8-3c4-5 4-11 0-16z" /><\/symbol><symbol id="icon-database-search" viewBox="0 0 512 512"><path d="m509 494l-68-68c13-16 20-35 20-57c0-50-41-92-92-92c-50 0-92 42-92 92c0 51 42 92 92 92c22 0 41-7 57-20l68 68c2 2 5 3 7 3c3 0 6-1 8-3c4-4 4-11 0-15z m-210-125c0-39 31-70 70-70c39 0 71 31 71 70c0 39-32 71-71 71c-39 0-70-32-70-71z m-54-114c-11 1-21 1-32 1c-90 0-192-31-192-75l0-43c35 32 107 54 192 54c86 0 158-22 192-54l0 75c0 6 5 11 11 11c6 0 11-5 11-11l0-117c0-54-94-96-214-96c-119 0-213 42-213 96l0 277c0 54 94 96 213 96c6 0 11-4 11-10c0-6-5-11-11-11c-90 0-192-31-192-75l0-53c35 32 107 53 192 53c6 0 11-4 11-10c0-6-5-11-11-11c-90 0-192-31-192-75l0-53c35 32 107 53 192 53c11 0 22 0 33-1c6 0 10-5 10-11c0-6-5-10-11-10z m-32-234c91 0 192 31 192 75c0 44-101 75-192 75c-90 0-192-31-192-75c0-44 102-75 192-75z" /><\/symbol><symbol id="icon-add-1" viewBox="0 0 512 512"><path d="m480 235l-224 0l0-224c0-6-4-11-10-11c0 0 0 0 0 0c-6 0-11 5-11 11l0 224l-224 0c-6 0-11 4-11 10c0 6 5 11 11 11l224 0l0 224c0 6 4 11 10 11c6 0 11-5 11-11l0-224l224 0c6 0 11-5 11-11c0-6-5-10-11-10z" /><\/symbol><symbol id="icon-database-upload" viewBox="0 0 512 512"><path d="m373 235c-76 0-138 62-138 138c0 77 62 139 138 139c77 0 139-62 139-139c0-76-62-138-139-138z m0 256c-64 0-117-53-117-118c0-64 53-117 117-117c65 0 118 53 118 117c0 65-53 118-118 118z m8-179l-8-7l-50 50c-4 4-4 11 0 15c4 4 11 4 15 0l25-24l0 81c0 6 4 10 10 10c6 0 11-4 11-10l0-81l24 24c3 2 5 3 8 3c3 0 5-1 8-3c4-4 4-11 0-15z m-168-56c-90 0-192-30-192-74l0-43c35 32 107 53 192 53c86 0 158-21 192-53l0 53c0 6 5 11 11 11c6 0 11-5 11-11l0-96c0-54-94-96-214-96c-119 0-213 42-213 96l0 278c0 50 81 90 192 95c0 0 0 0 0 0c6 0 10-4 11-10c0-6-5-11-11-11c-105-5-171-42-171-74l0-53c30 27 87 47 160 52c0 0 0 0 0 0c6 0 11-5 11-10c0-6-4-11-10-12c-90-6-161-38-161-73l0-54c35 32 107 54 192 54c6 0 11-5 11-11c0-6-5-11-11-11z m0-235c113 0 192 40 192 75c0 44-101 75-192 75c-90 0-192-31-192-75c0-35 79-75 192-75z" /><\/symbol><symbol id="icon-database-download" viewBox="0 0 512 512"><path d="m373 235c-76 0-138 62-138 138c0 77 62 139 138 139c77 0 139-62 139-139c0-76-62-138-139-138z m0 256c-64 0-117-53-117-118c0-64 53-117 117-117c65 0 118 53 118 117c0 65-53 118-118 118z m35-115l-24 25l0-81c0-6-5-11-11-11c-6 0-10 5-10 11l0 81l-25-25c-4-4-11-4-15 0c-4 5-4 11 0 16l43 42c0 0 0 0 0 0l7 8l8-8c0 0 0 0 0 0l43-42c4-5 4-11 0-16c-5-4-11-4-16 0z m-195-120c-90 0-192-30-192-74l0-43c35 32 107 53 192 53c86 0 158-21 192-53l0 53c0 6 5 11 11 11c6 0 11-5 11-11l0-96c0-54-94-96-214-96c-119 0-213 42-213 96l0 278c0 50 81 90 192 95c0 0 0 0 0 0c6 0 10-4 11-10c0-6-5-11-11-11c-105-5-171-42-171-74l0-53c30 27 87 47 160 52c0 0 0 0 0 0c6 0 11-5 11-10c0-6-4-11-10-12c-90-6-161-38-161-73l0-54c35 32 107 54 192 54c6 0 11-5 11-11c0-6-5-11-11-11z m0-235c113 0 192 40 192 75c0 44-101 75-192 75c-90 0-192-31-192-75c0-35 79-75 192-75z" /><\/symbol><symbol id="icon-lock-2" viewBox="0 0 512 512"><path d="m256 299c-12 0-21 9-21 21c0 8 4 15 10 18l0 57c0 6 5 10 11 10c6 0 11-4 11-10l0-57c6-3 10-10 10-18c0-12-9-21-21-21z m128-107l0-64c0-71-57-128-128-128c-71 0-128 57-128 128l0 64l-64 0l0 320l384 0l0-320z m-235-64c0-59 48-107 107-107c59 0 107 48 107 107l0 64l-214 0z m278 363l-342 0l0-278l342 0z" /><\/symbol><symbol id="icon-forklift" viewBox="0 0 512 512"><path d="m117 107c-17 0-32 14-32 32l0 245l-53 0c-6 0-11 5-11 11c0 6 5 10 11 10l53 0l0 86l-74 0c-6 0-11 4-11 10c0 6 5 11 11 11l128 0c6 0 10-5 10-11l0-362c0-18-14-32-32-32z m-10 384l0-352c0-6 4-11 10-11c6 0 11 5 11 11l0 352z m401-148l-39-28l0-112c0-30-24-54-53-54l-43 0c-111 0-202 91-202 203l0 32c0 0 0 0 0 0l0 85c0 6 4 11 10 11l46 0c13 19 36 32 61 32c25 0 48-13 61-32l40 0c8 19 27 32 48 32c22 0 41-13 49-32l15 0c6 0 11-5 11-11l0-117c0-3-2-7-4-9z m-316 116l0-71l85-85l3 3c3 2 5 3 8 3c3 0 5-1 8-3c4-4 4-11 0-15l-11-11l-11-10c-4-4-11-4-15 0c-4 4-4 11 0 15l3 3l-70 70l0-6c0-100 81-181 181-181l43 0c18 0 32 14 32 32l0 106l-50 0l18-72c1-5-2-11-8-13c-6-1-12 2-13 8l-19 77l-35 0c-2 0-5 1-7 3l-51 51c-39 2-70 35-70 74c0 8 1 15 3 22z m96 32c-18 0-33-9-43-22c0-4-2-7-5-9c-3-7-5-14-5-23c0-29 24-53 53-53c29 0 53 24 53 53c0 9-2 16-5 23c-3 2-5 5-5 9c-10 13-25 22-43 22z m149 0c-17 0-32-15-32-32c0-18 15-32 32-32c18 0 32 14 32 32c0 17-14 32-32 32z m54-32c0-30-24-54-54-54c-29 0-53 24-53 54l-24 0c2-7 3-14 3-22c0-33-22-61-53-71l36-35l109 0l36 26z" /><\/symbol><symbol id="icon-key-2" viewBox="0 0 512 512"><path d="m128 320c-35 0-64 29-64 64c0 35 29 64 64 64c35 0 64-29 64-64c0-35-29-64-64-64z m0 107c-24 0-43-19-43-43c0-24 19-43 43-43c24 0 43 19 43 43c0 24-19 43-43 43z m331-209l47-47l-54-54l25-24c16-16 16-42 0-58c-16-15-42-15-58 0l-234 234c-18-8-37-13-57-13c-71 0-128 57-128 128c0 71 57 128 128 128c71 0 128-57 128-128c0-20-5-39-13-57l98-99l43 43l47-47l-43-43l17-17z m-58 6l-17 17l-43-43l-125 125l4 8c10 16 15 34 15 53c0 59-48 107-107 107c-59 0-107-48-107-107c0-59 48-107 107-107c19 0 37 5 53 15l8 4l245-246c8-7 20-7 28 0c7 8 7 20 0 28l-40 39l54 54l-17 17l-54-54l-47 47z" /><\/symbol><symbol id="icon-profile-gentleman-1" viewBox="0 0 512 512"><path d="m490 423c-9-32-58-50-126-74c-14-4-29-10-44-15l0-51c9-8 29-29 32-63c8-7 12-22 12-33c0-7-1-13-4-17c-2-3-5-6-8-7l0-14c0 0 0 0 0 0l43 0c6 0 10-4 10-10c0-6-4-11-10-11l-36 0l-40-110c-1-3-3-6-6-7c-3-1-6 0-9 1l-26 16c-12 7-32 7-44 0l-26-16c-3-1-6-2-9-1c-3 1-5 4-6 7l-40 110l-36 0c-6 0-10 5-10 11c0 6 4 10 10 10l43 0l0 14c-3 1-6 4-8 7c-3 4-4 10-4 17c0 11 4 26 12 33c3 34 23 55 32 63l0 51c-15 5-30 11-44 15c-68 24-117 42-126 74c-11 23-21 74-22 76c0 3 0 7 2 9c2 3 5 4 9 4l490 0c6 0 11-5 11-11c0-1 0-34-22-78z m-150-59l-14 46l-51-44l35-13c10 4 20 7 30 11z m-132-327l15 9c19 11 47 11 66 0l15-9l33 91l-162 0z m-27 176c0-5-3-9-8-10c-1-2-4-8-4-15c0-4 1-6 2-7c6 0 10-4 10-10l0-22l150 0l0 22c0 6 5 10 11 10c0 1 1 3 1 7c0 7-3 13-4 15c-5 1-8 5-8 10c0 36-27 55-28 55c-3 2-4 6-4 9l0 57l-43 17l-43-17l0-57c0-3-1-7-4-9c-1 0-28-18-28-55z m92 182l-17 17l-17-17l16-16l1-1l1 1z m-71-42l35 13l-50 43l-14-46c10-3 20-7 29-10z m-178 138c4-17 11-46 18-60c0 0 0-1 0-2c6-21 57-39 111-59l35 121z m193 0l-6 0l-18-59l29-25l21 22z m23 0l16-37l16 37z m61 0l-6 0l-26-62l21-22l29 25z m23 0l37-120c53 19 103 37 109 58c0 1 0 2 0 2c13 26 18 47 20 60z m60-54l53 0l0 22l-53 0z" /><\/symbol><symbol id="icon-dollar-bag" viewBox="0 0 512 512"><path d="m256 309c12 0 21 10 21 22c0 6 5 10 11 10c6 0 11-4 11-10c0-20-14-37-32-41l0-13c0-6-5-10-11-10c-6 0-11 4-11 10l0 13c-18 4-32 21-32 41c0 23 19 42 43 42c12 0 21 10 21 22c0 11-9 21-21 21c-12 0-21-10-21-21c0-6-5-11-11-11c-6 0-11 5-11 11c0 19 14 36 32 41l0 12c0 6 5 11 11 11c6 0 11-5 11-11l0-12c18-5 32-22 32-41c0-24-19-43-43-43c-12 0-21-10-21-21c0-12 9-22 21-22z m66-94c-2-1-4-2-7-2l-118 0c-3 0-5 1-7 2c-51 38-105 112-105 169c0 87 55 128 171 128c116 0 171-41 171-128c0-57-54-131-105-169z m-66 276c-132 0-149-54-149-107c0-49 48-115 93-149l112 0c45 34 93 100 93 149c0 53-17 107-149 107z m-75-320c-6 0-10 4-10 10c0 6 4 11 10 11l150 0c6 0 10-5 10-11c0-6-4-10-10-10z m11-32c0 6 5 10 11 10l106 0c6 0 11-4 11-10c0-39 40-100 41-101c3-4 2-9-1-13c-3-3-8-5-12-3l-65 28l-17-43c-2-4-6-7-10-7c-4 0-8 3-10 7l-17 43l-65-28c-4-2-9 0-12 3c-3 4-3 9-1 13c1 1 41 62 41 101z m38-65c3 1 6 1 9 0c2-1 5-3 6-6l11-29l11 29c1 3 4 5 6 6c3 1 6 1 9 0l44-19c-11 20-24 48-27 73l-86 0c-3-25-16-53-27-73z" /><\/symbol><symbol id="icon-photo-1" viewBox="0 0 512 512"><path d="m0 0l0 512l512 0l0-512z m491 21l0 342l-15 0l-73-145c-7-16-23-26-41-26c-17 0-32 9-40 23l-57 97c-16-20-52-56-94-56c-53 0-92 81-103 107l-47 0l0-342z m-39 342l-361 0c16-33 47-86 80-86c47 0 86 59 87 60c2 3 5 4 9 4c4 0 7-2 9-5l64-110c5-8 13-13 22-13c9 0 18 6 22 14z m-431 128l0-107l470 0l0 107z m118-299l64 0c35 0 64-29 64-64c0-35-29-64-64-64c-28 0-52 17-61 43c-24-2-46 18-46 42c0 24 19 43 43 43z m0-64c2 0 5 1 7 2l13 4l2-13c3-21 21-36 42-36c23 0 42 19 42 43c0 24-19 43-42 43l-64 0c-12 0-22-10-22-22c0-11 10-21 22-21z" /><\/symbol><symbol id="icon-receipt-1" viewBox="0 0 512 512"><path d="m256 128l43 0c6 0 10-5 10-11c0-6-4-10-10-10l-43 0c-6 0-11 4-11 10c0 6 5 11 11 11z m139 21l-118 0c-6 0-10 5-10 11c0 6 4 11 10 11l118 0c6 0 10-5 10-11c0-6-4-11-10-11z m-150 64l139 0c6 0 11-4 11-10c0-6-5-11-11-11l-139 0c-6 0-10 5-10 11c0 6 4 10 10 10z m150 22l-150 0c-6 0-10 4-10 10c0 6 4 11 10 11l150 0c6 0 10-5 10-11c0-6-4-10-10-10z m-22 64c6 0 11-5 11-11c0-6-5-11-11-11l-128 0c-6 0-10 5-10 11c0 6 4 11 10 11z m11 21l-149 0c-6 0-11 5-11 11c0 6 5 10 11 10l149 0c6 0 11-4 11-10c0-6-5-11-11-11z m128-224c0-22-3-75-32-75l-266 0c-25 0-32 28-33 43c0 2 2 182-19 299l-98 0c-9 0-17 3-23 8c-12 13-12 35-12 58c0 21 1 45-10 55c-4 5-10 7-19 7l0 21l266 0c15 0 26-4 35-13c8-8 11-18 14-30l79 0c9 0 18-4 25-11c47-48 51-258 50-351l43 0z m-226 388c-5 5-11 7-20 7l-225 0c10-17 10-41 10-62c0-17-1-36 6-43c1-1 2-2 7-2l236 0c-5 12-5 29-5 45c1 21 1 45-9 55z m31-55c0-17 0-36 6-43c1-1 3-2 7-2c4 0 8 0 10 3c4 3 4 14 4 24c-1 12-1 26 5 37l-32 0c0-6 0-13 0-19z m87 14c-5 5-9 5-10 5c-11 0-19-2-23-6c-6-7-6-19-6-31c0-15 0-29-10-39c-6-6-14-9-25-9l-146 0c21-119 19-292 19-299c0 0 1-21 11-21l238 0c-3 7-4 15-5 21c3 91 0 335-43 379z m65-358c0-10 0-17 0-21c0 0 1-21 11-21l0 0c4 2 9 20 10 42z" /><\/symbol><symbol id="icon-bubble-ask-2" viewBox="0 0 512 512"><path d="m256 37c-141 0-256 95-256 211c0 55 25 107 71 146l-51 103c-3 4-2 9 1 12c2 2 5 3 8 3c2 0 3 0 5-1l137-64c27 8 56 12 85 12c141 0 256-95 256-211c0-116-115-211-256-211z m0 401c-29 0-56-4-83-12c-2-1-5-1-7 0l-114 53l42-83c2-5 1-10-3-13c-45-36-70-84-70-135c0-104 106-189 235-189c129 0 235 85 235 189c0 105-106 190-235 190z m32-91c0 11-10 21-21 21c-12 0-22-10-22-21c0-12 10-22 22-22c11 0 21 10 21 22z m-21-212c-42 0-75 34-75 76c0 6 5 10 11 10c6 0 10-4 10-10c0-30 25-55 54-55c29 0 53 24 53 53c0 29-24 52-53 52c-6 0-11 5-11 11l0 27c0 6 5 10 11 10c6 0 10-4 10-10l0-17c36-5 64-36 64-73c0-41-33-74-74-74z" /><\/symbol><symbol id="icon-shopping-1" viewBox="0 0 512 512"><path d="m501 64l-64 0c-5 0-9 3-10 8l-26 111l-73-73c-5-4-11-4-16 0l-18 18l-102 0c-6 0-11 5-11 11l0 53l-46 0l-61-136c-1-3-4-5-6-6c-3-1-6-1-9 0l-53 26c-5 2-7 8-5 14l46 102l-26 0c-3 0-6 2-8 4c-2 3-3 7-2 10l64 192c2 4 6 7 10 7l264 0l-5 22l-227 0c-23 0-42 19-42 42c0 24 19 43 42 43c24 0 43-19 43-43c0-7-2-15-6-21l161 0c-3 6-6 14-6 21c0 24 19 43 43 43c24 0 43-19 43-43c0-19-13-35-30-40l7-29c1-2 1-3 1-5c0-1 0-1 0-1l73-309l55 0c6 0 11-4 11-10c0-6-5-11-11-11z m-181 68l60 60l-120 0z m-117 17l70 0l-43 43l-27 0z m-178-59l34-16l53 118l-41 0z m68 294l-57-171l28 0c0 0 0 0 0 0l64 0c0 0 0 0 0 0c0 0 0 0 0 0l107 0c0 0 0 0 0 0l159 0l-40 171z m46 85c0 12-10 22-22 22c-11 0-21-10-21-22c0-11 10-21 21-21c12 0 22 10 22 21z m234 0c0 12-9 22-21 22c-12 0-21-10-21-22c0-11 9-21 21-21c12 0 21 10 21 21z" /><\/symbol><symbol id="icon-ink" viewBox="0 0 512 512"><path d="m192 385l0-22l21 0c6 0 11-5 11-11l0-43c0-6-5-10-11-10l-117 0c-6 0-11 4-11 10l0 43c0 6 5 11 11 11l11 0l0 23c-66 11-101 49-106 115c0 2 1 5 3 8c2 2 5 3 8 3l279 0c3 0 6-1 8-3c2-3 3-6 2-8c-5-66-40-104-109-116z m-168 106c7-52 37-78 95-86c5 0 9-5 9-10l0-43c0-6-5-11-11-11l-10 0l0-21l96 0l0 21l-22 0c-6 0-10 5-10 11l0 43c0 5 4 10 9 10c60 8 91 35 99 86z m474-488c0 0 0 0 0 0c0 0 0 0 0 0c-1-1-1-1-2-1c-1-1-1-1-1-1c-1-1-2-1-3-1c0 0-1 0-1 0c-1 0-2 0-3 0c0 1-1 1-1 1c-1 0-2 1-2 1c-1 0-1 1-2 1c0 0 0 0 0 0c0 0 0 0 0 0l-56 59l0-51c0-4-2-8-5-9c-4-2-8-3-11-1c-22 12-58 36-90 68c-62 63-90 135-69 172c0 1 1 1 1 2l-26 27c-4 4-4 11 0 15c2 2 5 3 8 3c2 0 5-1 7-3l26-27c10 5 22 8 35 8c36 0 82-19 121-55c4-3 5-8 3-12c-1-4-5-7-10-7l-86 0l21-21c0 0 0 0 0 0l97 0c6 0 11-5 11-11c0-6-5-11-11-11l-77 0l21-21c1 0 1 0 2 0l85 0c4 0 8-2 9-5c28-49 32-97 9-120z m-162 81c24-23 50-43 69-55l0 55l-136 142c-10-27 12-86 67-142z m51 129c-40 29-80 37-103 29l27-29z m87-106l-61 0l76-79c6 18 1 48-15 79z" /><\/symbol><symbol id="icon-window-list-2" viewBox="0 0 512 512"><path d="m410 222l-222 0c-5 0-9 4-9 8c0 5 4 9 9 9l222 0c4 0 8-4 8-9c0-4-4-8-8-8z m-291 0l-34 0c-4 0-8 4-8 8c0 5 4 9 8 9l34 0c5 0 9-4 9-9c0-4-4-8-9-8z m291 68l-222 0c-5 0-9 4-9 9c0 4 4 8 9 8l222 0c4 0 8-4 8-8c0-5-4-9-8-9z m-291 0l-34 0c-4 0-8 4-8 9c0 4 4 8 8 8l34 0c5 0 9-4 9-8c0-5-4-9-9-9z m291 68l-222 0c-5 0-9 4-9 9c0 5 4 8 9 8l222 0c4 0 8-3 8-8c0-5-4-9-8-9z m-291 0l-34 0c-4 0-8 4-8 9c0 5 4 8 8 8l34 0c5 0 9-3 9-8c0-5-4-9-9-9z m342-290l-410 0c-28 0-51 23-51 51l0 291c0 28 23 51 51 51l410 0c28 0 51-23 51-51l0-291c0-28-23-51-51-51z m-410 17l410 0c19 0 34 16 34 34l0 35l-478 0l0-35c0-18 15-34 34-34z m410 359l-410 0c-19 0-34-16-34-34l0-239l478 0l0 239c0 18-15 34-34 34z m-376-325c0 10-7 18-17 18c-9 0-17-8-17-18c0-9 8-17 17-17c10 0 17 8 17 17z m52 0c0 10-8 18-18 18c-9 0-17-8-17-18c0-9 8-17 17-17c10 0 18 8 18 17z m51 0c0 10-8 18-17 18c-10 0-17-8-17-18c0-9 7-17 17-17c9 0 17 8 17 17z" /><\/symbol><symbol id="icon-download-10" viewBox="0 0 512 512"><path d="m238 253c1 1 2 2 3 2c2 1 3 1 4 1c2 0 3 0 4-1c2 0 3-1 4-2l85-85c4-5 4-11 0-16c-4-4-11-4-15 0l-67 68l0-209c0-6-5-11-11-11c-6 0-10 5-10 11l0 209l-67-68c-5-4-11-4-16 0c-4 5-4 11 0 16z m146-18l-11 0c-6 0-10 4-10 10c0 6 4 11 10 11l11 0c12 0 21 10 21 21l0 128l-320 0l0-128c0-11 10-21 22-21l10 0c6 0 11-5 11-11c0-6-5-10-11-10l-10 0c-24 0-43 19-43 42l0 150c0 23 19 42 43 42l128 0l0 22l-54 0c-6 0-10 4-10 10c0 6 4 11 10 11l128 0c6 0 11-5 11-11c0-6-5-10-11-10l-53 0l0-22l128 0c24 0 43-19 43-42l0-150c0-23-19-42-43-42z m0 213l-277 0c-12 0-22-10-22-21l320 0c0 11-9 21-21 21z" /><\/symbol><symbol id="icon-computer" viewBox="0 0 512 512"><path d="m469 341l-426 0c-24 0-43 19-43 43l0 117c0 6 5 11 11 11l490 0c6 0 11-5 11-11l0-117c0-24-19-43-43-43z m22 150l-470 0l0-107c0-12 10-21 22-21l426 0c12 0 22 9 22 21z m-420-171l370 0c27 0 50-24 50-53l0-214c0-29-23-53-50-53l-370 0c-27 0-50 24-50 53l0 214c0 29 23 53 50 53z m-28-267c0-17 12-32 28-32l370 0c16 0 28 15 28 32l0 214c0 17-12 32-28 32l-370 0c-16 0-28-15-28-32z m405-10l-384 0l0 234l384 0z m-21 213l-342 0l0-192l342 0z m-246 128l-128 0c-6 0-10 5-10 11c0 6 4 10 10 10l128 0c6 0 11-4 11-10c0-6-5-11-11-11z m-64 43l-64 0c-6 0-10 4-10 10c0 6 4 11 10 11l64 0c6 0 11-5 11-11c0-6-5-10-11-10z m139 21l213 0l0-64l-213 0z m21-43l171 0l0 22l-171 0z" /><\/symbol><symbol id="icon-clock-3" viewBox="0 0 512 512"><path d="m448 0l-384 0c-35 0-64 29-64 64l0 384c0 35 29 64 64 64l384 0c35 0 64-29 64-64l0-384c0-35-29-64-64-64z m43 448c0 24-19 43-43 43l-384 0c-24 0-43-19-43-43l0-384c0-24 19-43 43-43l384 0c24 0 43 19 43 43z m-235-384c-106 0-192 86-192 192c0 106 86 192 192 192c106 0 192-86 192-192c0-106-86-192-192-192z m0 363c-94 0-171-77-171-171c0-94 77-171 171-171c94 0 171 77 171 171c0 94-77 171-171 171z m64-171l-64 0l0-107c0-6-5-10-11-10c-6 0-10 4-10 10l0 128l85 0c6 0 11-4 11-10c0-6-5-11-11-11z" /><\/symbol><symbol id="icon-shop" viewBox="0 0 512 512"><path d="m265 307l-171 0c-5 0-9 4-9 9l0 119c0 5 4 9 9 9l171 0c4 0 8-4 8-9l0-119c0-5-4-9-8-9z m-9 120l-154 0l0-103l154 0z m255-268c0 0 0 0 0-1c0 0 0 0 0 0l-51-86c-2-2-5-4-8-4l-392 0c-3 0-6 2-8 4l-51 86c0 0 0 0 0 0c0 1 0 1 0 1c-1 1-1 2-1 3c0 0 0 0 0 0l0 17c0 37 21 66 51 75l0 249c0 5 4 9 9 9l392 0c5 0 9-4 9-9l0-252c29-11 51-40 51-72l0-17c0 0 0 0 0 0c0-1 0-2-1-3z m-23-5l-98 0l-20-69l77 0z m-113 74c-14 22-26 28-51 28c-24 0-54-7-68-21l0-64l119 0z m-238-57l102 0l0 65c-14 14-29 20-51 20c-25 0-37-7-51-28z m102-86l0 69l-100 0l21-69z m113 0l21 69l-117 0l0-69z m-287 0l77 0l-20 69l-98 0z m-48 94l0-8l102 0l0 55c-10 8-34 13-51 13c-32 0-51-30-51-60z m307 316l0-171l86 0l0 171z m120 0l-17 0l0-179c0-5-4-9-9-9l-102 0c-5 0-9 4-9 9l0 179l-239 0l0-239c15 0 41-4 58-13c14 19 30 30 62 30c25 0 44-7 60-22c19 15 51 22 76 22c32 0 48-11 62-30c15 9 35 13 49 13c3 0 6 0 9-1z m51-316c0 31-29 60-60 60c-14 0-32-4-42-13l0-55l102 0z m-102 239c0 5-4 9-9 9c-5 0-9-4-9-9c0-5 4-8 9-8c5 0 9 3 9 8z" /><\/symbol><symbol id="icon-map-pin" viewBox="0 0 512 512"><path d="m235 148l0 215c0 6 4 10 10 10c6 0 11-4 11-10l0-215c36-5 64-36 64-73c0-42-34-75-75-75c-41 0-74 33-74 75c0 37 28 68 64 73z m10-127c30 0 54 24 54 54c0 29-24 53-54 53c-29 0-53-24-53-53c0-30 24-54 53-54z m259 235l-149-42c-2-1-4-1-5 0l-43 9c-6 1-9 7-8 13c1 6 7 9 13 8l29-7l0 213l-170 38l0-213l13-3c5-1 9-7 8-12c-2-6-7-10-13-8l-19 4l-146-42c-4-1-7-1-10 1c-2 3-4 6-4 9l0 235c0 4 3 9 8 10l149 43c2 0 4 0 5 0l190-42l146 42c1 0 2 0 3 0c3 0 5-1 7-2c2-2 4-5 4-9l0-234c0-5-3-9-8-11z m-483-18l128 37l0 212l-128-36z m470 249l-128-36l0-213l128 37z m-246-423c6 0 11 5 11 11c0 6 5 10 11 10c6 0 10-4 10-10c0-18-14-32-32-32c-6 0-10 4-10 10c0 6 4 11 10 11z" /><\/symbol><symbol id="icon-buildings-1" viewBox="0 0 512 512"><path d="m111 512l341 0c5 0 9-4 9-9l0-494c0-5-4-9-9-9l-222 0c-4 0-8 4-8 9l0 179l-162 0c-5 0-9 4-9 8l0 307c0 5 4 9 9 9z m8-17l0-51l52 0l0 51z m222 0l0-51l52 0l0 51z m-102-324l60 0c4 0 8-4 8-9c0-5-4-8-8-8l-60 0l0-35l94 0c5 0 8-3 8-8c0-5-3-9-8-9l-94 0l0-34l128 0c5 0 8-4 8-8c0-5-3-9-8-9l-128 0l0-34l205 0l0 478l-34 0l0-60c0-5-4-8-9-8l-68 0c-5 0-9 3-9 8l0 60l-34 0l0-299c0-4-4-8-8-8l-43 0z m34 34l0 290l-85 0l0-60c0-5-4-8-9-8l-68 0c-5 0-9 3-9 8l0 60l-34 0l0-137l43 0c5 0 8-3 8-8c0-5-3-9-8-9l-43 0l0-34l77 0c5 0 9-4 9-8c0-5-4-9-9-9l-77 0l0-34l94 0c5 0 9-4 9-9c0-4-4-8-9-8l-94 0l0-34z" /><\/symbol><symbol id="icon-player" viewBox="0 0 512 512"><path d="m452 0l-392 0c-33 0-60 27-60 60l0 392c0 33 27 60 60 60l392 0c33 0 60-27 60-60l0-392c0-33-27-60-60-60z m43 452c0 24-19 43-43 43l-392 0c-24 0-43-19-43-43l0-392c0-24 19-43 43-43l392 0c24 0 43 19 43 43z m-60-94c5 0 9-3 9-8l0-273c0-5-4-9-9-9l-358 0c-5 0-9 4-9 9l0 273c0 5 4 8 9 8l86 0c4 48 44 86 93 86c49 0 89-38 93-86z m-350-273l342 0l0 256l-78 0c-4-47-44-85-93-85c-49 0-89 38-93 85l-78 0z m171 342c-42 0-77-35-77-77c0-42 35-77 77-77c42 0 77 35 77 77c0 42-35 77-77 77z m-110 0l-64 0c-5 0-9 3-9 8c0 5 4 9 9 9l64 0c5 0 9-4 9-9c0-5-4-8-9-8z m293 0l-65 0c-4 0-8 3-8 8c0 5 4 9 8 9l65 0c5 0 8-4 8-9c0-5-3-8-8-8z m-137-82l-68-32c-3-1-6-1-8 0c-3 2-4 5-4 8l0 64c0 3 1 6 4 7c1 1 3 2 4 2c2 0 3-1 4-1l68-32c3-2 5-5 5-8c0-3-2-6-5-8z m-63 27l0-38l40 19z" /><\/symbol><symbol id="icon-mail-box-3" viewBox="0 0 512 512"><path d="m440 102c0 0-1 0-1 0l-337 0l0-17l60 0c5 0 9-3 9-8l0-68c0-5-4-9-9-9l-68 0c-5 0-9 4-9 9l0 93l-12 0c0 0 0 1-1 1c-1 0-2-1-4-1c-42 0-68 41-68 79l0 186c0 5 4 8 9 8l264 0l0 128c0 5 4 9 9 9c4 0 8-4 8-9l0-128l213 0c5 0 9-3 9-8l0-186c0-39-31-73-72-79z m-338-85l52 0l0 51l-52 0z m-85 164c0-30 20-62 51-62c38 0 59 20 69 63l0 176l-120 0z m478 177l-341 0l0-177c0-1 0-1-1-2c-5-27-16-47-32-60l317 0c33 5 57 32 57 62z m-400-34l-43 0c-5 0-9 4-9 9c0 5 4 8 9 8l43 0c4 0 8-3 8-8c0-5-4-9-8-9z" /><\/symbol><symbol id="icon-wireless-signal" viewBox="0 0 512 512"><path d="m375 185c-5-3-10-6-16-9c-30-17-64-25-99-26c-2 0-4-1-6-1c0 0 0 0 0 0c0 0 0 0 0 0c0 0 0 0 0 0c-5 0-9 1-13 1c-3 0-6 0-9 0c-5 1-10 2-15 3c-3 0-5 0-7 1c-5 1-10 2-15 3c-2 1-4 1-6 2c-6 2-12 4-18 6c-1 1-2 1-3 1c-18 8-35 18-51 30c-2 2-3 3-5 4c-6 5-11 10-16 15l15 15c37-37 86-58 138-59c2 0 3 0 5 0c0 0 0 0 0 0c2 0 5 0 7 0c4 0 9 0 13 1c3 0 5 0 7 1c4 0 9 1 13 2c39 7 74 26 103 55l15-15c-10-11-22-20-34-28c-1-1-2-1-3-2z m-340-52l15 15c113-112 295-112 408 0l15-15c-121-120-317-120-438 0z m219 123c-36 0-71 14-98 41l15 15c13-13 28-22 43-28c42-14 90-5 123 28l15-15c-27-27-63-41-98-41z m0 107c-30 0-53 24-53 53c0 29 23 53 53 53c29 0 53-24 53-53c0-29-24-53-53-53z m0 85c-18 0-32-14-32-32c0-18 14-32 32-32c18 0 32 14 32 32c0 18-14 32-32 32z" /><\/symbol><symbol id="icon-alert-3" viewBox="0 0 512 512"><path d="m239 171l0 136c0 5 4 9 8 9c5 0 9-4 9-9l0-136c0-5-4-9-9-9c-4 0-8 4-8 9z m26 196c0 9-8 17-18 17c-9 0-17-8-17-17c0-9 8-17 17-17c10 0 18 8 18 17z m-11-296c-4-4-9-4-13 0l-187 188c-4 3-4 8 0 12l187 187c2 2 4 3 6 3c3 0 5-1 7-3l187-187c4-4 4-9 0-12z m-7 369l-175-175l175-176l176 176z" /><\/symbol><symbol id="icon-truck-2" viewBox="0 0 512 512"><path d="m503 154l-290 0c-4 0-8 3-8 8l0 43l-94 0c-3 0-6 1-7 4l-51 84l-50 42c-2 1-3 4-3 6l0 128c0 5 4 9 9 9l45 0c7 20 26 34 48 34c23 0 42-14 49-34l210 0c7 20 26 34 49 34c22 0 41-14 48-34l45 0c5 0 9-4 9-9l0-307c0-5-4-8-9-8z m-281 17l273 0l0 239l-273 0z m-157 134c1 0 2-1 2-2l49-81l89 0l0 188l-188 0l0-65z m-48 156l0-34l47 0c-8 9-13 21-13 34z m85 34c-18 0-34-15-34-34c0-19 16-34 34-34c19 0 35 15 35 34c0 19-16 34-35 34z m52-34c0-13-5-25-14-34l232 0c-9 9-14 21-14 34z m256 34c-19 0-35-15-35-34c0-19 16-34 35-34c18 0 34 15 34 34c0 19-16 34-34 34z m51-34c0-13-5-25-13-34l47 0l0 34z m-362-138c1 1 2 1 3 1c4 0 7-1 8-4l32-64l12 0c4 0 8-4 8-9c0-4-4-8-8-8l-17 0c-4 0-7 2-8 5l-34 68c-2 4-1 9 4 11z" /><\/symbol><symbol id="icon-calculator-3" viewBox="0 0 512 512"><path d="m405 0l-277 0c-35 0-64 29-64 64l0 384c0 35 29 64 64 64l277 0c36 0 64-29 64-64l0-384c0-35-28-64-64-64z m-277 21l277 0c24 0 43 19 43 43l0 107l-363 0l0-107c0-24 19-43 43-43z m149 171l171 0l0 128l-171 0z m-21 128l-171 0l0-128l171 0z m-171 128l0-107l171 0l0 150l-128 0c-24 0-43-19-43-43z m320 43l-128 0l0-150l171 0l0 107c0 24-19 43-43 43z m-269-342l261 0c16 0 30-13 30-29l0-48c0-16-14-29-30-29l-261 0c-16 0-29 13-29 29l0 48c0 16 13 29 29 29z m-8-77c0-4 4-8 8-8l261 0c5 0 8 4 8 8l0 48c0 4-3 8-8 8l-261 0c-4 0-8-4-8-8z m0 195l32 0l0 32l21 0l0-32l32 0l0-22l-32 0l0-32l-21 0l0 32l-32 0z m192-11l85 0l0 21l-85 0z m-108 184l-26-26l26-26l-15-15l-26 26l-26-26l-16 15l27 26l-27 26l16 16l26-27l26 27z m108-13l85 0l0 21l-85 0z m0-43l85 0l0 21l-85 0z" /><\/symbol><symbol id="icon-sync-1" viewBox="0 0 512 512"><path d="m144 223c-5-4-11-3-15 1l-49 59c-5-40 3-79 24-113c24-39 62-66 107-76c61-15 125 6 167 53c4 4 11 5 15 1c5-4 5-11 1-15c-47-53-119-76-188-60c-50 12-93 42-120 86c-22 36-31 77-28 119l-40-60c-3-5-10-6-15-3c-5 4-6 10-3 15l60 89c2 3 5 4 8 5c0 0 0 0 1 0c3 0 6-2 8-4l68-82c4-4 3-11-1-15z m356 88l-60-89c-2-2-5-4-8-4c-3-1-7 1-9 3l-68 82c-4 5-4 11 1 15c5 4 11 3 15-1l48-57c1 78-51 147-130 166c-58 13-117-3-159-45c-4-4-11-4-15 0c-4 4-4 11 0 15c36 36 85 56 135 56c14 0 29-2 44-5c89-21 148-99 146-187l42 63c2 3 5 5 9 5c2 0 4-1 6-2c4-3 6-10 3-15z m-288-89c-20 21-21 55 0 76c10 10 24 15 38 15c14 0 28-5 38-15c20-21 21-55 0-76c-10-10-24-15-38-15c-14 0-28 5-38 15z m61 61c-13 12-34 12-46 0c-12-13-12-33 0-46c6-6 14-9 23-9c9 0 17 3 23 9c12 13 12 33 0 46z" /><\/symbol><symbol id="icon-contacts-2" viewBox="0 0 512 512"><path d="m224 334l0-29c8-6 20-21 21-52c9-6 14-19 14-32c0-7-2-14-5-18c-1-3-3-5-5-6c5-11 12-30 7-50c-8-30-45-40-75-40c-26 0-59 8-71 31c-13-1-19 5-23 10c-8 13 0 34 6 48c-2 2-4 4-6 7c-3 5-5 11-5 18c0 13 5 26 14 32c2 31 13 46 21 52l0 29c-40 16-117 51-117 71l0 96c0 6 5 11 11 11l320 0c6 0 10-5 10-11l0-96c0-20-77-55-117-71z m96 157l-299 0l0-83c9-10 56-35 111-57c4-1 7-5 7-10l0-42c0-5-3-9-7-10c0 0-15-7-15-44c0-5-4-10-9-10c-3-3-6-12-4-19c1-3 2-3 3-3c6 0 10-4 10-10c0-4-1-7-4-13c-9-22-9-29-8-30c0 0 1-1 4-1c1 0 4 0 6 1c6 1 11-3 13-8c3-14 26-24 53-24c28 0 51 10 54 24c4 15-3 31-7 40c-2 4-3 7-3 11c0 6 5 10 11 10c0 1 2 3 2 8c0 6-3 12-4 14c-6 0-10 5-10 10c0 36-14 44-14 44c0 0 0 0 0 0c-4 1-7 5-7 10l0 42c0 5 2 9 6 10c55 22 103 47 111 57z m127-124c-10-4-21-8-31-12l0-18c8-5 19-17 21-42c7-6 11-19 11-31c0-5-1-12-4-18c-1-2-2-3-3-5c5-9 12-25 6-42c-7-23-39-31-63-31c-21 0-48 6-59 23c-9 0-15 2-19 8c-10 11-4 29 1 41c-2 2-4 4-5 6c-3 6-4 13-4 18c0 12 4 25 12 31c1 25 13 37 21 42l0 15c0 6 4 11 10 11c6 0 11-5 11-11l0-21c0-5-3-9-8-11c0 0-13-5-13-32c0-5-4-9-8-10c-3-5-4-18-2-22c5-1 10-5 10-11c0-3-1-5-3-10c-5-13-7-20-6-22c0 0 1-1 7 0c5 1 10-2 12-7c3-9 22-17 43-17c21 0 40 8 43 17c4 10-3 22-7 28c-2 5-4 8-4 11c0 6 4 10 9 11c3 4 2 17-1 22c-5 1-8 5-8 10c0 27-13 32-14 32c-4 2-7 6-7 11l0 32c0 4 2 8 6 10c13 4 26 9 38 14c19 7 45 16 52 21l0 83l-107 0c-6 0-11 4-11 10c0 6 5 11 11 11l117 0c6 0 11-5 11-11l0-96c0-14-19-22-65-38z" /><\/symbol><symbol id="icon-check" viewBox="0 0 512 512"><path d="m435 358l-256 0c-5 0-8 4-8 9c0 5 3 8 8 8l256 0c5 0 9-3 9-8c0-5-4-9-9-9z m0-68l-170 0c-5 0-9 4-9 9c0 4 4 8 9 8l170 0c5 0 9-4 9-8c0-5-4-9-9-9z m-426 171l494 0c5 0 9-4 9-9l0-273c0-5-4-8-9-8l-201 0l62-63c4-3 4-8 0-12l-42-42c-4-4-9-4-12 0l-33 33l-23-25c-2-1-4-2-6-2c-3 0-5 1-7 2l-68 69c-3 3-3 8 0 12c2 1 4 2 6 2c2 0 5-1 6-2l62-63l18 19l-72 72l-184 0c-5 0-9 3-9 8l0 273c0 5 4 9 9 9z m110-132l-30-30l113-114l37-36l31 30z m-38-14l22 22l-31 9z m235-243l30 30l-64 65l-31-30z m-299 116l159 0l-105 105c-1 0-1 1-2 2c0 0 0 1 0 1c0 0 0 0 0 0l-17 60c-1 3 0 6 2 8c1 2 3 3 6 3c1 0 1 0 2 0l60-17c0-1 0-1 0-1c1 0 1 0 1 0c1 0 2-1 3-2l159-159l210 0l0 256l-478 0z" /><\/symbol><\/svg>';window.templ.InboxCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div style="height: 70px"><\/div><div ng-repeat="model in list" bindonce ><div class="chat-div-notme"><p><img class="chat-img-photo" bo-src="model.Photo" bo-if="model.Photo" bo-style="{\'width\': model.W + \'px\', \'height\': model.H + \'px\'}" ng-click="showPhoto(model.Photo)" /><a bo-href="model.Url" bo-bind="model.Memo"><\/a><\/p><small class="chat-small-notme" bo-bind="model.CreatedBy + \' - \' + (model.CreatedOn | date: \'d-M-yyyy h:mm a\')"><\/small><\/div><div class="clear"><\/div><\/div><u-pane visible=\'paneShown\'><img ng-src="{{display}}" style="max-width: 100%" id="currentPhoto" /><\/u-pane>';window.templ.LoginCtrl='<div class="container-dark"><form name="myForm" ng-submit="submitForm(myForm)" novalidate><table class="form-table-vertical"><tr><td class="form-title-large"><span ng-bind="current.Title"><\/span>&nbsp;<span class="text-accent" ng-bind="current.Accent">Studio<\/span><\/td><\/tr><tr><th>User ID<\/th><\/tr><tr><td><input id="Code" name="Code" type="text" ng-model="current.Code" required autocomplete="off" /><\/td><\/tr><tr><th>Password<\/th><\/tr><tr><td><input type="password" id="Password" name="Password" ng-model="current.Password" required autocomplete="off" /><\/td><\/tr><tr ng-show="current.canShowAccount"><th>Account ID<\/th><\/tr><tr ng-show="current.canShowAccount"><td><input id="Account" name="Account" type="text" ng-model="current.Account" required autocomplete="off" /><\/td><\/tr><tr ng-show="current.isPhoneGap"><td><input type="checkbox" style="width: 24px; height: 24px;" id="Remember" name="Remember" ng-model="current.RememberPassword" /> <span style="display: inline-block; font-size: 14px; vertical-align: top; margin: 2px 0 20px 10px">Remember password<\/span><\/td><\/tr><tr><td style="padding-top: 25px"><button class="link-button-pink" ng-disabled="!myForm.$valid || isDisabled">Login<\/button><\/td><\/tr><tr><td style="padding-top: 40px; text-align: center; font-size: 14px;" ng-bind="current.Version"><\/td><\/tr><\/table><\/form><\/div>';window.templ.LongiClearanceExportsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos ng-class="filter.findText ? \'data-list-onfind\' : \'data-list-notonfind\'"><a class="list-item" bo-href="\'#!/longi-clearance-export/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Caption"><\/b><span class="list-item-span show-on-find" bo-bind="model.ContainerNo" style="white-space: normal"><\/span><span class="list-item-span hide-on-find" bo-bind="model.Status"><\/span><div class="list-item-div" bo-bind="model.Count"><\/div><\/a><\/div>';window.templ.LongiClearanceImportsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos ng-class="filter.findText ? \'data-list-onfind\' : \'data-list-notonfind\'"><a class="list-item" bo-href="\'#!/longi-clearance-import/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Caption"><\/b><span class="list-item-span show-on-find" bo-bind="model.ContainerNo" style="white-space: normal">&nbsp;<\/span><span class="list-item-span hide-on-find" bo-bind="model.Status"><\/span><div class="list-item-div" bo-bind="model.Count"><\/div><\/a><\/div>';window.templ.LongiExportContainerCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="  padding-top: 70px"><table class="form-table-horizontal"><tr><th>Container No<\/th><td><b ng-bind="current.ContainerNo"> <\/b><\/td><\/tr><tr><th>Cargo Type<\/th><td><b ng-bind="current.CargoType"> <\/b><\/td><\/tr><tr><th>Send Date<\/th><td><b ng-bind="current.SendDate | date: \'d/M/yyyy\'"> <\/b><\/td><\/tr><tr><th>Return to Port<\/th><td><b ng-bind="current.ReturnDate | date: \'d/M/yyyy\'"> <\/b><\/td><\/tr><tr><th>ETD Date<\/th><td><b ng-bind="current.EtdOrExpiryDate | date: \'d/M/yyyy\'"><\/b><\/td><\/tr><tr><th>Job No<\/th><td><b ng-bind="current.JobNo"><\/b><\/td><\/tr><tr><th>Delivery Order<\/th><td><a href="" class="link-text-normal" ng-click="findDo()">VIEW<\/a><\/td><\/tr><tr><th>Haulage Invoice No<\/th><td><b ng-bind="current.HaulInvoiceNo"><\/b><\/td><\/tr><tr><th>Haulage GST Excl.<\/th><td><b ng-bind="current.HaulInvoiceTaxExcl | number: 2"><\/b><\/td><\/tr><tr><th>Haulage GST<\/th><td><b ng-bind="current.HaulInvoiceTax | number: 2"><\/b><\/td><\/tr><tr><th>Haulage GST Incl.<\/th><td><b ng-bind="current.HaulInvoiceTaxIncl | number: 2"><\/b><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.ClosedCont"><th>Attachment<\/th><td><u-fileinput propname="\'ClosedCont\'" description="filter.ClosedCont" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ClosedContIsImg" url="current.ClosedCont"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.EmptyCont"><th>Attachment<\/th><td><u-fileinput propname="\'EmptyCont\'" description="filter.EmptyCont" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.EmptyContIsImg" url="current.EmptyCont"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.LastPalletStrapping"><th>Attachment<\/th><td><u-fileinput propname="\'LastPalletStrapping\'" description="filter.LastPalletStrapping" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.LastPalletStrappingIsImg" url="current.LastPalletStrapping"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.HalfDoorCont"><th>Attachment<\/th><td><u-fileinput propname="\'HalfDoor\'" description="filter.HalfDoorCont" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.HalfDoorIsImg" url="current.HalfDoor"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.MiscCont"><th>Attachment<\/th><td><u-fileinput propname="\'MiscCont\'" description="filter.MiscCont" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.MiscContIsImg" url="current.MiscCont"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.CustomsSeal"><th>Attachment<\/th><td><u-fileinput propname="\'CustomsSeal\'" description="filter.CustomsSeal" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.CustomsSealIsImg" url="current.CustomsSeal"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.ShippingSeal"><th>Attachment<\/th><td><u-fileinput propname="\'ShippingSeal\'" description="filter.ShippingSeal" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ShippingSealIsImg" url="current.ShippingSeal"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.FullViewCont"><th>Attachment<\/th><td><u-fileinput propname="\'FullViewCont\'" description="filter.FullViewCont" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.FullViewContIsImg" url="current.FullViewCont"><\/u-fileinput><\/td><\/tr><\/table><\/form>';window.templ.LongiExportCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg><\/button><button class="menu-button" ng-click="submitForm(myForm, null)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><select style="max-width: 113px" class="menu-select" ng-disabled="!myForm.$valid || isDisabled" ng-change="onSubmitOrder()" ng-model="filter.submitType"><option value="" disabled>Submit Order<\/option><option value="OrderNormal">Normal<\/option><option value="OrderUrgent">Urgent<\/option><\/select><button class="menu-button" ng-click="submitForm(myForm, \'CreateJob\')" ng-disabled="!myForm.$valid || isDisabled">Create Job<\/button><button class="menu-button" ng-click="submitForm(myForm, \'CreateInvoice\')" ng-disabled="!myForm.$valid || isDisabled">Create Invoice<\/button><button class="menu-button" ng-click="submitForm(myForm, \'Close\')" ng-disabled="!myForm.$valid || isDisabled">Close<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="text-align: center; max-width: 1140px; margin: 0 auto; padding-top: 120px"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Status<\/th><td><input type="text" id="Status" name="Status" ng-model="current.Status" readonly maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>SO No<\/th><td><input type="text" id="SoNo" name="SoNo" ng-model="current.SoNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>HBL/HAWB<\/th><td><input type="text" id="Hbl" name="Hbl" ng-model="current.Hbl" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>MBL/MAWB<\/th><td><input type="text" id="Mbl" name="Mbl" ng-model="current.Mbl" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Insurance<\/th><td><oi-select oi-options="item for item in filter.insurances" ng-model="current.Insurance" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Forwarder<\/th><td><oi-select oi-options="item for item in filter.forwarders" ng-model="current.Forwarder" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>LK<\/th><td><oi-select oi-options="item for item in filter.lks" ng-model="current.Lk" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>LS<\/th><td><oi-select oi-options="item for item in filter.lks" ng-model="current.Ls" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Term Location<\/th><td><input type="text" id="TermLocation" name="TermLocation" ng-model="current.TermLocation" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>PO/SC<\/th><td><input type="text" id="PoSc" name="PoSc" ng-model="current.PoSc" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Plant<\/th><td><oi-select oi-options="item for item in filter.plants" ng-model="current.Plant" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Recipient<\/th><td><input type="text" id="Recipient" name="Recipient" ng-model="current.Recipient" maxlength="50" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0  && filter.containerRelease"><th>Attachment<\/th><td><u-fileinput propname="\'ContainerRelease\'" description="filter.containerRelease" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ContainerReleaseIsImg" url="current.ContainerRelease"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.shippingOrder"><th>Attachment<\/th><td><u-fileinput propname="\'ShippingOrder\'" description="filter.shippingOrder" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ShippingOrderIsImg" url="current.ShippingOrder"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0  && filter.shippingOrder1"><th>Attachment<\/th><td><u-fileinput propname="\'ShippingOrder1\'" description="filter.shippingOrder1" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ShippingOrder1IsImg" url="current.ShippingOrder1"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0  && filter.shippingOrder2"><th>Attachment<\/th><td><u-fileinput propname="\'ShippingOrder2\'" description="filter.shippingOrder2" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ShippingOrder2IsImg" url="current.ShippingOrder2"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Destination<\/th><td><input type="text" id="Destination" name="Destination" ng-model="current.Destination" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Description<\/th><td><input type="text" id="Description" name="Description" ng-model="current.Description" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Quantity<\/th><td><input type="number" id="Quantity" name="Quantity" ng-model="current.Quantity" autocomplete="off" /><\/td><\/tr><tr><th>UoM<\/th><td><oi-select oi-options="item for item in filter.uoms" ng-model="current.Uom" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Cargo Count<\/th><td><input type="number" id="CargoCount" name="CargoCount" ng-model="current.CargoCount" autocomplete="off" /><\/td><\/tr><tr><th>Cargo Type<\/th><td><oi-select oi-options="item for item in filter.cargoTypes" ng-model="current.CargoType" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Weight (kg)<\/th><td><input type="number" id="Weight" name="Weight" ng-model="current.Weight" autocomplete="off" /><\/td><\/tr><tr><th>Volume (m3)<\/th><td><input type="number" id="Volume" name="Volume" ng-model="current.Volume" autocomplete="off" /><\/td><\/tr><tr><th>1st Vessel/Flight<\/th><td><input type="text" id="Vessel1" name="Vessel1" ng-model="current.Vessel1" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>2nd Vessel/Flight<\/th><td><input type="text" id="Vessel2" name="Vessel2" ng-model="current.Vessel2" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>3rd Vessel/Flight<\/th><td><input type="text" id="Vessel3" name="Vessel3" ng-model="current.Vessel3" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Pickup Date <\/th><td><u-datepicker value="current.PickupDate" name="PickupDate"><\/u-datepicker><\/td><\/tr><tr ng-show="current.Id !== 0  && filter.invoice"><th>Attachment<\/th><td><u-fileinput propname="\'Invoice\'" description="filter.invoice" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.InvoiceIsImg" url="current.Invoice"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0  && filter.packingList"><th>Attachment<\/th><td><u-fileinput propname="\'PackingList\'" description="filter.packingList" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.PackingListIsImg" url="current.PackingList"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.vgmForm"><th>Attachment<\/th><td><u-fileinput propname="\'VgmForm\'" description="filter.vgmForm" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.VgmFormIsImg" url="current.VgmForm"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Cut Off Date <\/th><td><u-datepicker value="current.CutOffDate" name="CutOffDate"><\/u-datepicker><\/td><\/tr><tr><th style="font-weight: 700">ETD Origin <\/th><td><u-datepicker value="current.EtdOrigin" name="EtdOrigin" required><\/u-datepicker><\/td><\/tr><tr><th>ATD Origin <\/th><td><u-datepicker value="current.AtdOrigin" name="AtdOrigin"><\/u-datepicker><\/td><\/tr><tr><th>ETD Transit <\/th><td><u-datepicker value="current.EtdTransit" name="EtdTransit"><\/u-datepicker><\/td><\/tr><tr><th>ATD Transit <\/th><td><u-datepicker value="current.AtdTransit" name="AtdTransit"><\/u-datepicker><\/td><\/tr><tr><th>Transit Point<\/th><td><input type="text" id="TransitPoint" name="TransitPoint" ng-model="current.TransitPoint" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>ETA Dest.<\/th><td><u-datepicker value="current.EtaDest" name="EtaDest"><\/u-datepicker><\/td><\/tr><tr><th>ATA Dest.<\/th><td><u-datepicker value="current.AtaDest" name="AtaDest"><\/u-datepicker><\/td><\/tr><tr><th>Delivery Date<\/th><td><u-datepicker value="current.DeliveryDate" name="DeliveryDate"><\/u-datepicker><\/td><\/tr><tr><th>Delivery Location<\/th><td><input type="text" id="DeliveryLocation" name="DeliveryLocation" ng-model="current.DeliveryLocation" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Remark<\/th><td><input type="text" id="DeliveryRemark" name="DeliveryRemark" ng-model="current.DeliveryRemark" maxlength="50" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.k8Draft"><th>Attachment<\/th><td><u-fileinput propname="\'K8Draft\'" description="filter.k8Draft" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8DraftIsImg" url="current.K8Draft"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.k8Start"><th>Attachment<\/th><td><u-fileinput propname="\'K8Start\'" description="filter.k8Start" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8StartIsImg" url="current.K8Start"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.k8Release"><th>Attachment<\/th><td><u-fileinput propname="\'K8Release\'" description="filter.k8Release" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8ReleaseIsImg" url="current.K8Release"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.k8Form"><th>Attachment<\/th><td><u-fileinput propname="\'K8Form\'" description="filter.k8Form" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8FormIsImg" url="current.K8Form"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.k8Amendment"><th>Attachment<\/th><td><u-fileinput propname="\'K8Amendment\'" description="filter.k8Amendment" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8AmendmentIsImg" url="current.K8Amendment"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="table-data-simple-cont"><table class="table-data-simple" ng-show="current.FwdInvoiceNo"><tr><th>Fwd. Invoice No<\/th><th style="text-align: right">GST Excl.<\/th><th style="text-align: right">GST<\/th><th style="text-align: right">GST Incl.<\/th><\/tr><tr><td ng-bind="current.FwdInvoiceNo"><\/td><td ng-bind="current.FwdInvoiceTaxExcl | number: 2" style="text-align: right"><\/td><td ng-bind="current.FwdInvoiceTax | number: 2" style="text-align: right"><\/td><td ng-bind="current.FwdInvoiceTaxIncl | number: 2" style="text-align: right"><\/td><\/tr><\/table><\/div><table class="table-data-simple"  ng-show="current.Costs"><tr><th>Date<\/th><th>Purchase Bill<\/th><th style="text-align: right">GST Excl.<\/th><th style="text-align: right">GST<\/th><th style="text-align: right">GST Incl.<\/th><th>Reference No<\/th><th>Received Date<\/th><th>Created On<\/th><\/tr><tr ng-repeat="model in current.Costs"><td ng-bind="model.DocumentDate | date: \'d/M/yyyy\'"><\/td><td ng-bind="model.DocumentNo"><\/td><td ng-bind="model.TaxExclusive | number: 2" style="text-align: right"><\/td><td ng-bind="model.Gst | number: 2" style="text-align: right"><\/td><td ng-bind="model.TaxInclusive | number: 2" style="text-align: right"><\/td><td ng-bind="model.ReferenceNo"><\/td><td ng-bind="model.ReceivedDate | date: \'d/M/yyyy\'"><\/td><td ng-bind="model.CreatedOn | date: \'d/M/yyyy\'"><\/td><\/tr><tr><th>Total:<\/th><th><\/th><th ng-bind="current.TaxExclusiveTotal | number: 2"  style="text-align: right"><\/th><th ng-bind="current.GstTotal | number: 2" style="text-align: right"><\/th><th ng-bind="current.TaxInclusiveTotal | number: 2" style="text-align: right"><\/th><th><\/th><th><\/th><th><\/th><\/tr><\/table><div class="data-list" style="margin: 40px 0; padding: 0"><div class="list-item" ng-repeat="model in current.Containers" ng-show="model.Id >= 0"><a class="list-item-div" ng-href="{{(model.Id > 0 ? \'#!/longi-export-container/\' + model.Id : \'\')}}"><svg class="list-item-svgl" ng-show="model.ReturnDate"><use xlink:href="#icon-check-1"><\/use><\/svg><svg class="list-item-svgl" ng-show="!model.ReturnDate"><use xlink:href="#icon-hourglass"><\/use><\/svg><\/a><div class="list-item-b"><table style="width: 250px"><tr><td><input type="text" ng-model="model.ContainerNo" placeholder="Container No" maxlength="20" autocomplete="off" /><\/td><td style="width: 90px"><oi-select oi-options="item for item in filter.cargoTypes" ng-model="model.CargoType" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><\/table><\/div><span class="list-item-span ">Send <span ng-bind="(model.SendDate ? (model.SendDate | date: \'d/M/yyyy\') : \'-\')"><\/span>,&nbsp;Return <span ng-bind="(model.ReturnDate ? (model.ReturnDate | date: \'d/M/yyyy\') : \'-\')"><\/span><\/span><button type="button" class="list-item-i" ng-click="removeCont(model)"><svg class="list-item-svgs"><use xlink:href="#icon-close"><\/use><\/svg><\/button><em class="list-item-em" ng-bind="$index + 1"><\/em><\/div><\/div><button class="form-button" ng-click="addCont()" type="button">Add<\/button><div class="form-status-div">Created On:  <span ng-bind="current.CreatedBy"><\/span> ~ <span ng-bind="current.CreatedOn | date: \'d/M/yyyy h:mm a\'"><\/span>, Last Modified:  <span ng-bind="current.LastEditedBy"><\/span> ~ <span ng-bind="current.LastModified | date: \'d/M/yyyy h:mm a\'"><\/span><\/div><\/form>';window.templ.LongiExportsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 170px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><div style="height: 50px"><\/div><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos ng-class="filter.findText ? \'data-list-onfind\' : \'data-list-notonfind\'"><a class="list-item" bo-href="\'#!/longi-export/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Caption"><\/b><span class="list-item-span show-on-find" bo-bind="model.ContainerNo" style="white-space: normal"><\/span><span class="list-item-span hide-on-find" bo-bind="model.Status"><\/span><div class="list-item-div" bo-bind="model.Count"><\/div><\/a><\/div><u-fab-link url="#!/longi-export" icon="#icon-plus"><\/u-fab-link>';window.templ.LongiImportContainerCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 70px"><table class="form-table-horizontal"><tr><th>Container No<\/th><td><b ng-bind="current.ContainerNo"> <\/b><\/td><\/tr><tr><th>Cargo Type<\/th><td><b ng-bind="current.CargoType"> <\/b><\/td><\/tr><tr><th>Send Date<\/th><td><b ng-bind="current.SendDate | date: \'d/M/yyyy\'"> <\/b><\/td><\/tr><tr><th>Return to Port<\/th><td><b ng-bind="current.ReturnDate | date: \'d/M/yyyy\'"> <\/b><\/td><\/tr><tr><th>Port Expiry<\/th><td><b ng-bind="current.EtdOrExpiryDate | date: \'d/M/yyyy\'"><\/b><\/td><\/tr><tr><th>Empty Expiry<\/th><td><b ng-bind="current.EmptyExpiryDate | date: \'d/M/yyyy\'"><\/b><\/td><\/tr><tr><th>Job No<\/th><td><b ng-bind="current.JobNo"><\/b><\/td><\/tr><tr><th>Delivery Order<\/th><td><a href="" class="link-text-normal" ng-click="findDo()">VIEW<\/a><\/td><\/tr><tr><th>Haulage Invoice No<\/th><td><b ng-bind="current.HaulInvoiceNo"><\/b><\/td><\/tr><tr><th>Haulage GST Excl.<\/th><td><b ng-bind="current.HaulInvoiceTaxExcl | number: 2"><\/b><\/td><\/tr><tr><th>Haulage GST<\/th><td><b ng-bind="current.HaulInvoiceTax | number: 2"><\/b><\/td><\/tr><tr><th>Haulage GST Incl.<\/th><td><b ng-bind="current.HaulInvoiceTaxIncl | number: 2"><\/b><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.ConvoyNote"><th>Attachment<\/th><td><u-fileinput propname="\'ConvoyNote\'" description="filter.ConvoyNote" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ConvoyNoteIsImg" url="current.ConvoyNote"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.CustomsSeal"><th>Attachment<\/th><td><u-fileinput propname="\'CustomsSeal\'" description="filter.CustomsSeal" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.CustomsSealIsImg" url="current.CustomsSeal"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.ShippingSeal"><th>Attachment<\/th><td><u-fileinput propname="\'ShippingSeal\'" description="filter.ShippingSeal" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ShippingSealIsImg" url="current.ShippingSeal"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.FullViewCont"><th>Attachment<\/th><td><u-fileinput propname="\'FullViewCont\'" description="filter.FullViewCont" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.FullViewContIsImg" url="current.FullViewCont"><\/u-fileinput><\/td><\/tr><\/table><\/form>';window.templ.LongiImportCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg><\/button><button class="menu-button" ng-click="submitForm(myForm, null)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><select style="max-width: 113px" class="menu-select" ng-disabled="!myForm.$valid || isDisabled" ng-change="onSubmitOrder()" ng-model="filter.submitType"><option value="" disabled>Submit Order<\/option><option value="OrderNormal">Normal<\/option><option value="OrderUrgent">Urgent<\/option><\/select><button class="menu-button" ng-click="submitForm(myForm, \'CreateJob\')" ng-disabled="!myForm.$valid || isDisabled">Create Job<\/button><button class="menu-button" ng-click="submitForm(myForm, \'CreateInvoice\')" ng-disabled="!myForm.$valid || isDisabled">Create Invoice<\/button><button class="menu-button" ng-click="submitForm(myForm, \'Close\')" ng-disabled="!myForm.$valid || isDisabled">Close<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="text-align: center; max-width: 1140px; margin: 0 auto; padding-top: 120px"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Status<\/th><td><input type="text" id="Status" name="Status" ng-model="current.Status" readonly maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>HBL/HAWB<\/th><td><input type="text" id="Hbl" name="Hbl" ng-model="current.Hbl" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>MBL/MAWB<\/th><td><input type="text" id="Mbl" name="Mbl" ng-model="current.Mbl" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Insurance<\/th><td><oi-select oi-options="item for item in filter.insurances" ng-model="current.Insurance" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Forwarder<\/th><td><oi-select oi-options="item for item in filter.forwarders" ng-model="current.Forwarder" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Term<\/th><td><oi-select oi-options="item for item in filter.terms" ng-model="current.Term" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Term Location<\/th><td><input type="text" id="TermLocation" name="TermLocation" ng-model="current.TermLocation" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>PO/SC<\/th><td><input type="text" id="PoSc" name="PoSc" ng-model="current.PoSc" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Material<\/th><td><input type="text" id="Material" name="Material" ng-model="current.Material" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Plant<\/th><td><oi-select oi-options="item for item in filter.plants" ng-model="current.Plant" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Recipient<\/th><td><input type="text" id="Recipient" name="Recipient" ng-model="current.Recipient" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Origin<\/th><td><input type="text" id="Origin" name="Origin" ng-model="current.Origin" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Description<\/th><td><input type="text" id="Description" name="Description" ng-model="current.Description" maxlength="50" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.InvoiceClearance"><th>Attachment<\/th><td><u-fileinput propname="\'InvoiceClearance\'" description="filter.InvoiceClearance" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.InvoiceClearanceIsImg" url="current.InvoiceClearance"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.PackingListClearance"><th>Attachment<\/th><td><u-fileinput propname="\'PackingListClearance\'" description="filter.PackingListClearance" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.PackingListClearanceIsImg" url="current.PackingListClearance"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.InvoiceConsignee"><th>Attachment<\/th><td><u-fileinput propname="\'InvoiceConsignee\'" description="filter.InvoiceConsignee" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.InvoiceConsigneeIsImg" url="current.InvoiceConsignee"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.PackingListConsignee"><th>Attachment<\/th><td><u-fileinput propname="\'PackingListConsignee\'" description="filter.PackingListConsignee" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.PackingListConsigneeIsImg" url="current.PackingListConsignee"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal"><tr><th>HS Code<\/th><td><textarea id="HsCode" name="HsCode" ng-model="current.HsCode" maxlength="1000" rows="5"><\/textarea><\/td><\/tr><tr><th>Quantity<\/th><td><input type="number" id="Quantity" name="Quantity" ng-model="current.Quantity" autocomplete="off" /><\/td><\/tr><tr><th>UoM<\/th><td><oi-select oi-options="item for item in filter.uoms" ng-model="current.Uom" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Cargo Count<\/th><td><input type="number" id="CargoCount" name="CargoCount" ng-model="current.CargoCount" autocomplete="off" /><\/td><\/tr><tr><th>Cargo Type<\/th><td><oi-select oi-options="item for item in filter.cargoTypes" ng-model="current.CargoType" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Weight (kg)<\/th><td><input type="number" id="Weight" name="Weight" ng-model="current.Weight" autocomplete="off" /><\/td><\/tr><tr><th>Volume (m3)<\/th><td><input type="number" id="Volume" name="Volume" ng-model="current.Volume" autocomplete="off" /><\/td><\/tr><tr><th>1st Vessel/Flight<\/th><td><input type="text" id="Vessel1" name="Vessel1" ng-model="current.Vessel1" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>2nd Vessel/Flight<\/th><td><input type="text" id="Vessel2" name="Vessel2" ng-model="current.Vessel2" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>3rd Vessel/Flight<\/th><td><input type="text" id="Vessel3" name="Vessel3" ng-model="current.Vessel3" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Pickup Date <\/th><td><u-datepicker value="current.PickupDate" name="PickupDate"><\/u-datepicker><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.ShippingDo"><th>Attachment<\/th><td><u-fileinput propname="\'ShippingDo\'" description="filter.ShippingDo" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ShippingDoIsImg" url="current.ShippingDo"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.LinerInvoice"><th>Attachment<\/th><td><u-fileinput propname="\'LinerInvoice\'" description="filter.LinerInvoice" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.LinerInvoiceIsImg" url="current.LinerInvoice"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.K8Form"><th>Attachment<\/th><td><u-fileinput propname="\'K8Form\'" description="filter.K8Form" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8FormIsImg" url="current.K8Form"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.K8Draft"><th>Attachment<\/th><td><u-fileinput propname="\'K8Draft\'" description="filter.K8Draft" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K8DraftIsImg" url="current.K8Draft"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal"><tr><th>ETD Origin <\/th><td><u-datepicker value="current.EtdOrigin" name="EtdOrigin"><\/u-datepicker><\/td><\/tr><tr><th>ATD Origin <\/th><td><u-datepicker value="current.AtdOrigin" name="AtdOrigin"><\/u-datepicker><\/td><\/tr><tr><th>ETD Transit <\/th><td><u-datepicker value="current.EtdTransit" name="EtdTransit"><\/u-datepicker><\/td><\/tr><tr><th>ATD Transit <\/th><td><u-datepicker value="current.AtdTransit" name="AtdTransit"><\/u-datepicker><\/td><\/tr><tr><th>Transit Point<\/th><td><input type="text" id="TransitPoint" name="TransitPoint" ng-model="current.TransitPoint" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th style="font-weight: 700">ETA Dest.<\/th><td><u-datepicker value="current.EtaDest" name="EtaDest" required><\/u-datepicker><\/td><\/tr><tr><th>ATA Dest.<\/th><td><u-datepicker value="current.AtaDest" name="AtaDest"><\/u-datepicker><\/td><\/tr><tr><th>Delivery Date<\/th><td><u-datepicker value="current.DeliveryDate" name="DeliveryDate"><\/u-datepicker><\/td><\/tr><tr><th>Delivery Location<\/th><td><input type="text" id="DeliveryLocation" name="DeliveryLocation" ng-model="current.DeliveryLocation" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Remark<\/th><td><input type="text" id="DeliveryRemark" name="DeliveryRemark" ng-model="current.DeliveryRemark" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>K8 Number<\/th><td><input type="text" id="K8Number" name="K8Number" ng-model="current.K8Number" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Pre-Clerance<\/th><td><select id="PreClearance" name="PreClearance" ng-model="current.PreClearance"><option value=""><\/option><option value="Yes">Yes<\/option><option value="No">No<\/option><\/select><\/td><\/tr><tr><th>BL Surrender<\/th><td><select id="HasBlSurrender" name="HasBlSurrender" ng-model="current.HasBlSurrender"><option value=""><\/option><option value="Yes">Yes<\/option><option value="No">No<\/option><option value="Original BL">Original BL<\/option><\/select><\/td><\/tr><tr><th>OBL Courier No<\/th><td><input type="text" id="OblCourierNo" name="OblCourierNo" ng-model="current.OblCourierNo" maxlength="50" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.NominationLetter"><th>Attachment<\/th><td><u-fileinput propname="\'NominationLetter\'" description="filter.NominationLetter" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.NominationLetterIsImg" url="current.NominationLetter"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.BillOfLading"><th>Attachment<\/th><td><u-fileinput propname="\'BillOfLading\'" description="filter.BillOfLading" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.BillOfLadingIsImg" url="current.BillOfLading"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.BillOfLading2"><th>Attachment<\/th><td><u-fileinput propname="\'BillOfLading2\'" description="filter.BillOfLading2" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.BillOfLading2IsImg" url="current.BillOfLading2"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0 && filter.BillOfLading3"><th>Attachment<\/th><td><u-fileinput propname="\'BillOfLading3\'" description="filter.BillOfLading3" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.BillOfLading3IsImg" url="current.BillOfLading3"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="table-data-simple-cont"><table class="table-data-simple" ng-show="current.FwdInvoiceNo"><tr><th>Fwd. Invoice No<\/th><th style="text-align: right">GST Excl.<\/th><th style="text-align: right">GST<\/th><th style="text-align: right">GST Incl.<\/th><\/tr><tr><td ng-bind="current.FwdInvoiceNo"><\/td><td ng-bind="current.FwdInvoiceTaxExcl | number: 2" style="text-align: right"><\/td><td ng-bind="current.FwdInvoiceTax | number: 2" style="text-align: right"><\/td><td ng-bind="current.FwdInvoiceTaxIncl | number: 2" style="text-align: right"><\/td><\/tr><\/table><\/div><div class="table-data-simple-cont"><table class="table-data-simple" ng-show="current.Costs"><tr><th>Date<\/th><th>Purchase Bill<\/th><th style="text-align: right">GST Excl.<\/th><th style="text-align: right">GST<\/th><th style="text-align: right">GST Incl.<\/th><th>Reference No<\/th><th>Received Date<\/th><th>Created On<\/th><\/tr><tr ng-repeat="model in current.Costs"><td ng-bind="model.DocumentDate | date: \'d/M/yyyy\'"><\/td><td ng-bind="model.DocumentNo"><\/td><td ng-bind="model.TaxExclusive | number: 2" style="text-align: right"><\/td><td ng-bind="model.Gst | number: 2" style="text-align: right"><\/td><td ng-bind="model.TaxInclusive | number: 2" style="text-align: right"><\/td><td ng-bind="model.ReferenceNo"><\/td><td ng-bind="model.ReceivedDate | date: \'d/M/yyyy\'"><\/td><td ng-bind="model.CreatedOn | date: \'d/M/yyyy\'"><\/td><\/tr><tr><th>Total:<\/th><th><\/th><th ng-bind="current.TaxExclusiveTotal | number: 2" style="text-align: right"><\/th><th ng-bind="current.GstTotal | number: 2" style="text-align: right"><\/th><th ng-bind="current.TaxInclusiveTotal | number: 2" style="text-align: right"><\/th><th><\/th><th><\/th><th><\/th><\/tr><\/table><\/div><div class="data-list" style="margin: 40px 0; padding: 0"><div class="list-item" ng-repeat="model in current.Containers" ng-show="model.Id >= 0"><a class="list-item-div" ng-href="{{(model.Id > 0 ? \'#!/longi-import-container/\' + model.Id : \'\')}}"><svg class="list-item-svgl" ng-show="model.ReturnDate"><use xlink:href="#icon-check-1"><\/use><\/svg><svg class="list-item-svgl" ng-show="!model.ReturnDate"><use xlink:href="#icon-hourglass"><\/use><\/svg><\/a><div class="list-item-b"><table style="width: 250px"><tr><td><input type="text" ng-model="model.ContainerNo" placeholder="Container No" maxlength="20" autocomplete="off" /><\/td><td style="width: 90px"><oi-select oi-options="item for item in filter.cargoTypes" ng-model="model.CargoType" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><\/table><\/div><span class="list-item-span ">Send <span ng-bind="(model.SendDate ? (model.SendDate | date: \'d/M/yyyy\') : \'-\')"><\/span>,&nbsp;Return <span ng-bind="(model.ReturnDate ? (model.ReturnDate | date: \'d/M/yyyy\') : \'-\')"><\/span><\/span><button type="button" class="list-item-i" ng-click="removeCont(model)"><svg class="list-item-svgs"><use xlink:href="#icon-close"><\/use><\/svg><\/button><em class="list-item-em" ng-bind="$index + 1"><\/em><\/div><\/div><button class="form-button" ng-click="addCont()" type="button">Add<\/button><div class="form-status-div">Created On:  <span ng-bind="current.CreatedBy"><\/span> ~ <span ng-bind="current.CreatedOn | date: \'d/M/yyyy h:mm a\'"><\/span>, Last Modified:  <span ng-bind="current.LastEditedBy"><\/span> ~ <span ng-bind="current.LastModified | date: \'d/M/yyyy h:mm a\'"><\/span><\/div><\/form>';window.templ.LongiImportsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 170px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><div style="height: 50px"><\/div><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos ng-class="filter.findText ? \'data-list-onfind\' : \'data-list-notonfind\'"><a class="list-item" bo-href="\'#!/longi-import/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Caption"><\/b><span class="list-item-span show-on-find" bo-bind="model.ContainerNo" style="white-space: normal">&nbsp;<\/span><span class="list-item-span hide-on-find" bo-bind="model.Status"><\/span><div class="list-item-div" bo-bind="model.Count"><\/div><\/a><\/div><u-fab-link url="#!/longi-import" icon="#icon-plus"><\/u-fab-link>';window.templ.LpNewsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 70px"><table class="form-table-vertical"><tr><th>Broadcast<\/th><\/tr><tr><td><input type="checkbox" ng-model="current.IsBroadcast" id="IsBroadcast" name="IsBroadcast" /><\/td><\/tr><tr><th>Title<\/th><\/tr><tr><td><input type="text" id="Title" name="Title" ng-model="current.Title" required /><\/td><\/tr><tr><th>Message<\/th><\/tr><tr><td><textarea id="Message" name="Message" rows="7" ng-model="current.Message" required><\/textarea><\/td><\/tr><tr><th>Url<\/th><\/tr><tr><td><input type="text" id="Url" name="Url" ng-model="current.Url" /><\/td><\/tr><tr><th>Link Text<\/th><\/tr><tr><td><input type="text" id="LinkText" name="LinkText" ng-model="current.LinkText" /><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Submit<\/button><\/td><\/tr><\/table><\/form>';window.templ.LpPrizeCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><button class="menu-button" ng-click="pick()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-paperclip"><\/use><\/svg> Pick Winner<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px"><div class="div-formcol"><table class="form-table-horizontal"><tr ng-show="current.Id !== 0"><th>Photo<\/th><td><u-fileinput propname="\'Photo\'" description="\'Photo\'" uploadtype="\'LpPrize\'" dbid="current.Id" isimage="current.IsImage" url="current.Photo"><\/u-fileinput><\/td><\/tr><tr><th><label for="Name">Name<\/label><\/th><td><input id="Name" name="Name" type="text" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Worth">Worth <\/label><\/th><td><input id="Worth" name="Worth" type="number" ng-model="current.Worth" autocomplete="off" /><\/td><\/tr><tr><th><label for="CostPrice">Cost Price <\/label><\/th><td><input id="CostPrice" name="CostPrice" type="number" ng-model="current.CostPrice" autocomplete="off" /><\/td><\/tr><tr><th><label for="">End Date<\/label><\/th><td><u-datepicker value="current.EndDateText" name="EndDateText"><\/u-datepicker><\/td><\/tr><tr><th><label for="Winner">Total Winner <\/label><\/th><td><input id="Winner" name="Winner" type="number" ng-model="current.Winner" autocomplete="off" /><\/td><\/tr><tr><th><label for="MaxBid">Max Bid <\/label><\/th><td><input id="MaxBid" name="MaxBid" type="number" ng-model="current.MaxBid" autocomplete="off" /><\/td><\/tr><tr><th><label for="MaxBid">Initial Bid <\/label><\/th><td><input id="InitialBid" name="InitialBid" type="number" ng-model="current.InitialBid" autocomplete="off" /><\/td><\/tr><tr><th><label for="">Paid Bid <\/label><\/th><td><input id="PaidBid" name="PaidBid" type="number" ng-model="current.PaidBid"  readonly /><\/td><\/tr><tr><th><label for="">Free Bid <\/label><\/th><td><input id="FreeBid" name="FreeBid" type="number" ng-model="current.FreeBid" readonly /><\/td><\/tr><tr><th><label for="LazadaUrl">Lazada URL<\/label><\/th><td><input id="LazadaUrl" name="LazadaUrl" type="url" ng-model="current.LazadaUrl" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Feature1">Feature 1<\/label><\/th><td><input id="Feature1" name="Feature1" type="text" ng-model="current.Feature1" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Feature2">Feature 2<\/label><\/th><td><input id="Feature2" name="Feature2" type="text" ng-model="current.Feature2" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Feature3">Feature 3<\/label><\/th><td><input id="Feature3" name="Feature3" type="text" ng-model="current.Feature3" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Feature4">Feature 4<\/label><\/th><td><input id="Feature4" name="Feature4" type="text" ng-model="current.Feature4" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Feature5">Feature 5<\/label><\/th><td><input id="Feature5" name="Feature5" type="text" ng-model="current.Feature5" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Feature6">Feature 6<\/label><\/th><td><input id="Feature6" name="Feature6" type="text" ng-model="current.Feature6" maxlength="255" autocomplete="off" /><\/td><\/tr><\/table><\/div><\/form>';window.templ.LpPrizesCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/lpprize/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span">Worth RM <span bo-bind="model.Worth | number:2"><\/span>, Winner: <span bo-bind="model.Winner"><\/span>, End: <span bo-bind="model.EndDate | date: \'d/M/yyyy\'"><\/span><\/span><em class="list-item-em" bo-bind="model.TotalBid + \' / \' + model.MaxBid"><\/em><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/lpprize" icon="#icon-plus"><\/u-fab-link>';window.templ.LpRedeemCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="text-align: center; max-width: 1140px; margin: 0 auto; padding-top: 120px"><div class="div-formcol"><table class="form-table-horizontal" style="text-align: left"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Status<\/h2><\/td><\/tr><tr><th><label for="Status">Status<\/label><\/th><td><select id="Status" name="Status" ng-model="current.Status"><option value="Announced">Announced<\/option><option value="Claimed">Claimed<\/option><option value="Ordered">Ordered<\/option><option value="Shipped">Shipped<\/option><option value="Delivered">Delivered<\/option><\/select><\/td><\/tr><tr><th><label for="Cost">Total Price<\/label><\/th><td><input id="Cost" name="Cost" type="number" ng-model="current.Cost" autocomplete="off" /><\/td><\/tr><tr><th><label for="OrderNo">Order No<\/label><\/th><td><input id="OrderNo" name="OrderNo" type="text" ng-model="current.OrderNo" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="TrxNo">Trx No<\/label><\/th><td><input id="TrxNo" name="TrxNo" type="text" ng-model="current.TrxNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th><label for="Courier">Courier<\/label><\/th><td><select id="Courier" name="Courier" ng-model="current.Courier"><option value="GDex">GDex<\/option><option value="Pos Laju">Pos Laju<\/option><option value="Sky Net">Sky Net<\/option><option value="Box It">Box It<\/option><option value="Ninja Van">Ninja Van<\/option><option value="Collectco">Collectco<\/option><option value="EX">EX<\/option><option value="Ta-Q-Bin">Ta-Q-Bin<\/option><option value="">-- empty --<\/option><\/select><\/td><\/tr><tr><th><label for="TrackingNo">Tracking No<\/label><\/th><td><input id="TrackingNo" name="TrackingNo" type="text" ng-model="current.TrackingNo" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Memo">Memo<\/label><\/th><td><textarea id="Memo" name="Memo" ng-model="current.Memo" maxlength="255"><\/textarea><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal" style="text-align: left"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Recipient<\/h2><\/td><\/tr><tr><th><label for="Name">Name<\/label><\/th><td><input id="Name" name="Name" type="text" ng-model="current.Name" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Address">Address<\/label><\/th><td><textarea id="Address" name="Address" ng-model="current.Address" maxlength="255"><\/textarea><\/td><\/tr><tr><th><label for="Postcode">Postcode<\/label><\/th><td><input id="Postcode" name="Postcode" type="text" ng-model="current.Postcode" maxlength="10" autocomplete="off" /><\/td><\/tr><tr><th><label for="City">City<\/label><\/th><td><input id="City" name="City" type="text" ng-model="current.City" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="State">State<\/label><\/th><td><input id="State" name="State" type="text" ng-model="current.State" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Phone">Phone<\/label><\/th><td><input id="Phone" name="Phone" type="tel" ng-model="current.Phone" maxlength="20" autocomplete="off" /><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal" style="text-align: left"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Prize<\/h2><\/td><\/tr><tr><th><label for="">Name<\/label><\/th><td><b ng-bind="current.Prize.Name"><\/b><\/td><\/tr><tr><th><label for="">Worth<\/label><\/th><td><b ng-bind="current.Prize.Worth"><\/b><\/td><\/tr><tr><th><label for="">Photo<\/label><\/th><td><img ng-src="current.Prize.Photo" /><\/td><\/tr><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">User<\/h2><\/td><\/tr><tr><th><label for="">Name<\/label><\/th><td><b ng-bind="current.User.Name"><\/b><\/td><\/tr><tr><th><label for="">Email<\/label><\/th><td><b ng-bind="current.User.Email"><\/b><\/td><\/tr><tr><th><label for="">Avatar<\/label><\/th><td><img ng-src="current.User.Avatar" /><\/td><\/tr><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Timestamp<\/h2><\/td><\/tr><tr><th><label for="">Claimed<\/label><\/th><td><b><span ng-bind="current.ClaimedBy"><\/span> ~<span ng-bind="current.ClaimedOn | date: \'d-M-yyyy h:mm a\'"><\/span><\/b><\/td><\/tr><tr><th><label for="">Ordered<\/label><\/th><td><b><span ng-bind="current.OrderedBy"><\/span>~<span ng-bind="current.OrderedOn | date: \'d-M-yyyy h:mm a\'"><\/span><\/b><\/td><\/tr><tr><th><label for="">Shipped<\/label><\/th><td><b><span ng-bind="current.ShippedBy"><\/span> ~<span ng-bind="current.ShippedOn | date: \'d-M-yyyy h:mm a\'"><\/span><\/b><\/td><\/tr><tr><th><label for="">Delivered<\/label><\/th><td><b><span ng-bind="current.DeliveredBy"><\/span> ~<span ng-bind="current.DeliveredOn | date: \'d-M-yyyy h:mm a\'"><\/span><\/b><\/td><\/tr><\/table><\/div><\/form>';window.templ.LpRedeemsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/lpredeem/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.Status"><\/span><em class="list-item-em" bo-bind="model.EndDate | date: \'d/M/yyyy\'"><\/em><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div>';window.templ.MapCtrl='<div class="u-menu"><div class="u-menu-container"  style="height: 50px; text-align: left; padding-left: 50px"><a class="menu-button" href="#!/home" title="Home" style="position: absolute; left: 0; top: 0; padding: 0; width: 50px; height: 50px; text-align: center;"><svg class="u-header-svg"><use xlink:href="#icon-android-menu"><\/use><\/svg><\/a><button class="menu-button" ng-click="refreshData()">Refresh<\/button><button class="menu-button" ng-click="showListView()" ">Show/Hide Listing<\/button><button class="menu-button" ng-click="filterDevices()">Quick Find<\/button><button class="menu-button" ng-click="searchPlaces()" >Search Places<\/button><button class="menu-button" ng-click="showNearby()" >Show Nearby Places<\/button><button class="menu-button" ng-click="onSearchGoogleMap()" >Search Google Map<\/button><button class="menu-button" ng-click="getCurrentGpsPosition()" > Current GPS Position<\/button><button class="menu-button" ng-click="clearPlaceMarkers()" > Clear Place Markers<\/button><\/div><\/div><form ng-switch="uiMode"  style="height: 50px; padding: 0 10px; box-sizing: border-box; max-width: 100%; width : 100%; margin: 0; position: fixed; left: 0; right: 0; top: 50px; z-index: 100"><input type="text" id="autocomplete" class="menu-input-search" ng-switch-when="googleMap" style="width: 100%; outline: none" /><div ng-switch-when="quickFind" class="large-select" ><oi-select oi-options="item.Name for item in devices track by item.Device" ng-model="selected.item" placeholder="Quick Find"><\/oi-select><\/div><div ng-switch-when="searchPlace" class="large-select" ><oi-select oi-options="item.Name for item in onSearchPlace($query) track by item.Id" ng-model="selected.place" placeholder="Search Place" oi-select-options="{ debounce : 500 }"><\/oi-select><\/div><\/form><div id="mapcont" class="map-div-cont"><\/div><div id="infoPane" class="map-div-info" ng-class="infoPanelClass"><div class="map-div-infoheader" ng-click="changeVisibility()"><div class="map-div-heading"><small class="map-small-heading">Device<\/small><span class="map-span-heading" ng-bind="current.Device"><\/span><\/div><div class="map-div-heading"><small class="map-small-heading">Speed<\/small><span class="map-span-heading" ng-bind="current.Speed"><\/span><small class="map-small-suffix">km/h<\/small><\/div><div class="map-div-heading"><small class="map-small-heading">Temperature<\/small><span class="map-span-heading" ng-bind="current.Temp1"><\/span><small class="map-small-suffix">&deg; / <\/small><span class="map-span-heading" ng-bind="current.Temp2"><\/span><small class="map-small-suffix">&deg;<\/small><\/div><\/div><div class="map-div-columns"><div class="map-div-col"><div class="map-div-detail"><small class="map-small-prefix">Time<\/small><span ng-bind="current.Time | date: \'d/M/yyyy h:mm:ss a\'"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Driver<\/small><span ng-bind="current.Driver"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Category<\/small><span ng-bind="current.Category"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Ignition<\/small><span ng-bind="current.Ignition ? \'On\' : \'Off\'"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Idling<\/small><span ng-bind="current.Idling"><\/span><small> mins<\/small><\/div><\/div><div class="map-div-col"><div class="map-div-detail"><small class="map-small-prefix">Fuel<\/small><span ng-bind="current.Fuel"><\/span><small>L<\/small><\/div><div class="map-div-detail"><small class="map-small-prefix">Mileage<\/small><span ng-bind="current.Mileage"><\/span><small ng-show="current.Mileage">km<\/small><\/div><div class="map-div-detail"><small class="map-small-prefix">Altitude<\/small><span ng-bind="current.Altitude"><\/span><small ng-show="current.Altitude">m<\/small><\/div><div class="map-div-detail"><small class="map-small-prefix">Latitude<\/small><span ng-bind="current.Lat"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Longitude<\/small><span ng-bind="current.Lng"><\/span><\/div><\/div><div class="map-div-col" style="position: relative; "><!--<small class="map-small-prefix" style="margin: 0 0 0 10px">Memo<\/small> <br/>--><p style="white-space: pre-line; margin: 10px;" ng-bind="current.Memo"><\/p><!--<img id="photo1" ng-show="photoIdx == 1" class="map-img-photo" ng-src="{{getPhoto(current.Photo)}}" ng-click="openPhoto(current.Photo)" /><img id="photo2" ng-show="photoIdx == 2" class="map-img-photo" ng-src="{{getPhoto(current.Photo2)}}" ng-click="openPhoto(current.Photo2)" /><img id="photo3" ng-show="photoIdx == 3" class="map-img-photo" ng-src="{{getPhoto(current.Photo3)}}" ng-click="openPhoto(current.Photo3)" /><div class="map-div-btngrp"><button class="map-button-idx" ng-class="{\'active\': photoIdx == 1}" ng-click="setPhotoIdx(1)">1<\/button><button class="map-button-idx" ng-class="{\'active\': photoIdx == 2}" ng-click="setPhotoIdx(2)">2<\/button><button class="map-button-idx" ng-class="{\'active\': photoIdx == 3}" ng-click="setPhotoIdx(3)">3<\/button><\/div>--><\/div><div class="map-div-col" style="width: 348px"><button class="map-div-chart map-button-temp" ng-click="showTempChart()" id="tempbtn">Show Temperature Chart<\/button><div id="graphdiv" class="map-div-chart" style="display: none"><\/div><\/div><\/div><\/div><u-pane visible=\'paneShown\'><img ng-src="{{photoUrl}}" style="max-width: 100%" id="currentPhoto" /><\/u-pane><div id="list" class="map-div-listing" ng-class="listingClass"><div class="listing-div-outer"><div class="listing-div-header" id="list-header"><table style="border-collapse: collapse;"><tr><th style="text-align: center; width: 80px;  min-width: 80px">Heading<\/th><th style="text-align: left; width: 115px; min-width: 115px">Device<\/th><th style="text-align: left; width: 200px; min-width: 200px; max-width: 200px">Driver<\/th><th style="text-align: left;  width: 190px; min-width: 190px">Time<\/th><th style="text-align: left;  width: 70px;  min-width: 70px">Ignition<\/th><th style="text-align: right; width: 70px;  min-width: 70px">Speed<\/th><th style="text-align: right; width: 70px;  min-width: 70px">Idling<\/th><th style="text-align: right; width: 70px;  min-width: 70px">Temp. 1<\/th><th style="text-align: right; width: 70px;  min-width: 70px">Temp. 2<\/th><th style="text-align: right; width: 70px;  min-width: 70px">Fuel<\/th><th style="text-align: right; width: 110px; min-width: 110px">Mileage<\/th><th style="text-align: right; width: 90px;  min-width: 90px">Latitude<\/th><th style="text-align: right; width: 90px;  min-width: 90px">Longitude<\/th><th style="text-align: right; width: 70px;  min-width: 70px">Altitude<\/th><th style="text-align: left; width: 180px; min-width: 180px; max-width: 180px">Category<\/th><th style="text-align: left; width: 50px; min-width: 50px">Colour<\/th><\/tr><\/table><\/div><div class="listing-div-body" id="list-body"><table style="border-collapse: collapse;"><tbody bindonce ng-repeat="grp in listing"><tr><th colspan="16" class="listing-tr-grp"><span bo-bind="grp.Name"> <\/span>(<span bo-bind="grp.Data.length"><\/span>)<\/th><\/tr><tr bindonce ng-repeat="model in grp.Data" class="listing-tr-row"><td style="text-align: center; width: 80px;  min-width: 80px"><svg xmlns="http://www.w3.org/2000/svg" bo-style="{\'transform\': \'rotate(\' + (model.Heading - 180) + \'deg)\'}" version="1.1" viewBox="0 0 32 32" width="22" height="22" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill="{{model.FillColor}}" ng-attr-d="{{model.Path}}" /><\/svg><\/td><td style="text-align: left; width: 115px; min-width: 115px"><a href="" bo-bind="model.Device" ng-click="onRowClick(model.Device)" class="link-text-normal"><\/a><\/td><td style="text-align: left;  width: 200px; min-width: 200px; max-width: 200px" bo-bind="model.Driver"><\/td><td style="text-align: left; width: 190px; min-width: 190px" bo-bind="model.Time | date: \'d/M/yyyy h:mm:ss a\'"><\/td><td style="text-align: left; width: 70px; min-width: 70px" bo-bind="model.Ignition ? \'On\' : \'Off\'"><\/td><td style="text-align: right; width: 70px; min-width: 70px" bo-bind="model.Speed | number: 2"><\/td><td style="text-align: right; width: 70px; min-width: 70px" bo-bind="model.Idling | number: 2"><\/td><td style="text-align: right; width: 70px; min-width: 70px" bo-bind="model.Temp1 | number: 2"><\/td><td style="text-align: right; width: 70px; min-width: 70px" bo-bind="model.Temp2 | number: 2"><\/td><td style="text-align: right; width: 70px; min-width: 70px" bo-bind="model.Fuel | number: 2"><\/td><td style="text-align: right; width: 110px; min-width: 110px" bo-bind="model.Mileage | number: 2"><\/td><td style="text-align: right; width: 90px; min-width: 90px" bo-bind="model.Lat | number: 6"><\/td><td style="text-align: right; width: 90px; min-width: 90px" bo-bind="model.Lng | number: 6"><\/td><td style="text-align: right; width: 70px; min-width: 70px" bo-bind="model.Altitude | number: 2"><\/td><td style="text-align: left; width: 180px; min-width: 180px; max-width: 180px" bo-bind="model.Category"><\/td><td style="text-align: center; width: 50px; min-width: 50px"><div bo-style="{\'background\': model.Colour}" style="width: 22px; height: 22px; display: inline-block; border-radius: 20px"><\/div><\/td><\/tr><\/tbody><\/table><\/div><\/div><\/div>';window.templ.MdlzLoadingCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 70px"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>POL - Warehouse<\/th><td><input ng-model="current.PolWarehouse" type="text" readonly /><\/td><\/tr><tr><th>POL<\/th><td><input ng-model="current.Pol" type="text" readonly /><\/td><\/tr><tr><th>Container Type<\/th><td><input ng-model="current.ContainerType" type="text" readonly /><\/td><\/tr><tr><th>Container No<\/th><td><input type="text" ng-model="current.ContainerNo" readonly /><\/td><\/tr><tr><th>Indent No<\/th><td><input type="text" ng-model="current.IndentNo" readonly /><\/td><\/tr><tr><th>Indent No 2<\/th><td><input type="text" ng-model="current.IndentNo2" readonly /><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Empty\'" description="filter.Empty" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.EmptyIsImg" url="current.Empty"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Loading50\'" description="filter.Loading50" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.Loading50IsImg" url="current.Loading50"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Loading100\'" description="filter.Loading100" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.Loading100IsImg" url="current.Loading100"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Closed\'" description="filter.Closed" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ClosedIsImg" url="current.Closed"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Seal\'" description="filter.Seal" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.SealIsImg" url="current.Seal"><\/u-fileinput><\/td><\/tr><\/table><\/div><\/form>';window.templ.MdlzLoadingsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 140px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><div style="height: 50px"><\/div><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/mdlz-loading/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.IndentNo"><\/b><span class="list-item-span show-on-find" bo-bind="model.PolWarehouse + \' - \' + model.ContainerType + \' - \' + model.ContainerNo"><\/span><div class="list-item-div" bo-bind="model.Week"><\/div><\/a><\/div>';window.templ.MdlzPreCarriageCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg><\/button><button class="menu-button" ng-click="submitForm(myForm, \'CreateInvoice\')" ng-disabled="!myForm.$valid || isDisabled">Create Invoice<\/button><button class="menu-button" ng-click="submitForm(myForm, null)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="text-align: center; max-width: 1140px; margin: 0 auto; padding-top: 120px"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Week<\/th><td><input type="number" id="Week" name="Week" ng-model="current.Week" autocomplete="off" /><\/td><\/tr><tr><th>POL - Warehouse<\/th><td><oi-select oi-options="item for item in filter.PolWarehouse" ng-model="current.PolWarehouse" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>POL<\/th><td><oi-select oi-options="item for item in filter.Pol" ng-model="current.Pol" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>POD<\/th><td><oi-select oi-options="item for item in filter.Pod" ng-model="current.Pod" oi-select-options="{ newItem: \'autocomplete\', maxlength: 20 }"><\/oi-select><\/td><\/tr><tr><th>Container Type<\/th><td><oi-select oi-options="item for item in filter.ContainerType" ng-model="current.ContainerType" oi-select-options="{ newItem: \'autocomplete\', maxlength: 10 }"><\/oi-select><\/td><\/tr><tr><th>Carrier Booking No<\/th><td><input type="text" id="CarrierBookingNo" name="CarrierBookingNo" ng-model="current.CarrierBookingNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Container No<\/th><td><input type="text" id="ContainerNo" name="ContainerNo" ng-model="current.ContainerNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Seal No<\/th><td><input type="text" id="SealNo" name="SealNo" ng-model="current.SealNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Operator Code<\/th><td><input type="text" id="OperatorCode" name="OperatorCode" ng-model="current.OperatorCode" maxlength="10" autocomplete="off" /><\/td><\/tr><tr><th>Vessel<\/th><td><input type="text" id="Vessel" name="Vessel" ng-model="current.Vessel" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Voyage<\/th><td><input type="text" id="Voyage" name="Voyage" ng-model="current.Voyage" maxlength="20" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Invoice\'" description="filter.Invoice" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.InvoiceIsImg" url="current.Invoice"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'PackingList\'" description="filter.PackingList" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.PackingListIsImg" url="current.PackingList"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Insurance\'" description="filter.Insurance" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.InsuranceIsImg" url="current.Insurance"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal"><tr><th style="font-weight: 700">ETD<\/th><td><u-datepicker value="current.Etd" name="Etd" required><\/u-datepicker><\/td><\/tr><tr><th>ETA<\/th><td><u-datepicker value="current.Eta" name="Eta"><\/u-datepicker><\/td><\/tr><tr><th>Send Empty On<\/th><td><u-datepicker value="current.SendEmptyOn" name="SendEmptyOn"><\/u-datepicker><\/td><\/tr><tr><th>Loading On<\/th><td><table style="border-collapse: collapse"><tr><td style="width: 50%; padding: 0"><u-datepicker value="current.LoadingOn" name="LoadingOn"><\/u-datepicker><\/td><td style="padding: 0 0 0 5px"><select id="LoadingTime" name="LoadingTime" ng-model="current.LoadingTime"><option value=""><\/option><option value="AM">AM<\/option><option value="PM">PM<\/option><\/select><\/td><\/tr><\/table><\/td><\/tr><tr><th>Closing On<\/th><td><table style="border-collapse: collapse"><tr><td style="width: 50%; padding: 0"><u-datepicker value="current.ClosingOn" name="ClosingOn"><\/u-datepicker><\/td><td style="padding: 0 0 0 5px"><input type="text" id="ClosingTime" name="ClosingTime" ng-model="current.ClosingTime" placeholder="HHmm" maxlength="4" autocomplete="off" /><\/td><\/tr><\/table><\/td><\/tr><tr><th>Indent No<\/th><td><input type="text" id="IndentNo" name="IndentNo" ng-model="current.IndentNo" maxlength="30" autocomplete="off" /><\/td><\/tr><tr><th>Indent No 2<\/th><td><input type="text" id="IndentNo2" name="IndentNo2" ng-model="current.IndentNo2" maxlength="30" autocomplete="off" /><\/td><\/tr><tr><th>Sales Order No<\/th><td><input type="text" id="SalesOrderNo" name="SalesOrderNo" ng-model="current.SalesOrderNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>DO No<\/th><td><input type="text" id="DoNo" name="DoNo" ng-model="current.DoNo" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Carton<\/th><td><input type="number" id="Carton" name="Carton" ng-model="current.Carton" autocomplete="off" /><\/td><\/tr><tr><th>Volume (m3)<\/th><td><input type="number" id="Volume" name="Volume" ng-model="current.Volume" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'K3Chit\'" description="filter.K3Chit" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.K3ChitIsImg" url="current.K3Chit"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'BillOfLading\'" description="filter.BillOfLading" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.BillOfLadingIsImg" url="current.BillOfLading"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'CourierReceipt\'" description="filter.CourierReceipt" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.CourierReceiptIsImg" url="current.CourierReceipt"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Commodity<\/th><td><input type="text" id="Commodity" name="Commodity" ng-model="current.Commodity" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Remark<\/th><td><input type="text" id="Remark" name="Remark" ng-model="current.Remark" maxlength="200" autocomplete="off" /><\/td><\/tr><tr><th>Consignee<\/th><td><oi-select oi-options="item for item in filter.Consignee" ng-model="current.Consignee" oi-select-options="{ newItem: \'autocomplete\', maxlength: 50 }"><\/oi-select><\/td><\/tr><tr><th>Shipper<\/th><td><oi-select oi-options="item for item in filter.Shipper" ng-model="current.Shipper" oi-select-options="{ newItem: \'autocomplete\', maxlength: 50 }"><\/oi-select><\/td><\/tr><tr><th>SAP Invoice No<\/th><td><input type="text" id="SapInvoiceNo" name="SapInvoiceNo" ng-model="current.SapInvoiceNo" maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>SAP Inv. Date<\/th><td><u-datepicker value="current.SapInvoiceDate" name="SapInvoiceDate"><\/u-datepicker><\/td><\/tr><tr><th>SAP Inv. Amount<\/th><td><input type="number" id="SapInvoiceAmount" name="SapInvoiceAmount" ng-model="current.SapInvoiceAmount" autocomplete="off" /><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Empty\'" description="filter.Empty" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.EmptyIsImg" url="current.Empty"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Loading50\'" description="filter.Loading50" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.Loading50IsImg" url="current.Loading50"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Loading100\'" description="filter.Loading100" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.Loading100IsImg" url="current.Loading100"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Closed\'" description="filter.Closed" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.ClosedIsImg" url="current.Closed"><\/u-fileinput><\/td><\/tr><tr ng-show="current.Id !== 0"><th>Attachment<\/th><td><u-fileinput propname="\'Seal\'" description="filter.Seal" uploadtype="filter.uploadType" dbid="current.Id" isimage="current.SealIsImg" url="current.Seal"><\/u-fileinput><\/td><\/tr><\/table><\/div><div class="table-data-simple-cont"><table class="table-data-simple" ng-show="current.FwdInvoiceNo"><tr><th>Invoice No<\/th><th style="text-align: right">GST Excl.<\/th><th style="text-align: right">GST<\/th><th style="text-align: right">GST Incl.<\/th><\/tr><tr><td ng-bind="current.FwdInvoiceNo"><\/td><td ng-bind="current.FwdInvoiceTaxExcl | number: 2" style="text-align: right"><\/td><td ng-bind="current.FwdInvoiceTax | number: 2" style="text-align: right"><\/td><td ng-bind="current.FwdInvoiceTaxIncl | number: 2" style="text-align: right"><\/td><\/tr><\/table><\/div><div class="form-status-div">Created On:  <span ng-bind="current.CreatedBy"><\/span> ~ <span ng-bind="current.CreatedOn | date: \'d/M/yyyy h:mm a\'"><\/span>, Last Modified:  <span ng-bind="current.LastEditedBy"><\/span> ~ <span ng-bind="current.LastModified | date: \'d/M/yyyy h:mm a\'"><\/span><\/div><\/form>';window.templ.MdlzPreCarriagesCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 140px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><div style="height: 50px"><\/div><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/mdlz-precarriage/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.IndentNo"><\/b><span class="list-item-span show-on-find" bo-bind="model.PolWarehouse + \' - \' + model.ContainerType + \' - \' + model.ContainerNo"><\/span><div class="list-item-div" bo-bind="model.Week"><\/div><\/a><\/div><u-fab-link url="#!/mdlz-precarriage" icon="#icon-plus"><\/u-fab-link>';window.templ.MykadCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 70px"><table class="form-table-horizontal"><tr><th colspan="2"><a class="link-text-normal" href="https://uplus.blob.core.windows.net/uplus-web/idscanner.apk" target="_system">Download ID Scanner<\/a><\/th><\/tr><tr><th>Mykad Info<\/th><td><textarea required id="Value" name="Value" ng-model="current.Value" ng-blur="onEnterMykad()"><\/textarea><\/td><\/tr><tr><th>Phone No<\/th><td><input type="text" id="PhoneNo" name="PhoneNo" ng-model="current.PhoneNo" required maxlength="11" autocomplete="off" /><\/td><\/tr><tr><th>Title<\/th><td><select id="Title" name="Title" ng-model="current.Title" required><option value="0">Mr<\/option><option value="1">Miss<\/option><option value="2">Mrs<\/option><option value="3">Madam<\/option><option value="4">Other<\/option><\/select><\/td><\/tr><tr><th>Race<\/th><td><select id="Race" name="Race" ng-model="current.Race" required><option value="0">Malay<\/option><option value="1">Iban<\/option><option value="2">Bidayuh<\/option><option value="3">Chinese<\/option><option value="4">Indian<\/option><option value="5">Other<\/option><\/select><\/td><\/tr><tr><th>Marital<\/th><td><select id="Marital" name="Marital" ng-model="current.Marital" required><option value="0">Married<\/option><option value="1">Single<\/option><option value="2">Divorced<\/option><option value="3">Widowed<\/option><option value="4">Other<\/option><\/select><\/td><\/tr><tr><th>Employement Type<\/th><td><select id="EmployementType" name="EmployementType" ng-model="current.EmployementType" required><option value="0">Permanent<\/option><option value="1">Temporary<\/option><option value="2">Contract<\/option><option value="3">Other<\/option><\/select><\/td><\/tr><tr><th>Staff Type<\/th><td><select id="StaffType" name="StaffType" ng-model="current.StaffType" required><option value="0">NA<\/option><option value="1">Federal<\/option><option value="2">State<\/option><\/select><\/td><\/tr><tr><th>Occupation<\/th><td><select id="Occupation" name="Occupation" ng-model="current.Occupation" required><option value="0">Army<\/option><option value="1">Police<\/option><option value="2">Government Servant<\/option><option value="3">State Government Servant<\/option><option value="4">Private Sector<\/option><option value="5">Self Employed<\/option><option value="6">Businessman<\/option><option value="7">Retired<\/option><option value="8">Unemployed<\/option><option value="9">Other<\/option><\/select><\/td><\/tr><tr><th>IC No<\/th><td><input type="text" id="IcNo" name="IcNo" ng-model="current.IcNo" required maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Name<\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>DOB (yyMMdd)<\/th><td><input type="text" id="Dob" name="Dob" ng-model="current.Dob" required maxlength="10" autocomplete="off" /><\/td><\/tr><tr><th>Address<\/th><td><textarea id="Address" name="Address" ng-model="current.Address" required maxlength="255"><\/textarea><\/td><\/tr><tr><th>Religion<\/th><td><input type="text" id="Religion" name="Religion" ng-model="current.Religion" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Sex<\/th><td><input type="text" id="Sex" name="Sex" ng-model="current.Sex" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><td colspan="2"><button class="form-button" ng-disabled="!myForm.$valid || isDisabled"> Submit<\/button><\/td><\/tr><\/table><\/form>';window.templ.PernamaCalculatorCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-class="{\'active\': isPriceMode}" ng-click="setPriceMode(true)">Retail Price<\/button><button class="menu-button" ng-class="{\'active\': !isPriceMode}" ng-click="setPriceMode(false)">Monthly Amount<\/button><button class="menu-button" ng-click="applyLoan()" ng-disabled="isDisabled"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Apply<\/button><button class="menu-button" ng-click="onCalculate()"><svg class="menu-svg"><use xlink:href="#icon-playback-play"><\/use><\/svg> Run<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin: 120px auto 0 auto"><table class="form-table-horizontal"><tr><th><label for="TtpMonth">TTP<\/label><\/th><td><table><tr><td style="width: 50%; padding: 0"><select id="TtpMonth" name="TtpMonth" ng-model="current.TtpMonth" ng-change="onCalculate()"><option value="01">January<\/option><option value="02">February<\/option><option value="03">March<\/option><option value="04">April<\/option><option value="05">May<\/option><option value="06">June<\/option><option value="07">July<\/option><option value="08">August<\/option><option value="09">September<\/option><option value="10">October<\/option><option value="11">November<\/option><option value="12">December<\/option><\/select><\/td><td style="padding: 0 0 0 10px"><input type="number" id="TtpYear" min="2017" max="2999" name="TtpYear" ng-model="current.TtpYear" ng-change="onCalculate()" autocomplete="off" /><\/td><\/tr><\/table><\/td><\/tr><tr><th><label for="WorkingMonth">Working Month<\/label><\/th><td><b ng-bind="current.WorkingMonth"><\/b><\/td><\/tr><tr><th><label for="MaxLoanPeriod">Max Loan Period<\/label><\/th><td><b ng-bind="current.MaxLoanPeriod"><\/b><\/td><\/tr><tr><th><label for="Item">Produk<\/label><\/th><td><select id="Item" name="Item" ng-model="current.Item"ng-options="item as item.Name for item in groups track by item.Name"ng-change="onCalculate()"><\/select><\/td><\/tr><tr><th><label for="LoanPeriod">Tempoh Ansuran<\/label><\/th><td><input type="number" id="LoanPeriod" name="LoanPeriod" min="1" max="60" ng-model="current.LoanPeriod" ng-blur="onCalculate()" autocomplete="off" /><\/td><\/tr><tr ng-show="isPriceMode"><th><label for="SalePrice">Harga Produk (No GST)<\/label><\/th><td><input type="number" id="RetailPrice" name="RetailPrice" min="0" max="9999" ng-model="current.RetailPrice" ng-blur="onCalculate()" autocomplete="off" /><\/td><\/tr><tr ng-show="!isPriceMode"><th><label for="RetailPrice">Harga Produk (No GST)<\/label><\/th><td style="font-size: 22px"><b ng-bind="\'RM \' + (current.RetailPrice | number: 2)"><\/b><\/td><\/tr><!--<tr><th><label for="LoanCharge"> Loan Charges <span ng-bind="current.LoanChargeRate | number"><\/span>%<\/label><\/th><td><b ng-bind="\'RM \' + (current.LoanCharge | number: 2)"><\/b><\/td><\/tr><tr><th><label for="SalePrice"> Cash Price<\/label><\/th><td><b ng-bind="\'RM \' + (current.SalePrice | number: 2)"><\/b><\/td><\/tr>--><tr><th><label for="Insurance">Insuran <span ng-bind="current.InsuranceRate | number: 1"><\/span>%<\/label><\/th><td><b ng-bind="\'RM \' + (current.Insurance | number: 2)"><\/b><\/td><\/tr><tr><th><label for="TotalPrice">Harga Runcit<\/label><\/th><td><b ng-bind="\'RM \' + (current.TotalPrice | number: 2)"><\/b><\/td><\/tr><tr><th><label for="Gst">GST <span ng-bind="current.GstRate | number: 1"><\/span>%<\/label><\/th><td><b ng-bind="\'RM \' + (current.Gst | number: 2)"><\/b><\/td><\/tr><tr><th><label for="FinanceAmount">Harga Jualan<\/label><\/th><td><b ng-bind="\'RM \' + (current.FinanceAmount | number: 2)"><\/b><\/td><\/tr><tr><th><label for="Interest">Rebeh <span ng-bind="current.InterestRate | number: 1"><\/span>%<\/label><\/th><td><b ng-bind="\'RM \' + (current.Interest | number: 2)"><\/b><\/td><\/tr><tr><th><label for="LoanAmount">Baki Harga Jualan<\/label><\/th><td style="font-size: 22px"><b ng-bind="\'RM \' + (current.LoanAmount | number: 2)"><\/b><\/td><\/tr><tr ng-show="!isPriceMode"><th><label for="MonthlyAmount">Ansuran Bulanan<\/label><\/th><td><input type="number" id="MonthlyAmount" name="MonthlyAmount" min="0" max="9999" ng-model="current.MonthlyAmount" ng-blur="onCalculate()" autocomplete="off" /><\/td><\/tr><tr ng-show="isPriceMode"><th><label for="MonthlyAmount">Ansuran Bulanan<\/label><\/th><td style="font-size: 22px"><b ng-bind="\'RM \' + (current.MonthlyAmount | number: 2)"><\/b><\/td><\/tr><\/table><\/form><div class="body-div-nodata" ng-show="suggestions && suggestions.length  == 0" style="margin: 0 0 20px 10px"    >No promotions is found.<\/div><div class="data-list" ng-show="suggestions && suggestions.length  > 0"><div class="body-div-nodata" style="margin: 0 0 20px 10px">Suggestions:<\/div><div class="list-item" bindonce ng-repeat="model in suggestions"><b class="list-item-b" bo-bind="model.Sku + \': \' + model.Name">&nbsp;<\/b><span class="list-item-span">Monthly: RM<span bo-bind="model.MonthlyAmount | number: 2"><\/span>,Loan: RM<span bo-bind="model.LoanAmount | number: 2"><\/span><\/span><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/div><\/div>';window.templ.PernamaCalculatorPromoCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="applyLoan()" ng-disabled="isDisabled"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Apply<\/button><button class="menu-button" ng-click="onCalculate()"><svg class="menu-svg"><use xlink:href="#icon-playback-play"><\/use><\/svg> Run<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin: 120px auto 0 auto"><table class="form-table-horizontal"><tr><th><label for="TtpMonth">TTP<\/label><\/th><td><table><tr><td style="width: 50%; padding: 0"><select id="TtpMonth" name="TtpMonth" ng-model="current.TtpMonth" ng-change="onCalculate()"><option value="01">January<\/option><option value="02">February<\/option><option value="03">March<\/option><option value="04">April<\/option><option value="05">May<\/option><option value="06">June<\/option><option value="07">July<\/option><option value="08">August<\/option><option value="09">September<\/option><option value="10">October<\/option><option value="11">November<\/option><option value="12">December<\/option><\/select><\/td><td style="padding: 0 0 0 10px"><input type="number" id="TtpYear" min="2017" max="2999" name="TtpYear" ng-model="current.TtpYear" ng-change="onCalculate()" autocomplete="off" /><\/td><\/tr><\/table><\/td><\/tr><tr><th><label for="WorkingMonth">Working Month<\/label><\/th><td><b ng-bind="current.WorkingMonth"><\/b><\/td><\/tr><tr><th><label for="MaxLoanPeriod">Max Loan Period<\/label><\/th><td><b ng-bind="current.MaxLoanPeriod"><\/b><\/td><\/tr><tr><th><label for="Item">Produk<\/label><\/th><td><select id="Item" name="Item" ng-model="current.Item"ng-options="item as item.Name for item in groups track by item.Name"ng-change="onCalculate()"><\/select><\/td><\/tr><tr><th><label for="Quantity">Bilangan<\/label><\/th><td><select id="Quantity" name="Quantity" ng-model="current.Quantity" ng-change="onCalculate()"><option value="1">1<\/option><option value="2">2<\/option><\/select><\/td><\/tr><tr><th><label for="LoanPeriod">Tempoh Ansuran<\/label><\/th><td><input type="number" id="LoanPeriod" name="LoanPeriod" min="1" max="60" ng-model="current.LoanPeriod" ng-blur="onCalculate()" autocomplete="off" /><\/td><\/tr><!--<tr><th><label for="CashPrice"> Cash Price<\/label><\/th><td><b ng-bind="\'RM \' + (current.CashPrice | number: 2)"><\/b><\/td><\/tr>--><tr><th><label for="RetailPriceNoGst">Harga Runcit (No GST)<\/label><\/th><td><b ng-bind="\'RM \' + (current.RetailPriceNoGst | number: 2)"><\/b><\/td><\/tr><tr><th><label for="Gst">GST<\/label><\/th><td><b ng-bind="\'RM \' + (current.Gst | number: 2)"><\/b><\/td><\/tr><tr><th><label for="">Harga Jualan<\/label><\/th><td><b ng-bind="\'RM \' + (current.RetailPriceNoGst + current.Gst | number: 2)"><\/b><\/td><\/tr><tr><th><label for="Rebate">Rebeh<\/label><\/th><td><b ng-bind="\'RM \' + (current.Rebate | number: 2)"><\/b><\/td><\/tr><tr><th><label for="LoanAmount">Baki Harga Jualan<\/label><\/th><td style="font-size: 22px"><b ng-bind="\'RM \' + (current.LoanAmount | number: 2)"><\/b><\/td><\/tr><tr><th><label for="MonthlyAmount">Ansuran Bulanan<\/label><\/th><td style="font-size: 22px"><b ng-bind="\'RM \' + (current.MonthlyAmount | number: 2)"><\/b><\/td><\/tr><tr><th><label for="Remark">Remark<\/label><\/th><td><b ng-bind="current.Remark"><\/b><\/td><\/tr><tr><th><label for="Sku">SKU<\/label><\/th><td><b ng-bind="current.Sku"><\/b><\/td><\/tr><\/table><\/form>';window.templ.PernamaCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-class="{\'active\': tab == 1}" ng-click="changeTab(1)">Customer<\/button><button class="menu-button" ng-class="{\'active\': tab == 2}" ng-click="changeTab(2)">Item<\/button><button class="menu-button" ng-class="{\'active\': tab == 3}" ng-click="changeTab(3)">Loan<\/button><button class="menu-button" ng-click="print()"><svg class="menu-svg"><use xlink:href="#icon-print"><\/use><\/svg> Print<\/button><button class="menu-button" ng-click="delete()"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin: 120px auto 0 auto"><table class="form-table-horizontal" ng-show="tab == 1"><tr><th><label for="Kedai">Kedai Pernama<\/label><\/th><td><input id="Kedai" name="Kedai" type="text" ng-model="current.Kedai" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Code">Pemohon ID<\/label><\/th><td><input id="Code" name="Code" type="text" ng-model="current.Code" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Name">Nama<\/label><\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Unit">Unit<\/label><\/th><td><input type="text" id="Unit" name="Unit" ng-model="current.Unit" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Phone">Phone<\/label><\/th><td><input type="tel" id="Phone" name="Phone" ng-model="current.Phone" required autocomplete="off" /><\/td><\/tr><tr><th><label for="Address">Alamat <br /> Kampung<\/label><\/th><td><textarea id="Address" name="Address" ng-model="current.Address" required><\/textarea><\/td><\/tr><tr><th><label for="Remark">Remark<\/label><\/th><td><textarea id="Remark" name="Remark" ng-model="current.Remark"><\/textarea><\/td><\/tr><tr><th><label for="UserCode">User ID<\/label><\/th><td><input id="UserCode" name="UserCode" type="text" ng-model="current.UserCode" autocomplete="off" /><\/td><\/tr><\/table><div ng-show="tab == 2"><table class="form-table-horizontal" style="margin-bottom: 40px"><tr><td colspan="2"><b>Item 1<\/b><\/td><\/tr><tr><th><label for="Sku1">SKU<\/label><\/th><td><input id="Sku1" name="Sku1" type="text" ng-model="current.Sku1" autocomplete="off" /><\/td><\/tr><tr><th><label for="Item1">Produk<\/label><\/th><td><input id="Item1" name="Item1" type="text" ng-model="current.Item1" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price1">Harga Runcit<\/label><\/th><td><input id="Price1" name="Price1" type="number" ng-model="current.Price1" autocomplete="off" /><\/td><\/tr><tr><th><label for="Gst1">GST<\/label><\/th><td><input id="Gst1" name="Gst1" type="number" ng-model="current.Gst1" autocomplete="off" /><\/td><\/tr><tr><th><label for="TotalPrice1">Harga Jualan<\/label><\/th><td><input id="TotalPrice1" name="TotalPrice1" type="number" ng-model="current.TotalPrice1" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal" style="margin-bottom: 40px"><tr><td colspan="2"><b>Item 2<\/b><\/td><\/tr><tr><th><label for="Sku2">SKU<\/label><\/th><td><input id="Sku2" name="Sku2" type="text" ng-model="current.Sku2" autocomplete="off" /><\/td><\/tr><tr><th><label for="Item2">Produk<\/label><\/th><td><input id="Item2" name="Item2" type="text" ng-model="current.Item2" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price2">Harga Runcit<\/label><\/th><td><input id="Price2" name="Price2" type="number" ng-model="current.Price2" autocomplete="off" /><\/td><\/tr><tr><th><label for="Gst2">GST<\/label><\/th><td><input id="Gst2" name="Gst2" type="number" ng-model="current.Gst2" autocomplete="off" /><\/td><\/tr><tr><th><label for="TotalPrice2">Harga Jualan<\/label><\/th><td><input id="TotalPrice2" name="TotalPrice2" type="number" ng-model="current.TotalPrice2" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal"><tr><td colspan="2"><b>Item 3<\/b><\/td><\/tr><tr><th><label for="Sku3">SKU<\/label><\/th><td><input id="Sku3" name="Sku3" type="text" ng-model="current.Sku3" autocomplete="off" /><\/td><\/tr><tr><th><label for="Item3">Produk<\/label><\/th><td><input id="Item3" name="Item3" type="text" ng-model="current.Item3" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price3">Harga Runcit<\/label><\/th><td><input id="Price3" name="Price3" type="number" ng-model="current.Price3" autocomplete="off" /><\/td><\/tr><tr><th><label for="Gst3">GST<\/label><\/th><td><input id="Gst3" name="Gst3" type="number" ng-model="current.Gst3" autocomplete="off" /><\/td><\/tr><tr><th><label for="TotalPrice3">Harga Jualan<\/label><\/th><td><input id="TotalPrice3" name="TotalPrice3" type="number" ng-model="current.TotalPrice3" autocomplete="off" /><\/td><\/tr><\/table><\/div><table class="form-table-horizontal" ng-show="tab == 3"><tr><th><label for="TotalCashPrice">Jumlah Harga Jualan<\/label><\/th><td><input id="TotalCashPrice" name="TotalCashPrice" type="number" ng-model="current.TotalCashPrice" autocomplete="off" /><\/td><\/tr><tr><th><label for="Rebate">Rebeh<\/label><\/th><td><input id="Rebate" name="Rebate" type="number" ng-model="current.Rebate" autocomplete="off" /><\/td><\/tr><tr><th><label for="FirstPayment">Ansuran Pertama<\/label><\/th><td><input id="FirstPayment" name="FirstPayment" type="number" ng-model="current.FirstPayment" autocomplete="off" /><\/td><\/tr><tr><th><label for="FinanceAmount">Baki Harga Jualan<\/label><\/th><td><input id="FinanceAmount" name="FinanceAmount" type="number" ng-model="current.FinanceAmount" autocomplete="off" /><\/td><\/tr><tr><th><label for="LoanPeriod">Tempoh Ausuran<\/label><\/th><td><input id="LoanPeriod" name="LoanPeriod" type="number" ng-model="current.LoanPeriod" autocomplete="off" /><\/td><\/tr><tr><th><label for="MonthlyAmount">Ansuran Bulanan<\/label><\/th><td><input id="MonthlyAmount" name="MonthlyAmount" type="number" ng-model="current.MonthlyAmount" autocomplete="off" /><\/td><\/tr><tr><th><label for="AgreementNo">No Perjanjian<\/label><\/th><td><input id="AgreementNo" name="AgreementNo" type="text" ng-model="current.AgreementNo" autocomplete="off" /><\/td><\/tr><\/table><table class="form-table-horizontal"><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled">Save<\/button><\/td><\/tr><\/table><\/form>';window.templ.PernamasCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/pernama/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.Item"><\/span><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/a><\/div>';window.templ.PlaceCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="delete()"  ng-show="editMode" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><button class="menu-button" ng-click="gpsPosition()"><svg class="menu-svg"><use xlink:href="#icon-external-link"><\/use><\/svg> Current GPS Position<\/button><button class="menu-button" ng-click="reverseGeocode()"><svg class="menu-svg"><use xlink:href="#icon-external-link"><\/use><\/svg> Address to Lat/Lng<\/button><button class="menu-button" ng-click="geocode()"><svg class="menu-svg"><use xlink:href="#icon-external-link"><\/use><\/svg> Lat/Lng to Address<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px"><table class="form-table-horizontal"><tr><th>Name<\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Type<\/th><td><select id="PlaceType" name="PlaceType" ng-model="current.PlaceType" ng-change="onPlaceTypeChange(false)"><option value="Placemark">Placemark<\/option><option value="Area">Area<\/option><option value="Route">Route<\/option><\/select><\/td><\/tr><tr><th><label>Colour<\/label><\/th><td><table style="width: 100%; text-align: center;" ng-show="current.PlaceType == \'Placemark\'"><tr><td  style="width: 25%; padding: 5px"><input id="#4e2054" ng-model="current.Colour" value="#4e2054" type="radio" name="Colour" ng-change="redrawMap()"><label for="#4e2054" style="background: #4e2054; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td  style="width: 25%; padding: 5px"><input id="#3eb38a" ng-model="current.Colour" value="#3eb38a" type="radio" name="Colour" ng-change="redrawMap()"><label for="#3eb38a" style="background: #3eb38a; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td  style="width: 25%; padding: 5px"><input id="#ffd15c" ng-model="current.Colour" value="#ffd15c" type="radio" name="Colour" ng-change="redrawMap()"><label for="#ffd15c" style="background: #ffd15c; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td  style="width: 25%; padding: 5px"><input id="#ff525d" ng-model="current.Colour" value="#ff525d" type="radio" name="Colour" ng-change="redrawMap()"><label for="#ff525d" style="background: #ff525d; width: 48px; height: 48px; display: inline-block"><\/label><\/td><\/tr><\/table><table style="width: 100%; text-align: center;" ng-show="current.PlaceType == \'Route\'"><tr><td style="width: 25%; padding: 5px"><input id="#1bacf8" ng-model="current.Colour" value="#1bacf8" type="radio" name="Colour" ng-change="redrawMap()"><label for="#1bacf8" style="background: #1bacf8; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#ffcc02" ng-model="current.Colour" value="#ffcc02" type="radio" name="Colour" ng-change="redrawMap()"><label for="#ffcc02" style="background: #ffcc02; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#ff2a69" ng-model="current.Colour" value="#ff2a69" type="radio" name="Colour" ng-change="redrawMap()"><label for="#ff2a69" style="background: #ff2a69; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#63da37" ng-model="current.Colour" value="#63da37" type="radio" name="Colour" ng-change="redrawMap()"><label for="#63da37" style="background: #63da37; width: 48px; height: 48px; display: inline-block"><\/label><\/td><\/tr><\/table><table style="width: 100%; text-align: center;" ng-show="current.PlaceType == \'Area\'"><tr><td style="width: 25%; padding: 5px"><input id="#57668f" ng-model="current.Colour" value="#57668f" type="radio" name="Colour" ng-change="redrawMap()"><label for="#57668f"style="background: #57668f; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#abafbc" ng-model="current.Colour" value="#abafbc" type="radio" name="Colour" ng-change="redrawMap()"><label for="#abafbc" style="background: #abafbc; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#d5a187" ng-model="current.Colour" value="#d5a187" type="radio" name="Colour" ng-change="redrawMap()"><label for="#d5a187" style="background: #d5a187; width: 48px; height: 48px; display: inline-block"><\/label><\/td><td style="width: 25%; padding: 5px"><input id="#f6ddc9" ng-model="current.Colour" value="#f6ddc9" type="radio" name="Colour" ng-change="redrawMap()"><label for="#f6ddc9" style="background: #f6ddc9; width: 48px; height: 48px; display: inline-block"><\/label><\/td><\/tr><\/table><\/td><\/tr><tr><th><label for="Address">Address<\/label><\/th><td><input type="text" id="Address" name="Address" ng-model="current.Address" maxlength="255" autocomplete="off" /><\/td><\/tr><tr><th><label for="Lat" ng-bind="labelLat"><\/label><\/th><td><input type="number" id="Lat" name="Lat" ng-model="current.Lat" required autocomplete="off" ng-change="redrawMap()" /><\/td><\/tr><tr><th><label for="Lng" ng-bind="labelLng"><\/label><\/th><td><input type="number" id="Lng" name="Lng" ng-model="current.Lng" required autocomplete="off" ng-change="redrawMap()" /><\/td><\/tr><tr ng-show="labelLat2"><th><label for="Lat2" ng-bind="labelLat2"><\/label><\/th><td><input type="number" id="Lat2" name="Lat2" ng-model="current.Lat2" autocomplete="off" ng-change="redrawMap()" /><\/td><\/tr><tr ng-show="labelLng2"><th><label for="Lng2" ng-bind="labelLng2"><\/label><\/th><td><input type="number" id="Lng2" name="Lng2" ng-model="current.Lng2" autocomplete="off" ng-change="redrawMap()" /><\/td><\/tr><tr><td colspan="2"  style="text-align: center"><small style="text-align: center; font-size: 14px">Map [<a class="link-text-normal" href="" ng-click="redrawMap()">Redraw<\/a> - <a class="link-text-normal" href="" ng-click="enlargeMap()">Enlarge<\/a>] (Double click to place marker)<\/small><div id="mapcont" style="margin-top: 10px; max-width: 380px; width: 100%; height: 280px">  <\/div><\/td><\/tr><\/table><\/form><u-pane visible=\'paneShown\'><div style="position: absolute; top: 13px; left: 10px; right: 50px;"><input type="text" id="autocomplete" style="max-width: 100%; width: 100%" /><\/div><\/u-pane>';window.templ.PlacesCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/place/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.PlaceType"><\/span><div class="list-item-div" bo-style="{\'background\': model.Colour}"><\/div><\/a><\/div><u-fab-link url="#!/place" icon="#icon-plus"><\/u-fab-link>';window.templ.PlaybackCtrl='<u-menu caption="{{pageTitle}}"><div id="chartmenu" style="display: none"><button class="menu-button" ng-click="backToForm()" style="float: left"><svg class="menu-svg"><use xlink:href="#icon-android-arrow-back"><\/use><\/svg> <\/button><span ng-bind="title" class="menu-span-title"><\/span><button class="menu-button" style="float: right"> <\/button><\/div><div id="mapmenu" style="display: none; flex-grow: 2"><button class="menu-button" ng-click="backToForm()"><svg class="menu-svg"><use xlink:href="#icon-android-arrow-back"><\/use><\/svg><\/button><input id="slider" type="range" min="0" value="" oninput="angular.element(this).scope().onSliderChange(value)" max="{{pb.max}}" step="1" /><button class="menu-button" ng-click="onPlayPause()"><span ng-show="!pb.isPlayingMap"><svg class="menu-svg"><use xlink:href="#icon-playback-play"><\/use><\/svg><\/span><span ng-show="pb.isPlayingMap"><svg class="menu-svg"><use xlink:href="#icon-playback-pause"><\/use><\/svg><\/span><\/button><\/div><\/u-menu><div id="options" style="margin-top: 120px;"><form name="myForm" ng-submit="submitForm(myForm)" novalidate><table class="form-table-vertical"><tr><th><label for="Device">Device<\/label><\/th><\/tr><tr><td><oi-select oi-options="item for item in devices" ng-model="entry.Device"><\/oi-select><\/td><\/tr><tr><th><label for="Start">Start<\/label><\/th><\/tr><tr><td><input id="Start" name="Start" autocomplete="off" date-time type="text" auto-close="true" view="date" ng-model="entry.Start" format="D/M/YYYY h:mm a" readonly required><\/td><\/tr><tr><th><label for="End">End<\/label><\/th><\/tr><tr><td><input id="End" name="End" autocomplete="off" date-time type="text" auto-close="true" view="date" ng-model="entry.End" format="D/M/YYYY h:mm a" readonly required><\/td><\/tr><tr><th><label for="End">Output<\/label><\/th><\/tr><tr><td><select id="output" name="output" ng-model="entry.Output"><option value="Temperature">Temperature Chart<\/option><option value="Route">Route Map<\/option><option value="CSV">Route CSV<\/option><option value="Overspeed">Overspeed CSV<\/option><\/select><\/td><\/tr><tr><td><button class="form-button" ng-disabled="!myForm.$valid || isDisabled"> Submit<\/button><\/td><\/tr><\/table><\/form><a id="dllink" style="display: none" target="_blank"><\/a><\/div><div id="chart" style="display: none"><div id="graphdiv" class="playback-div-chart"><\/div><div id="labels" class="dygraph-legend-div"><\/div><\/div><div id="mapcont" class="map-div-cont" style="display: none"><\/div><div id="infoPane" class="map-div-info" ng-class="infoPanelClass"><div class="map-div-infoheader" ng-click="changeVisibility()"><div class="map-div-heading"><small class="map-small-heading">Device<\/small><span class="map-span-heading" ng-bind="current.Device"><\/span><\/div><div class="map-div-heading"><small class="map-small-heading">Speed<\/small><span class="map-span-heading" ng-bind="current.Speed"><\/span><small class="map-small-suffix">km/h<\/small><\/div><div class="map-div-heading"><small class="map-small-heading">Temperature<\/small><span class="map-span-heading" ng-bind="current.Temp1"><\/span><small class="map-small-suffix">&deg; / <\/small><span class="map-span-heading" ng-bind="current.Temp2"><\/span><small class="map-small-suffix">&deg;<\/small><\/div><\/div><div class="map-div-columns"><div class="map-div-col"><div class="map-div-detail"><small class="map-small-prefix">Time<\/small><span ng-bind="current.Time | date: \'d/M/yyyy h:mm:ss a\'"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Driver<\/small><span ng-bind="current.Driver"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Category<\/small><span ng-bind="current.Category"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Ignition<\/small><span ng-bind="current.Ignition ? \'On\' : \'Off\'"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Idling<\/small><span ng-bind="current.Idling"><\/span><small> mins<\/small><\/div><\/div><div class="map-div-col"><div class="map-div-detail"><small class="map-small-prefix">Fuel<\/small><span ng-bind="current.Fuel"><\/span><small>L<\/small><\/div><div class="map-div-detail"><small class="map-small-prefix">Mileage<\/small><span ng-bind="current.Mileage"><\/span><small ng-show="current.Mileage">km<\/small><\/div><div class="map-div-detail"><small class="map-small-prefix">Altitude<\/small><span ng-bind="current.Altitude"><\/span><small ng-show="current.Altitude">m<\/small><\/div><div class="map-div-detail"><small class="map-small-prefix">Latitude<\/small><span ng-bind="current.Lat"><\/span><\/div><div class="map-div-detail"><small class="map-small-prefix">Longitude<\/small><span ng-bind="current.Lng"><\/span><\/div><\/div><div class="map-div-col" style="position: relative"><img id="photo1" ng-show="photoIdx == 1" class="map-img-photo" ng-src="{{getPhoto(current.Photo)}}" ng-click="openPhoto(current.Photo)" /><img id="photo2" ng-show="photoIdx == 2" class="map-img-photo" ng-src="{{getPhoto(current.Photo2)}}" ng-click="openPhoto(current.Photo2)" /><img id="photo3" ng-show="photoIdx == 3" class="map-img-photo" ng-src="{{getPhoto(current.Photo3)}}" ng-click="openPhoto(current.Photo3)" /><div class="map-div-btngrp"><button class="map-button-idx" ng-class="{\'active\': photoIdx == 1}" ng-click="setPhotoIdx(1)">1<\/button><button class="map-button-idx" ng-class="{\'active\': photoIdx == 2}" ng-click="setPhotoIdx(2)">2<\/button><button class="map-button-idx" ng-class="{\'active\': photoIdx == 3}" ng-click="setPhotoIdx(3)">3<\/button><\/div><\/div><div class="map-div-col" style="width: 348px"><button class="map-div-chart map-button-temp" ng-click="showTempChart()" id="tempbtn">Show Temperature Chart<\/button><div id="graphdiv2" class="map-div-chart" style="display: none"><\/div><\/div><\/div><\/div><u-pane visible=\'paneShown\'><img ng-src="{{photoUrl}}" style="max-width: 100%" id="currentPhoto" /><\/u-pane>';window.templ.QnaCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px; padding-bottom: 0"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>ID<\/th><td><input type="text" id="Qid" name="Qid" ng-model="current.Qid" required maxlength="10" autocomplete="off" /><\/td><\/tr><tr><th>Question<\/th><td><textarea id="Question" name="Question" ng-model="current.Question" rows="3" maxlength="255"><\/textarea><\/td><\/tr><tr><th>Code<\/th><td><input type="text" id="Code" name="Code" ng-model="current.Code" required maxlength="50" autocomplete="off" /><\/td><\/tr><tr><th>Answers<\/th><td><a href="" class="link-text-normal" style="font-size: 14px; float: right" ng-click="addItem()">Add Answer<\/a><\/td><\/tr><\/table><\/div><\/form><div class="table-data-simple-cont" style="margin: 0 auto 40px auto; max-width: 960px"><table class="table-data-simple"><tr><th style="width: 99%">Text <small>(Clear text to delete)<\/small><\/th><th  style="min-width: 150px">Go To ID<\/th><\/tr><tr ng-repeat="model in current.Answers"><td ><input type="text" ng-model="model.Text" maxlength="100" style="max-width: unset; width: 100%; border: none" autocomplete="off" /><\/td><td><input type="text" ng-model="model.GoTo" maxlength="100" style="max-width: unset; width: 100%; border: none" autocomplete="off" /><\/td><\/tr><\/table><\/div>';window.templ.QnasCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/qna/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Question"><\/b><span class="list-item-span" bo-bind="model.Qid"><\/span><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/qna" icon="#icon-plus"><\/u-fab-link>';window.templ.SecurityGroupCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px"><div class="div-formcol"><table class="form-table-horizontal"><tr><th>Name<\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th>Security Grp / User<\/th><td><select id="SecurityGroup" name="SecurityGroup" ng-model="current.SecurityGroup" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Download / Computer Device<\/th><td><select id="Download" name="Download" ng-model="current.Download" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="filter.module.Hexagon"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Pinpoint<\/h2><\/td><\/tr><tr><th>Map<\/th><td><select id="Map" name="Map" ng-model="current.Map" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Playback<\/th><td><select id="Playback" name="Playback" ng-model="current.Playback" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Device<\/th><td><select id="Device" name="Device" ng-model="current.Device" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Alert<\/th><td><select id="Alert" name="Alert" ng-model="current.Alert" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Place<\/th><td><select id="Place" name="Place" ng-model="current.Place" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Announce<\/th><td><select id="Announce" name="Announce" ng-model="current.Announce" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="filter.module.Hexagon"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Longi SSR<\/h2><\/td><\/tr><tr><th>Longi Import<\/th><td><select id="LongiImport" name="LongiImport" ng-model="current.LongiImport" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Longi Export<\/th><td><select id="LongiExport" name="LongiExport" ng-model="current.LongiExport" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Longi Clearance<\/th><td><select id="LongiClearance" name="LongiClearance" ng-model="current.LongiClearance" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Mondelez SSR<\/h2><\/td><\/tr><tr><th>Pre-Carriage<\/th><td><select id="MdlzPreCarriage" name="MdlzPreCarriage" ng-model="current.MdlzPreCarriage" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><\/table><table class="form-table-horizontal" ng-show="filter.module.Medalink"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Medalink<\/h2><\/td><\/tr><tr><th>Aeon Loan<\/th><td><select id="AeonLoan" name="AeonLoan" ng-model="current.AeonLoan" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>MyKad<\/th><td><select id="Mykad" name="Mykad" ng-model="current.Mykad" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Google Play<\/th><td><select id="GooglePlay" name="GooglePlay" ng-model="current.GooglePlay" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Store<\/th><td><select id="Store" name="Store" ng-model="current.Store" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Easy Kira<\/th><td><select id="Medalink" name="Medalink" ng-model="current.Medalink" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><\/table><table class="form-table-horizontal"><tr><td colspan="2"><h2 class="home-title" style="margin-left: 0">Common<\/h2><\/td><\/tr><tr><th>File<\/th><td><select id="File" name="File" ng-model="current.File" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Form<\/th><td><select id="Form" name="Form" ng-model="current.Form" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Q&amp;A<\/th><td><select id="Question" name="Question" ng-model="current.Question" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Item<\/th><td><select id="Item" name="Item" ng-model="current.Item" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Post<\/th><td><select id="Post" name="Post" ng-model="current.Post" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><tr><th>Web Page<\/th><td><select id="WebPage" name="WebPage" ng-model="current.WebPage" ng-options="item.id as item.name for item in filter.options"><\/select><\/td><\/tr><\/table><\/div><\/form>';window.templ.SecurityGroupsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/security-group/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b2" bo-bind="model.Name"><\/b><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/security-group" icon="#icon-plus"><\/u-fab-link>';window.templ.ShopItemCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="margin-top: 120px"><table class="form-table-horizontal"><tr><th><label for="Active">Status<\/label><\/th><td><select id="Active" name="Active" ng-model="current.Active" ng-options="o.v as o.n for o in [{ n: \'Withdrawn\', v: false }, { n: \'Active\', v: true }]"><\/select><\/td><\/tr><tr><th><label for="Code">Item ID<\/label><\/th><td><input type="text" id="Code" name="Code" ng-model="current.Code" required maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th><label for="Name">Name<\/label><\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Category">Category<\/label><\/th><td><input type="text" id="Category" name="Category" ng-model="current.Category" maxlength="100" autocomplete="off" /><\/td><\/tr><tr><th><label for="Price">Price<\/label><\/th><td><input type="number" id="Price" name="Price" ng-model="current.Price" autocomplete="off" /><\/td><\/tr><tr><th><label for="Photo1">Photo 1<\/label><\/th><td><div style="position: relative"><input type="text" id="Photo1" name="Photo1" ng-model="current.Photo1" autocomplete="off" /><button type="button" class="form-button-side" ng-click="openPhoto(current.Photo1)">&#8230;<\/button><\/div><\/td><\/tr><tr><th><label for="Photo2">Photo 2<\/label><\/th><td><div style="position: relative"><input type="text" id="Photo2" name="Photo2" ng-model="current.Photo2" autocomplete="off" /><button type="button" class="form-button-side" ng-click="openPhoto(current.Photo2)">&#8230;<\/button><\/div><\/td><\/tr><tr><th><label for="Photo3">Photo 3<\/label><\/th><td><div style="position: relative"><input type="text" id="Photo3" name="Photo3" ng-model="current.Photo3" autocomplete="off" /><button type="button" class="form-button-side" ng-click="openPhoto(current.Photo3)">&#8230;<\/button><\/div><\/td><\/tr><tr><th><label for="Photo4">Photo 4<\/label><\/th><td><div style="position: relative"><input type="text" id="Photo4" name="Photo4" ng-model="current.Photo4" autocomplete="off" /><button type="button" class="form-button-side" ng-click="openPhoto(current.Photo4)">&#8230;<\/button><\/div><\/td><\/tr><tr><th><label for="Description">Description<\/label><\/th><td><textarea id="Description" name="Description" rows="5" ng-model="current.Description" maxlength="1000"><\/textarea><\/td><\/tr><\/table><\/form><div id="toolbar" class="toolbar" style="display: none;"><div class="block"><a data-wysihtml-command="undo" data-icon="e" title="Undo"><\/a><a data-wysihtml-command="redo" data-icon="f" title="Redo"><\/a><a data-wysihtml-action="change_view" data-icon="m" title="HTML"><\/a><\/div><div class="block"><a data-wysihtml-command="bold" data-icon="h" title="Bold"><\/a><a data-wysihtml-command="italic" data-icon="i" title="Italic"><\/a><a data-wysihtml-command="underline" data-icon="j" title="Underline"><\/a><\/div><div class="block"><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="h2" data-icon="t" title="Heading 2">2<\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="h3" data-icon="t" title="Heading 3">3<\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-value="p" data-icon="p" title="Paragraph"><\/a><a data-wysihtml-command="formatBlock" data-wysihtml-command-blank-value="true" data-icon="q" title="Plain"><\/a><\/div><div class="block"><a data-wysihtml-command="alignLeftStyle" data-icon="b" title="Left"><\/a><a data-wysihtml-command="alignCenterStyle" data-icon="d" title="Center"><\/a><a data-wysihtml-command="alignRightStyle" data-icon="c" title="Right"><\/a><\/div><div class="block"><a data-wysihtml-command="insertUnorderedList" data-icon="n" title="Unordered List"><\/a><a data-wysihtml-command="insertOrderedList" data-icon="o" title="Ordered List"><\/a><a data-wysihtml-command="outdentList" data-icon="r" title="Outdent"><\/a><a data-wysihtml-command="indentList" data-icon="s" title="Indent"><\/a><\/div><div class="block"><a data-wysihtml-command="insertImage" data-icon="u" title="Image"><\/a><a data-wysihtml-command="createLink" data-icon="v" title="Link"><\/a><a data-wysihtml-command="removeLink" data-icon="w" title="Unlink"><\/a><a data-wysihtml-command="fontSizeStyle" data-icon="x" title="Font Size"><\/a><a data-wysihtml-command="foreColorStyle" data-icon="z" title="Font Color"><\/a><a data-wysihtml-command="bgColorStyle" data-icon="y" title="Background Color"><\/a><\/div><div class="block"><a data-wysihtml-command="insertBlockQuote" data-icon="k" title="Blockquote"><\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="createLink" style="display: none;" class="html-dlg"><label>URL:<\/label><input data-wysihtml-dialog-field="href" value="http://"><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="fontSizeStyle" style="display: none;" class="html-dlg"><label> Size:<\/label><input type="text" data-wysihtml-dialog-field="size" value="" /><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="bgColorStyle" style="display: none;" class="html-dlg"><label>Background Color:<\/label><input type="text" data-wysihtml-dialog-field="color" value="rgba(0,0,0,1)" /><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="foreColorStyle" style="display: none;" class="html-dlg"><label>Font Color:<\/label><input type="text" data-wysihtml-dialog-field="color" value="rgba(0,0,0,1)" /><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="insertImage" style="display: none;" class="html-dlg"><label>URL:<\/label><input data-wysihtml-dialog-field="src" value=""><label>Align:<\/label><select data-wysihtml-dialog-field="className" style="width: 80px"><option value="">Default<\/option><option value="wysiwyg-float-left">Left<\/option><option value="wysiwyg-float-right">Right<\/option><\/select><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><\/div><div id="editor" class="post"><\/div><div class="table-data-simple-cont" style="max-width: 800px; margin: 40px auto"><table class="table-data-simple"><tr><th>Name<\/th><th>Remark<\/th><th>&gt;= Qty<\/th><th>&lt; Qty<\/th><th>Price<\/th><\/tr><tr ng-repeat="model in current.List"><td style="width: 25%"><input type="text" ng-model="model.Name" required maxlength="100" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><\/td><td style="padding-right: 0; width: 30%"><input type="text" ng-model="model.Remark" maxlength="100" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><\/td><td style="padding-right: 0; width: 15%"><input type="number" ng-model="model.FromQtyGte" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><\/td><td style="padding-right: 0; width: 15%"><input type="number" ng-model="model.ToQtyLt" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><\/td><td style="width: 15%"><input type="number" ng-model="model.Price" style="max-width: unset; width: 100%; border: none; outline: none" autocomplete="off" /><\/td><\/tr><tr><td colspan="5" style="padding-bottom: 20px"><button class="form-button" ng-click="addItem()" type="button">Add<\/button><\/td><\/tr><\/table><\/div><u-pane visible=\'paneShown\'><img ng-src="{{display}}" style="max-width: 100%" id="currentPhoto" ng-show="display" /><\/u-pane>';window.templ.ShopItemsCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/shop-item/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span" bo-bind="model.Category"><\/span><em class="list-item-em" bo-bind="\'RM \' + (model.Price | number:2 )"><\/em><div class="list-item-div" bo-if="model.Active"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><div class="list-item-div icon-alert" bo-if="!model.Active"><svg class="list-item-svgl"><use xlink:href="#icon-alert"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/shop-item" icon="#icon-plus"><\/u-fab-link>';window.templ.StoreCtrl='<u-header caption="{{deviceCode}}"><\/u-header><u-refresh><\/u-refresh><form style="padding: 70px 10px 20px 10px"><table style="width: 100%"><tr><td style="width: 50px">Email:<\/td><td><select id="currentEmail" name="currentEmail" ng-model="currentEmail" ng-options="o.name as o.name for o in accounts"><\/select><\/td><\/tr><\/table><\/form><table class="table-data-simple" style="margin: 0 0 20px 0"><tr><th>Date<\/th><th style="text-align: right">RM<\/th><th style="text-align: right">Qty<\/th><\/tr><tr ng-repeat="model in tallies"><td ng-bind="model.Day | date: \'d/M/yyyy\'"><\/td><td ng-bind="model.Amount | number: 0" style="text-align: right"><\/td><td ng-bind="model.Quantity | number: 0" style="text-align: right"><\/td><\/tr><\/table><table class="table-data-simple"><tr ng-repeat="model in products"><td><span style="display: inline-block; line-height: 50px" ng-bind="\'RM \' + (model.price | number: 2)"><\/span><button class="form-button" ng-bind="model.balance" ng-click="consume(model)" style="float: right; margin: 5px 0; min-width: 70px; line-height: 40px"><\/button><button class="form-button" ng-click="buy(model)" style="min-width: 70px; float: right; margin: 5px 10px; line-height: 40px">Buy<\/button><\/td><\/tr><\/table><u-nodata ng-show="products && products.length === 0"><\/u-nodata>';window.templ.SyncCtrl='<u-header caption="{{pageTitle}}"><\/u-header><div style="padding: 70px 10px; text-align: center"><h1 style="font-size: 28px; font-weight: 600; margin: 20px 0">Calculator<\/h1><div ng-bind="current.lastSync | date: \'d-M-yyyy h:mm a\'"><\/div><h1 style="font-size: 28px; font-weight: 600; margin: 50px 0 20px 0">Pernama<\/h1><div ng-bind="current.totalPernama"><\/div><h1 style="font-size: 28px; font-weight: 600; margin: 50px 0 20px 0">Aeon<\/h1><div ng-bind="current.totalAeon"><\/div><button class="form-button" ng-disabled="isDisabled" ng-click="sync()" style="margin: 50px auto">Sync<\/button><\/div>';window.templ.UserCtrl='<u-header caption="{{pageTitle}}"><\/u-header><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 70px"><table class="form-table-vertical"><tr><th>User ID<\/th><\/tr><tr><td><input type="text" id="Code" name="Code" ng-model="current.Code" readonly autocomplete="off" /><\/td><\/tr><tr><th>Name<\/th><\/tr><tr><td><input type="text" id="Name" name="Name" ng-model="current.Name" readonly autocomplete="off" /><\/td><\/tr><tr><th>Pinpoint User Group<\/th><\/tr><tr><td><input type="text" id="UserGroup" name="UserGroup" ng-model="current.UserGroup" maxlength="20" autocomplete="off" /><\/td><\/tr><tr><th>Security Group<\/th><\/tr><tr><td><select ng-model="current.WebSecurityGroupId" ng-options="item.Id as item.Name for item in filter.sgs"><\/select><\/td><\/tr><tr><td><button class="form-button">Save<\/button><\/td><\/tr><\/table><\/form>';window.templ.UsersCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 100px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><div style="height: 50px"><\/div><u-find count="filtered.length" search-text="filter.findText" options="filter.options"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b" bo-bind="model.Name"><\/b><span class="list-item-span"  bo-bind="model.Code"><\/span><em class="list-item-em" bo-bind="model.SecurityGroup"><\/em><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-check-1"><\/use><\/svg><\/div><\/a><\/div>';window.templ.WebpageCtrl='<u-menu caption="{{pageTitle}}"><button class="menu-button" ng-click="onNew()"><svg class="menu-svg"><use xlink:href="#icon-plus"><\/use><\/svg> Add<\/button><button class="menu-button" ng-click="submitForm(myForm)" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-floppy-o"><\/use><\/svg> Save<\/button><button class="menu-button" ng-click="remove()" ng-disabled="!myForm.$valid || isDisabled"><svg class="menu-svg"><use xlink:href="#icon-close"><\/use><\/svg> Remove<\/button><\/u-menu><form name="myForm" ng-submit="submitForm(myForm)" novalidate style="padding-top: 120px;"><table class="form-table-horizontal"><tr><th><label for="Name">Title<\/label><\/th><td><input type="text" id="Name" name="Name" ng-model="current.Name" required maxlength="100" autocomplete="off" /><\/td><\/table><\/form><div id="toolbar" class="toolbar" style="display: none;"><div class="block"><a data-wysihtml-command="undo" data-icon="e" title="Undo"><\/a><a data-wysihtml-command="redo" data-icon="f" title="Redo"><\/a><a data-wysihtml-action="change_view" data-icon="m" title="HTML"><\/a><\/div><div class="block"><a data-wysihtml-command="bold" data-icon="h" title="Bold"><\/a><a data-wysihtml-command="italic" data-icon="i" title="Italic"><\/a><a data-wysihtml-command="underline" data-icon="j" title="Underline"><\/a><\/div><div class="block"><a data-wysihtml-command="insertUnorderedList" data-icon="n" title="Unordered List"><\/a><a data-wysihtml-command="insertOrderedList" data-icon="o" title="Ordered List"><\/a><a data-wysihtml-command="outdentList" data-icon="r" title="Outdent"><\/a><a data-wysihtml-command="indentList" data-icon="s" title="Indent"><\/a><\/div><div class="block"><a data-wysihtml-command="insertImage" data-icon="u" title="Image"><\/a><a data-wysihtml-command="createLink" data-icon="v" title="Link"><\/a><a data-wysihtml-command="removeLink" data-icon="w" title="Unlink"><\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="createLink" style="display: none;" class="html-dlg"><label>URL:<\/label><input data-wysihtml-dialog-field="href" value="http://"><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><div data-wysihtml-dialog="insertImage" style="display: none;" class="html-dlg"><label>URL:<\/label><input data-wysihtml-dialog-field="src" value=""><label>Align:<\/label><select data-wysihtml-dialog-field="className" style="width: 80px"><option value="">Default<\/option><option value="wysiwyg-float-left">Left<\/option><option value="wysiwyg-float-right">Right<\/option><\/select><a data-wysihtml-dialog-action="save">OK<\/a><a data-wysihtml-dialog-action="cancel">Cancel<\/a><\/div><div style="clear: both"><\/div><\/div><div id="editor" class="post"><\/div>';window.templ.WebpagesCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-find count="filtered.length" search-text="filter.findText"><\/u-find><u-nodata ng-show="list && list.length === 0"><\/u-nodata><div class="data-list" keep-scroll-pos><a class="list-item" bo-href="\'#!/webpage/\' + model.Id" bindonce ng-repeat="model in filtered = (list | filter:filter.findText)"><b class="list-item-b2" bo-bind="model.Name"><\/b><div class="list-item-div"><svg class="list-item-svgl"><use xlink:href="#icon-android-arrow-forward"><\/use><\/svg><\/div><\/a><\/div><u-fab-link url="#!/webpage" icon="#icon-plus"><\/u-fab-link>',function(){function t(n,t){var r=32768,u=function(r){var u=f(r),e=new FileReader;return e.onloadend=function(r){if(r.target.readyState==FileReader.DONE&&!u.cancelled){var f=u.fileUrl+"&comp=block&blockid="+u.blockIds[u.blockIds.length-1],o=new Uint8Array(r.target.result);n.log(f);t.put(f,o,{headers:{"x-ms-blob-type":"BlockBlob","Content-Type":u.file.type,"Cache-Control":"public, max-age=31536000"},transformRequest:[]}).then(function(n){if(window.uplus.isSuccess(n.status)){u.bytesUploaded+=o.length;var t=(parseFloat(u.bytesUploaded)/parseFloat(u.file.size)*100).toFixed(2);u.progress&&u.progress(t,n);i(e,u)}else u.error&&u.error(n)})}},i(e,u),{cancel:function(){u.cancelled=!0}}},f=function(t){var f=r;t.blockSize&&(f=t.blockSize);var i=f,e=1,o=t.file,u=o.size;return u<f&&(i=u,n.log("max block size = "+i)),e=u%i==0?u/i:parseInt(u/i,10)+1,n.log("total blocks = "+e),{maxBlockSize:i,numberOfBlocks:e,totalBytesRemaining:u,currentFilePointer:0,blockIds:[],blockIdPrefix:"block-",bytesUploaded:0,submitUri:null,file:o,baseUrl:t.baseUrl,sasToken:t.sasToken,fileUrl:t.baseUrl+t.sasToken,progress:t.progress,complete:t.complete,error:t.error,cancelled:!1}},i=function(t,i){if(!i.cancelled)if(i.totalBytesRemaining>0){n.log("current file pointer = "+i.currentFilePointer+" bytes read = "+i.maxBlockSize);var u=i.file.slice(i.currentFilePointer,i.currentFilePointer+i.maxBlockSize),r=i.blockIdPrefix+o(i.blockIds.length,6);n.log("block id = "+r);i.blockIds.push(btoa(r));t.readAsArrayBuffer(u);i.currentFilePointer+=i.maxBlockSize;i.totalBytesRemaining-=i.maxBlockSize;i.totalBytesRemaining<i.maxBlockSize&&(i.maxBlockSize=i.totalBytesRemaining)}else e(i)},e=function(i){var f=i.fileUrl+"&comp=blocklist",r,u;for(n.log(f),r='<?xml version="1.0" encoding="utf-8"?><BlockList>',u=0;u<i.blockIds.length;u++)r+="<Latest>"+i.blockIds[u]+"<\/Latest>";r+="<\/BlockList>";n.log(r);t.put(f,r,{headers:{"Cache-Control":"public, max-age=31536000","x-ms-blob-content-type":i.file.type}}).then(function(n){window.uplus.isSuccess(n.status)?i.complete&&i.complete(n):i.error&&i.error(n)})},o=function(n,t){for(var i=""+n;i.length<t;)i="0"+i;return i};return{upload:u}}var n=angular.module("uplus");n.factory("azureBlob",["$log","$http",t])}(),function(){"use strict";angular.module("uplus").directive("bindonce",function(){var t=function(n){if(n&&n.length!==0){var t=angular.lowercase(""+n);n=!(t==="f"||t==="0"||t==="false"||t==="no"||t==="n"||t==="[]")}else n=!1;return n},n=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);return isNaN(n)&&(n=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10)),{restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(i,r,u,f){var o=function(n,i,r){var u=i==="show"?"":"none",f=i==="hide"?"":"none";n.css("display",t(r)?u:f)},s=function(n,t){if(angular.isObject(t)&&!angular.isArray(t)){var i=[];angular.forEach(t,function(n,t){n&&i.push(t)});t=i}t&&n.addClass(angular.isArray(t)?t.join(" "):t)},e=function(n,t){n.transclude(t,function(t){var r=n.element.parent(),i=n.element&&n.element[n.element.length-1],u=r&&r[0]||i&&i.parentNode,f=i&&i.nextSibling||null;angular.forEach(t,function(n){u.insertBefore(n,f)})})},h={watcherRemover:undefined,binders:[],group:u.boName,element:r,ran:!1,addBinder:function(n){this.binders.push(n);this.ran&&this.runBinders()},setupWatcher:function(n){var t=this;this.watcherRemover=i.$watch(n,function(n){n!==undefined&&(t.removeWatcher(),t.checkBindonce(n))},!0)},checkBindonce:function(n){var t=this,i=n.$promise?n.$promise.then:n.then;typeof i=="function"?i(function(){t.runBinders()}):t.runBinders()},removeWatcher:function(){this.watcherRemover!==undefined&&(this.watcherRemover(),this.watcherRemover=undefined)},runBinders:function(){for(var i,r,c,h,u;this.binders.length>0;)if(i=this.binders.shift(),!this.group||this.group==i.group){r=i.scope.$eval(i.interpolate?f(i.value):i.value);switch(i.attr){case"boIf":t(r)&&e(i,i.scope.$new());break;case"boSwitch":h=i.controller[0];(c=h.cases["!"+r]||h.cases["?"])&&(i.scope.$eval(i.attrs.change),angular.forEach(c,function(n){e(n,i.scope.$new())}));break;case"boSwitchWhen":u=i.controller[0];u.cases["!"+i.attrs.boSwitchWhen]=u.cases["!"+i.attrs.boSwitchWhen]||[];u.cases["!"+i.attrs.boSwitchWhen].push({transclude:i.transclude,element:i.element});break;case"boSwitchDefault":u=i.controller[0];u.cases["?"]=u.cases["?"]||[];u.cases["?"].push({transclude:i.transclude,element:i.element});break;case"hide":case"show":o(i.element,i.attr,r);break;case"class":s(i.element,r);break;case"text":i.element.text(r);break;case"html":i.element.html(r);break;case"style":i.element.css(r);break;case"disabled":i.element.prop("disabled",r);break;case"src":i.element.attr(i.attr,r);n&&i.element.prop("src",r);break;case"attr":angular.forEach(i.attrs,function(n,t){var r,u;t.match(/^boAttr./)&&i.attrs[t]&&(r=t.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),u=i.scope.$eval(i.attrs[t]),i.element.attr(r,u))});break;case"href":case"alt":case"title":case"id":case"value":i.element.attr(i.attr,r)}}this.ran=!0}};angular.extend(this,h)}],link:function(n,t,i,r){var u=i.bindonce&&n.$eval(i.bindonce);u!==undefined?r.checkBindonce(u):(r.setupWatcher(i.bindonce),t.bind("$destroy",r.removeWatcher))}}});angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boDisabled",attribute:"disabled"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(n){var t=200;return angular.module("uplus").directive(n.directiveName,function(){return{priority:n.priority||t,transclude:n.transclude||!1,terminal:n.terminal||!1,require:["^bindonce"].concat(n.require||[]),controller:n.controller,compile:function(t,i,r){return function(t,i,u,f){var e=f[0],s=u.boParent,o,h;if(s&&e.group!==s){for(o=e.element.parent(),e=undefined;o[0].nodeType!==9&&o.length;){if((h=o.data("$bindonceController"))&&h.group===s){e=h;break}o=o.parent()}if(!e)throw new Error("No bindonce controller: "+s);}e.addBinder({element:i,attr:n.attribute||n.directiveName,attrs:u,value:u[n.directiveName],interpolate:n.interpolate,group:s,transclude:r,controller:f.slice(1),scope:t})}}}})})}();angular.module("uplus").service("cacheSvc",["$http","$q",function(n,t){return{get:function(i){var r,u,f;return window.myCache||(window.myCache={}),r=t.defer(),window.myCache[i]?(u=window.myCache[i],Array.isArray(u)?(f=u.slice(0),r.resolve(f)):r.resolve(u)):n.get(i).then(function(n){window.uplus.isSuccess(n.status)?(window.myCache||(window.myCache={}),window.myCache[i]=n.data,r.resolve(n.data)):r.reject(n.data)}),r.promise},getOnce:function(i){var r,u;return window.myCache||(window.myCache={}),r=t.defer(),window.myCache[i]?(u=window.myCache[i],delete window.myCache[i],r.resolve(u)):n.get(i).then(function(n){window.uplus.isSuccess(n.status)?r.resolve(n.data):r.reject(n.data)}),r.promise},remove:function(n){window.myCache&&(window.myCache[n]=undefined)},prepend:function(n,t){if(window.myCache){var i=window.myCache[n];i&&(i.unshift(t),window.myCache[n]=i)}},append:function(n,t){if(window.myCache){var i=window.myCache[n];i&&(i.push(t),window.myCache[n]=i)}},replace:function(n,t){window.myCache||(window.myCache={});window.myCache[n]=t},replaceItem:function(n,t,i){var r,f,u;if(window.myCache&&(r=window.myCache[n],r))for(f=null,u=0;u<r.length;u++)if(f=r[u],f.Id===i.Id){r[u]=i;break}},removeItem:function(n,t){var i,u,r;if(window.myCache&&(i=window.myCache[n],i))for(u=null,r=0;r<i.length;r++)if(u=i[r],u.Id===t){i.splice(r,1);break}},find:function(n){if(window.myCache)return window.myCache[n]}}}]);angular.module("uplus").directive("compareCheck",function(){return{require:"ngModel",link:function(n,t,i,r){i.compareCheck&&(n.$watch(i.compareCheck,function(n){r.$viewValue!==undefined&&r.$viewValue!==""&&r.$setValidity("compareCheck",n===r.$viewValue)}),r.$parsers.push(function(t){if(t===undefined||t==="")return r.$setValidity("compareCheck",!0),t;var u=t===n.$eval(i.compareCheck);return r.$setValidity("compareCheck",u),u?t:undefined}))}}});angular.module("uplus").directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function u(){r.$setViewValue(t.text())}r.$render=function(){t.html(r.$viewValue||"")};t.bind("blur keyup change",function(){n.$apply(u)})}}});angular.module("uplus").directive("fileread",[function(){return{scope:{fileread:"="},link:function(n,t,i){t.bind("change",function(r){var u=new FileReader;u.onload=function(r){var u=document.createElement("img");u.onload=function(){var o=document.createElement("canvas"),s=o.getContext("2d"),f,e,l;s.drawImage(u,0,0);var h=600,c=600,t=parseInt(u.width,10),r=parseInt(u.height,10);t==0&&(t=parseInt(u.naturalWidth,10),r=parseInt(u.naturalHeight,10));f=parseInt(i["u-width"],10);f||(f=270);e=f;t>r?(t>f?e=r*f/t:(f=t,e=r),t>h&&(r*=h/t,t=h)):(r>e?f=t*e/r:(f=t,e=r),r>c&&(t*=c/r,r=c));o.width=t;o.height=r;s=o.getContext("2d");s.drawImage(u,0,0,t,r);l=o.toDataURL("image/jpeg",.8);n.$apply(function(){n.fileread={Data:l,Width:Math.ceil(f),Height:Math.ceil(e)}})};u.src=r.target.result;t[0].value=null};u.readAsDataURL(r.target.files[0])})}}}]);angular.module("uplus").config(["$httpProvider",function(n){n.defaults.headers.get||(n.defaults.headers.get={});n.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT";n.defaults.headers.get["Cache-Control"]="no-cache";n.defaults.headers.get.Pragma="no-cache";n.defaults.withCredentials=!0;n.interceptors.push(["$q","$rootScope","$location","$timeout","$injector",function(n,t,i,r,u){return{request:function(i){if(t.$broadcast("loading-started"),i.url.substring(0,5)==="/api/"){i.hasOwnProperty("timeout")||(i.timeout=2e4);i.url=window.uplus.baseUrl+i.url;var r=window.localStorage.getItem("token");r&&(i.headers.Authorization="Bearer "+r)}return i||n.when(i)},response:function(f){if(t.$broadcast("loading-complete"),f.status===500)f.data&&!/<[a-z][\s\S]*>/i.test(f.data)?t.$broadcast("OnAjaxError",{message:f.data}):t.$broadcast("OnAjaxError",{message:"Internal error. Please try again."});else if(f.status===401){var e=i.url();e!=="/"&&(t.returnToUrl=e);i.path("/")}else if(f.status===403)t.$broadcast("OnAjaxError",{message:"Access denied."});else if(f.status===400)t.$broadcast("OnAjaxError",{message:f.data.error});else if(f.status===404)i.path("/not-found");else if(f.status===408)t.$broadcast("OnAjaxError",{message:"Request timeout. Please try again."});else if(f.status<=0)return f.config.Retries&&f.config.Retries!==1?(f.config.Retries=null,t.$broadcast("OnAjaxError",{message:"Request timeout. Please try again."}),n.when(f)):r(function(){f.config.Retries=f.config.Retries?2:1;var n=u.get("$http");return n(f.config)},500);return f||n.when(f)},responseError:function(f){if(t.$broadcast("loading-complete"),f.status===500)f.data&&!/<[a-z][\s\S]*>/i.test(f.data)?t.$broadcast("OnAjaxError",{message:f.data}):t.$broadcast("OnAjaxError",{message:"Internal error. Please try again."});else if(f.status===401){var e=i.url();e!=="/"&&(t.returnToUrl=e);i.path("/")}else if(f.status===403)t.$broadcast("OnAjaxError",{message:"Access denied."});else if(f.status===400)t.$broadcast("OnAjaxError",{message:f.data.error});else if(f.status===404)i.path("/not-found");else if(f.status===408)t.$broadcast("OnAjaxError",{message:"Request timeout. Please try again."});else if(f.status<=0)return f.config.Retries&&f.config.Retries!==1?(f.config.Retries=null,t.$broadcast("OnAjaxError",{message:"Request timeout. Please try again."}),n.reject(f)):r(function(){f.config.Retries=f.config.Retries?2:1;var n=u.get("$http");return n(f.config)},500);return f||n.reject(f)}}}])}]);angular.module("uplus").directive("keepScrollPos",["$route","$window","$timeout","$location","$anchorScroll",function(n,t,i,r,u){return{restrict:"A",link:function(f){f.$on("$routeChangeStart",function(){n.current&&(window.uplus.scrollPosCache||(window.uplus.scrollPosCache={}),window.uplus.scrollPosCache[n.current.loadedTemplateUrl]=[t.pageXOffset,t.pageYOffset])});f.$on("$routeChangeSuccess",function(){if(r.hash())u();else if(window.uplus.scrollPosCache){var f=window.uplus.scrollPosCache[n.current.loadedTemplateUrl]||[0,0];i(function(){t.scrollTo(f[0],f[1])},0)}})}}}]);angular.module("uplus").service("loadGmap",["$window","$q",function(n,t){function f(){var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?v=3.27&region=MY&libraries=places&callback=initMap&key=AIzaSyDvkW8r0vdJboro7aTj7-vXetqsAJeqAfc";document.body.appendChild(n)}var i=t.defer(),r,u;return n.initMap=function(){window.Tooltip||r();window.uplus.MarkerLabel||u();i.resolve()},r=function(){window.Tooltip=function(n){this.marker_=n.marker;this.content_=n.content;this.map_=n.marker.get("map");this.cssClass_=n.cssClass||null;this.isVisible=!1;this.div_=null;this.setMap(this.map_);var t=this;google.maps.event.addListener(t.marker_,"mouseover",function(){t.isVisible=!0;t.show()});google.maps.event.addListener(t.marker_,"click",function(){t.isVisible?(t.isVisible=!1,t.hide()):(t.isVisible=!0,t.show())});google.maps.event.addListener(t.marker_,"mouseout",function(){t.isVisible=!1;t.hide()})};window.Tooltip.prototype=new google.maps.OverlayView;window.Tooltip.prototype.onAdd=function(){var n=document.createElement("DIV"),t;n.style.position="absolute";n.style.visibility="hidden";this.cssClass_&&(n.className+=" "+this.cssClass_);n.innerText=this.content_;this.div_=n;t=this.getPanes();t.floatPane.appendChild(this.div_)};window.Tooltip.prototype.draw=function(){var i=this.getProjection(),n=i.fromLatLngToDivPixel(this.marker_.getPosition()),t=this.div_;t.style.left=n.x+8+"px";t.style.top=n.y+"px"};window.Tooltip.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&this.div_.parentNode.removeChild(this.div_);this.map_=null;this.marker_=null;this.setMap(null)};window.Tooltip.prototype.hide=function(){this.div_&&(this.div_.style.visibility="hidden")};window.Tooltip.prototype.show=function(){this.div_&&(this.div_.style.visibility="visible")}},u=function(){window.uplus.MarkerLabel=function(n){this.setValues(n);this.span=document.createElement("span");this.span.className="marker-label";this.span.innerText=n.text;this.span.style.background=n.color};window.uplus.MarkerLabel.prototype=angular.extend(new google.maps.OverlayView,{onAdd:function(){this.getPanes().overlayLayer.appendChild(this.span);var n=this;this.listeners=[google.maps.event.addListener(this,"position_changed",function(){n.draw()})]},draw:function(){var n=this.getProjection().fromLatLngToDivPixel(this.get("position"));this.span.style.left=n.x+5+"px";this.span.style.top=n.y+5+"px"},toggle:function(){this.span&&(this.span.style.visibility=this.span.style.visibility=="hidden"?"visible":"hidden")},remove:function(){this.marker=null;this.setMap(null);this.span&&this.span.parentNode&&this.span.parentNode.removeChild(this.span)},updateText:function(n){this.span&&(this.span.innerText=n)}});google.maps.Marker.prototype.setLabel=function(n){this.label=new window.uplus.MarkerLabel({map:this.map,marker:this,text:n.text,color:n.color});this.label.bindTo("position",this,"position")}},window.google&&window.google.maps?i.resolve():f(),i.promise}]);angular.module("uplus").service("loadScript",["$q",function(n){function i(n){var r=!1,i=document.createElement("script");i.type="text/javascript";i.src=n;i.onload=i.onreadystatechange=function(){r||this.readyState&&this.readyState!="complete"||(r=!0,t.resolve())};document.body.appendChild(i)}var t=n.defer();return window.DevExpress?t.resolve():i("/dx.web.js"),t.promise}]);angular.module("uplus").service("loadWysihtml",["$window","$q",function(n,t){function r(n){var r=!1,t=document.createElement("script");t.type="text/javascript";t.src=n;t.onload=t.onreadystatechange=function(){r||this.readyState&&this.readyState!="complete"||(r=!0,i.resolve())};document.body.appendChild(t)}var i=t.defer();return window.wysihtml?i.resolve():r("/wysihtml.min.js"),i.promise}]);angular.module("uplus").value("uiMaskConfig",{maskDefinitions:{"9":/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0}).directive("uiMask",["uiMaskConfig","$parse",function(n,t){function i(n){return n===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(n.type||n.href||~n.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var r=n;return function(n,u,f,e){function bt(n){return angular.isDefined(n)?(ui(n),!a)?vt():(gt(),ni(),!0):vt()}function at(n){angular.isDefined(n)&&(l=n,a&&v())}function kt(n){return a?(o=w(n||""),h=ft(o),e.$setValidity("mask",h),h&&o.length?b(o):undefined):n}function dt(n){return a?(o=w(n||""),h=ft(o),e.$viewValue=o.length?b(o):"",e.$setValidity("mask",h),o===""&&f.required&&e.$setValidity("required",!e.$error.required),h?o:undefined):n}function vt(){return a=!1,ti(),angular.isDefined(ct)?u.attr("placeholder",ct):u.removeAttr("placeholder"),angular.isDefined(lt)?u.attr("maxlength",lt):u.removeAttr("maxlength"),u.val(e.$modelValue),e.$viewValue=e.$modelValue,!1}function gt(){o=it=w(e.$modelValue||"");nt=tt=b(o);h=ft(o);var n=h&&o.length?nt:"";f.maxlength&&u.attr("maxlength",s[s.length-1]*2);angular.isDefined(f.uiMaskPlaceholder)||u.attr("placeholder",l);u.val(n);e.$viewValue=n;e.$setValidity("mask",h)}function ni(){y||(u.bind("blur",yt),u.bind("mousedown mouseup",k),u.bind("input keyup click focus",v),u.bind("paste",pt),y=!0)}function ti(){y&&(u.unbind("blur",yt),u.unbind("mousedown",k),u.unbind("mouseup",k),u.unbind("input",v),u.unbind("keyup",v),u.unbind("click",v),u.unbind("focus",v),u.unbind("paste",pt),y=!1)}function ft(n){return n.length?n.length>=g:!0}function w(n){var i="",t=d.slice();return n=n.toString(),angular.forEach(ht,function(t){n=n.replace(t,"")}),angular.forEach(n.split(""),function(n){t.length&&t[0].test(n)&&(i+=n,t.shift())}),i}function b(n){var t="",i=s.slice();return angular.forEach(l.split(""),function(r,u){n.length&&u===i[0]?(t+=n.charAt(0)||"_",n=n.substr(1),i.shift()):t+=r}),t}function ii(n){var t=angular.isDefined(f.uiMaskPlaceholder)?f.uiMaskPlaceholder:f.placeholder;return typeof t!="undefined"&&t[n]?t[n]:"_"}function ri(){return l.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function ui(n){var t=0;if(s=[],d=[],l="",typeof n=="string"){g=0;var i=!1,r=0,u=n.split("");angular.forEach(u,function(n,u){c.maskDefinitions[n]?(s.push(t),l+=ii(u-r),d.push(c.maskDefinitions[n]),t++,i||g++):n==="?"?(i=!0,r++):(l+=n,t++)})}s.push(s.slice().pop()+1);ht=ri();a=s.length>1?!0:!1}function yt(){c.clearOnBlur&&(rt=0,p=0,h&&o.length!==0||(nt="",u.val(""),n.$apply(function(){e.$setViewValue("")})))}function k(n){n.type==="mousedown"?u.bind("mouseout",et):u.unbind("mouseout",et)}function et(){p=st(this);u.unbind("mouseout",et)}function pt(){wt(this,u.val().length)}function v(n){var i,f,d;if(n=n||{},i=n.which,f=n.type,i!==16&&i!==91){var h=u.val(),a=tt,v,r=w(h),ht=it,t=fi(this)||0,g=rt||0,nt=t-g,o=s[0],c=s[r.length]||s.slice().shift(),l=p||0,ct=st(this)>0,ut=l>0,ft=h.length>a.length||l&&h.length>a.length-l,y=h.length<a.length||l&&h.length===a.length-l,lt=i>=37&&i<=40&&n.shiftKey,at=i===37,et=i===8||f!=="keyup"&&y&&nt===-1,vt=i===46||f!=="keyup"&&y&&nt===0&&!ut,k=(at||et||f==="click")&&t>o;if(p=st(this),!lt&&(!ct||f!=="click"&&f!=="keyup")){if(f==="input"&&y&&!ut&&r===ht){while(et&&t>o&&!ot(t))t--;while(vt&&t<c&&s.indexOf(t)===-1)t++;d=s.indexOf(t);r=r.substring(0,d)+r.substring(d+1)}for(v=b(r),tt=v,it=r,u.val(v),e.$setViewValue(r),ft&&t<=o&&(t=o+1),k&&t--,t=t>c?c:t<o?o:t;!ot(t)&&t>o&&t<c;)t+=k?-1:1;(k&&t<c||ft&&!ot(g))&&t++;rt=t;wt(this,t)}}}function ot(n){return s.indexOf(n)>-1}function fi(n){if(!n)return 0;if(n.selectionStart!==undefined)return n.selectionStart;if(document.selection&&i(u[0])){n.focus();var t=document.selection.createRange();return t.moveStart("character",n.value?-n.value.length:0),t.text.length}return 0}function wt(n,t){if(!n)return 0;if(n.offsetWidth!==0&&n.offsetHeight!==0)if(n.setSelectionRange)i(u[0])&&(n.focus(),n.setSelectionRange(t,t));else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0);r.moveEnd("character",t);r.moveStart("character",t);r.select()}}function st(n){return n?n.selectionStart!==undefined?n.selectionEnd-n.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var a=!1,y=!1,s,d,l,ht,g,o,nt,h,ct=f.placeholder,lt=f.maxlength,tt,it,rt,p,c={},ut;f.uiOptions?(c=n.$eval("["+f.uiOptions+"]"),angular.isObject(c[0])&&(c=function(n,t){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]===undefined?t[i]=angular.copy(n[i]):angular.extend(t[i],n[i]));return t}(r,c[0]))):c=r;f.$observe("uiMask",bt);angular.isDefined(f.uiMaskPlaceholder)?f.$observe("uiMaskPlaceholder",at):f.$observe("placeholder",at);ut=!1;f.$observe("modelViewValue",function(n){n==="true"&&(ut=!0)});n.$watch(f.ngModel,function(i){if(ut&&i){var r=t(f.ngModel);r.assign(n,e.$viewValue)}});e.$formatters.push(kt);e.$parsers.push(dt);u.bind("mousedown mouseup",k);Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var u,r,t,i;if(this===null)throw new TypeError;if((u=Object(this),r=u.length>>>0,r===0)||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!==t?t=0:t!==0&&t!==Infinity&&t!==-Infinity&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);i<r;i++)if(i in u&&u[i]===n)return i;return-1})}}}}]);angular.module("uplus").filter("tel",function(){return function(n){if(!n)return"";if(n.length<10)return n;if(n.length>11){var t=n.slice(0,2),i=n.slice(2,5),r=n.slice(5,8),u=n.slice(8);return t+"-"+i+"-"+r+"-"+u}var t=n.slice(0,3),i=n.slice(3,6),r=n.slice(6);return t+"-"+i+"-"+r}}),function(n,t){"use strict";var i=typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("angular"),require("moment")):typeof define=="function"&&define.amd?define(["angular","moment"],t):t(n.angular,n.moment)}(this,function(n,t){var i=n.module("datePicker",[]);i.constant("datePickerConfig",{template:"templates/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],momentNames:{year:"year",month:"month",date:"day",hours:"hours",minutes:"minutes"},viewConfig:{year:["years","isSameYear"],month:["months","isSameMonth"],hours:["hours","isSameHour"],minutes:["minutes","isSameMinutes"]},step:5});i.filter("mFormat",function(){return function(n,i,r){return t.isMoment(n)?r?t.tz(n,r).format(i):n.format(i):n?t(n).format(i):""}});i.directive("datePicker",["datePickerConfig","datePickerUtils",function(i,r){return{require:"?ngModel",template:'<div ng-include="template"><\/div>',scope:{model:"=datePicker",after:"=?",before:"=?"},link:function(u,f,e,o){function tt(){u.views=i.views.concat();u.view=e.view||i.view;u.views=u.views.slice(u.views.indexOf(e.maxView||"year"),u.views.indexOf(e.minView||"minutes")+1);(u.views.length===1||u.views.indexOf(u.view)===-1)&&(u.view=u.views[0])}function it(n){return r.getDate(u,e,n)}function y(){var t=u.view,n;r.setParams(p,b);u.model&&!a&&(u.date=w(u.model),a=!1);n=u.date;switch(t){case"year":u.years=r.getVisibleYears(n);break;case"month":u.months=r.getVisibleMonths(n);break;case"date":u.weekdays=u.weekdays||r.getDaysOfWeek();u.weeks=r.getVisibleWeeks(n);break;case"hours":u.hours=r.getVisibleHours(n);break;case"minutes":u.minutes=r.getVisibleMinutes(n,l)}k()}function ht(){return u.view!=="date"?u.view:u.date?u.date.month():null}var a=!1,p=u.tz=e.timezone,w=r.createMoment,et=r.eventIsForPicker,l=parseInt(e.step||i.step,10),ot=!!e.partial,s=it("minDate"),h=it("maxDate"),rt=f[0].id,c=u.now=w(),ut=u.date=w(u.model||c),st=e.autoClose==="true",b=e.firstDay&&e.firstDay>=0&&e.firstDay<=6?parseInt(e.firstDay,10):t().weekday(0).day(),ft,k,v,d,g,nt;r.setParams(p,b);u.model||ut.minute(Math.ceil(ut.minute()/l)*l).second(0);u.template=e.template||i.template;u.watchDirectChanges=e.watchDirectChanges!==undefined;u.callbackOnSetDate=e.dateChange?r.findFunction(u,e.dateChange):undefined;tt();u.setView=function(n){u.views.indexOf(n)!==-1&&(u.view=n)};u.selectDate=function(n){if(e.disabled||(v(u.date,n)&&(n=u.date),n=d(n),!n))return!1;u.date=n;var t=u.views[u.views.indexOf(u.view)+1];(!t||ot||u.model)&&ft(n);t?u.setView(t):st?(f.addClass("hidden"),u.$emit("hidePicker")):k()};ft=function(n){n&&(u.model=n,o&&o.$setViewValue(n));u.$emit("setDate",u.model,u.view);u.callbackOnSetDate&&u.callbackOnSetDate(e.datePicker,u.date)};u.$watch(ht,y);u.watchDirectChanges&&u.$watch("model",function(){a=!1;y()});k=function(){var o=u.view,c=u.date,s=[],t="",n,f,l,e;if(r.setParams(p,b),o==="date")for(l=u.weeks,n=0;n<l.length;n++)for(e=l[n],s.push([]),f=0;f<e.length;f++)t="",r.isSameDay(c,e[f])&&(t+="active"),g(e[f],o)&&(t+=" now"),e[f].month()===c.month()&&nt(e[f])||(t+=" disabled"),s[n].push(t);else{var a=i.viewConfig[o],h=u[a[0]],v=a[1];for(n=0;n<h.length;n++)t="",r[v](c,h[n])&&(t+="active"),g(h[n],o)&&(t+=" now"),nt(h[n])||(t+=" disabled"),s.push(t)}u.classes=s};u.next=function(n){var i=t(u.date);n=n||1;switch(u.view){case"year":case"month":i.year(i.year()+n);break;case"date":i.month(i.month()+n);break;case"hours":case"minutes":i.hours(i.hours()+n)}i=d(i);i&&(u.date=i,a=!0,y())};nt=function(n){var t=!0;return s&&s.isAfter(n)&&(t=v(s,n)),h&&h.isBefore(n)&&(t&=v(h,n)),t};v=function(n,t){return n.isSame(t,i.momentNames[u.view])?!0:!1};d=function(n){return s&&s.isAfter(n)?s:h&&h.isBefore(n)?h:n};g=function(n,t){var i=!0;switch(t){case"minutes":i&=~~(c.minutes()/l)==~~(n.minutes()/l);case"hours":i&=c.hours()===n.hours();case"date":i&=c.date()===n.date();case"month":i&=c.month()===n.month();case"year":i&=c.year()===n.year()}return i};u.prev=function(n){return u.next(-n||-1)};rt&&u.$on("pickerUpdate",function(t,i,r){if(et(i,rt)){var u=!1,f=!1;n.isDefined(r.minDate)&&(s=r.minDate?r.minDate:!1,f=!0);n.isDefined(r.maxDate)&&(h=r.maxDate?r.maxDate:!1,f=!0);n.isDefined(r.minView)&&(e.minView=r.minView,u=!0);n.isDefined(r.maxView)&&(e.maxView=r.maxView,u=!0);e.view=r.view||e.view;u&&tt();f&&y()}})}}}]);n.module("datePicker").factory("datePickerUtils",function(){var r,u,i=function(n,i,u,f,e){var o=Date.UTC(n|0,i|0,u|0,f|0,e|0);return r?t.tz(o,r):t(o)};return{getVisibleMinutes:function(n,t){for(var e=n.year(),o=n.month(),s=n.date(),h=n.hours(),u,c=n.utcOffset()/60,f=[],r=0;r<60;r+=t)u=i(e,o,s,h-c,r),f.push(u);return f},getVisibleWeeks:function(n){var f,e,r,i;for(n=t(n),f=n.year(),e=n.month(),n.date(1),r=n.day(),n.date(u-(r+(u>=r?6:-1))),i=[];i.length<6;){if(n.year()===f&&n.month()>e)break;i.push(this.getDaysOfWeek(n));n.add(7,"d")}return i},getVisibleYears:function(n){var u=t(n),r=u.year(),f,s,e,o,h;for(u.year(r-r%10),r=u.year(),f=u.utcOffset()/60,s=[],h=0;h<12;h++)e=i(r,0,1,0-f),o=e.utcOffset()/60,o!==f&&(e=i(r,0,1,0-o),f=o),s.push(e),r++;return s},getDaysOfWeek:function(n){var s;n=n?n:r?t.tz(r).day(u):t().day(u);var h=n.year(),c=n.month(),e=n.date(),l=[],f,a=n.utcOffset()/60,o;for(s=0;s<7;s++)f=i(h,c,e,0-a,0,!1),o=f.utcOffset()/60,o!==a&&(f=i(h,c,e,0-o,0,!1)),l.push(f),e++;return l},getVisibleMonths:function(n){for(var f=n.year(),e=n.utcOffset()/60,o=[],t,u,r=0;r<12;r++)t=i(f,r,1,0-e,0,!1),u=t.utcOffset()/60,u!==e&&(t=i(f,r,1,0-u,0,!1)),o.push(t);return o},getVisibleHours:function(n){for(var f=n.year(),e=n.month(),o=n.date(),s=[],r,u,h=n.utcOffset()/60,t=0;t<24;t++)r=i(f,e,o,t-h,0,!1),u=r.utcOffset()/60,u!==h&&(r=i(f,e,o,t-u,0,!1)),s.push(r);return s},isAfter:function(n,t){return n&&n.unix()>=t.unix()},isBefore:function(n,t){return n.unix()<=t.unix()},isSameYear:function(n,t){return n&&n.year()===t.year()},isSameMonth:function(n,t){return this.isSameYear(n,t)&&n.month()===t.month()},isSameDay:function(n,t){return this.isSameMonth(n,t)&&n.date()===t.date()},isSameHour:function(n,t){return this.isSameDay(n,t)&&n.hours()===t.hours()},isSameMinutes:function(n,t){return this.isSameHour(n,t)&&n.minutes()===t.minutes()},setParams:function(n,t){r=n;u=t},scopeSearch:function(n,t,i){var f=n,e=t.split("."),r,u,o=e.length;do{for(r=f=f.$parent,u=0;u<o;u++)r=r[e[u]],!r;if(r&&i(r))return r}while(f.$parent);return!1},findFunction:function(t,i){return this.scopeSearch(t,i,function(t){return n.isFunction(t)})},findParam:function(n,t){return this.scopeSearch(n,t,function(){return!0})},createMoment:function(n){return r?t.tz(n,r):t.isMoment(n)?t.unix(n.unix()):t(n)},getDate:function(n,t,i){var r=!1;return t[i]&&(r=this.createMoment(t[i]),r.isValid()||(r=this.findParam(n,t[i]),r&&(r=this.createMoment(r)))),r},eventIsForPicker:function(t,i){return n.isArray(t)&&t.indexOf(i)>-1||t===i}}});i=n.module("datePicker");i.directive("dateRange",["$compile","datePickerUtils","dateTimeConfig",function(i,r,u){function f(i,r,f,e,o){return u.template(n.extend(i,{ngModel:f,minDate:e&&t.isMoment(e)?e.format():!1,maxDate:o&&t.isMoment(o)?o.format():!1}),r)}function e(){return"picker"+Math.random().toString().substr(2)}return{scope:{start:"=",end:"="},link:function(t,u,o){function p(n){t.$broadcast("pickerUpdate",s[0],{maxDate:n})}function w(n){t.$broadcast("pickerUpdate",s[1],{minDate:n})}var h=null,c=u[0].id,s=[e(),e()],l=r.createMoment,y=r.eventIsForPicker,a,v;t.dateChange=function(n,t){h&&h(n,t)};c&&t.$on("pickerUpdate",function(n,i,r){y(i,c)&&t.$broadcast("pickerUpdate",s,r)});r.setParams(o.timezone);t.start=l(t.start);t.end=l(t.end);t.$watchGroup(["start","end"],function(n){w(n[0]);p(n[1])});n.isDefined(o.dateChange)&&(h=r.findFunction(t,o.dateChange));o.onSetDate="dateChange";a='<div><table class="date-range"><tr><td valign="top">'+f(o,s[0],"start",!1,t.end)+'<\/td><td valign="top">'+f(o,s[1],"end",t.start,!1)+"<\/td><\/tr><\/table><\/div>";v=i(a)(t);u.append(v)}}}]);var r="ng-pristine",u="ng-dirty",i=n.module("datePicker");i.constant("dateTimeConfig",{template:function(n,t){return"<div "+(t?'id="'+t+'" ':"")+'date-picker="'+n.ngModel+'" '+(n.view?'view="'+n.view+'" ':"")+(n.maxView?'max-view="'+n.maxView+'" ':"")+(n.maxDate?'max-date="'+n.maxDate+'" ':"")+(n.autoClose?'auto-close="'+n.autoClose+'" ':"")+(n.template?'template="'+n.template+'" ':"")+(n.minView?'min-view="'+n.minView+'" ':"")+(n.minDate?'min-date="'+n.minDate+'" ':"")+(n.partial?'partial="'+n.partial+'" ':"")+(n.step?'step="'+n.step+'" ':"")+(n.onSetDate?'date-change="'+n.onSetDate+'" ':"")+(n.ngModel?'ng-model="'+n.ngModel+'" ':"")+(n.firstDay?'first-day="'+n.firstDay+'" ':"")+(n.timezone?'timezone="'+n.timezone+'" ':"")+'class="date-picker-date-time"><\/div>'},format:"YYYY-MM-DD HH:mm",views:["date","year","month","hours","minutes"],autoClose:!1,position:"relative"});i.directive("dateTimeAppend",function(){return{link:function(n,t){t.bind("click",function(){t.find("input")[0].focus()})}}});i.directive("dateTime",["$compile","$document","$filter","dateTimeConfig","$parse","datePickerUtils",function(i,f,e,o,s,h){var c=f.find("body"),l=e("mFormat");return{require:"ngModel",scope:!0,link:function(f,e,a,v){function bt(n){return l(n,b,pt)}function kt(n){return n.length===b.length?n:n.length===0?n:undefined}function ct(n){k=n;a.minDate=n?n.format():n;et=t.isMoment(n)}function lt(n){d=n;a.maxDate=n?n.format():n;ot=t.isMoment(n)}function at(){ht=o.template(a)}function dt(n){n.stopPropagation();v.$pristine&&(v.$dirty=!0,v.$pristine=!1,e.removeClass(r).addClass(u),tt&&tt.$setDirty(),v.$render())}function nt(){y&&(y.remove(),y=null);w&&(w.remove(),w=null)}function vt(){if(!y){if(y=i(ht)(f),f.$digest(),st||(f.$on("setDate",function(n,t,i){dt(n);g&&g(a.ngModel,t);yt&&p[p.length-1]===i&&nt()}),f.$on("hidePicker",function(){e[0].blur()}),f.$on("$destroy",nt),st=!0),ft==="absolute"){var t=e[0].getBoundingClientRect(),r=t.height||e[0].offsetHeight;y.css({top:t.top+r+"px",left:t.left+"px",display:"block",position:ft});c.append(y)}else w=n.element("<div date-picker-wrapper><\/div>"),e[0].parentElement.insertBefore(w[0],e[0]),w.append(y),y.css({top:e[0].offsetHeight+"px",display:"block"});y.bind("mousedown",function(n){n.preventDefault()})}}var b=a.format||o.format,tt=e.inheritedData("$formController"),p=s(a.views)(f)||o.views.concat(),it=a.view||p[0],rt=p.indexOf(it),yt=a.autoClose?s(a.autoClose)(f):o.autoClose,y=null,ut=e[0].id,ft=a.position||o.position,w=null,k=null,et=null,d=null,ot=null,pt=a.timezone||!1,wt=h.eventIsForPicker,g=null,st=!1,ht;rt===-1&&p.splice(rt,1);p.unshift(it);v.$formatters.push(bt);v.$parsers.unshift(kt);n.isDefined(a.minDate)&&(ct(h.findParam(f,a.minDate)),v.$validators.min=function(n){return et?t.isMoment(n)&&(k.isSame(n)||k.isBefore(n)):!0});n.isDefined(a.maxDate)&&(lt(h.findParam(f,a.maxDate)),v.$validators.max=function(n){return ot?t.isMoment(n)&&(d.isSame(n)||d.isAfter(n)):!0});n.isDefined(a.dateChange)&&(g=h.findFunction(f,a.dateChange));ut&&f.$on("pickerUpdate",function(t,i,r){if(wt(i,ut)&&!y){var u=!1;n.isDefined(r.minDate)&&(ct(r.minDate),u=!0);n.isDefined(r.maxDate)&&(lt(r.maxDate),u=!0);n.isDefined(r.minView)&&(a.minView=r.minView);n.isDefined(r.maxView)&&(a.maxView=r.maxView);a.view=r.view||a.view;u&&v.$validate();n.isDefined(r.format)&&(b=a.format=r.format||o.format,v.$modelValue=-1);at()}});e.bind("focus",vt);e.bind("click",vt);e.bind("blur",nt);at()}}}]);n.module("datePicker").run(["$templateCache",function(n){n.put("templates/datepicker.html",'<div ng-switch="view">\r\n  <div ng-switch-when="date">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'month\')" ng-bind="date|mFormat:\'YYYY MMMM\':tz"><\/th>\r\n        <th ng-click="next()">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <tr>\r\n        <th ng-repeat="day in weekdays" style="overflow: hidden" ng-bind="day|mFormat:\'ddd\':tz"><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr ng-repeat="week in weeks" ng-init="$index2 = $index">\r\n        <td ng-repeat="day in week">\r\n          <span\r\n            ng-class="classes[$index2][$index]"\r\n            ng-click="selectDate(day)" ng-bind="day|mFormat:\'DD\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="year">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev(10)">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch"ng-bind="years[0].year()+\' - \'+years[years.length-1].year()"><\/th>\r\n        <th ng-click="next(10)">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-class="classes[$index]"\r\n                ng-repeat="year in years"\r\n                ng-click="selectDate(year)" ng-bind="year.year()"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="month">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'year\')" ng-bind="date|mFormat:\'YYYY\':tz"><\/th>\r\n        <th ng-click="next()">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="month in months"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(month)"\r\n                ng-bind="month|mFormat:\'MMM\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="hours">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev(24)">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'date\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"><\/th>\r\n        <th ng-click="next(24)">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="hour in hours"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(hour)" ng-bind="hour|mFormat:\'HH:mm\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n  <div ng-switch-when="minutes">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;<\/th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'hours\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"><\/th>\r\n        <th ng-click="next()">&rsaquo;<\/i><\/th>\r\n      <\/tr>\r\n      <\/thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="minute in minutes"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(minute)"\r\n                ng-bind="minute|mFormat:\'HH:mm\':tz"><\/span>\r\n        <\/td>\r\n      <\/tr>\r\n      <\/tbody>\r\n    <\/table>\r\n  <\/div>\r\n<\/div>')}])});angular.module("uplus").provider("oiSelect",function(){return{options:{debounce:500,searchFilter:"oiSelectCloseIcon",dropdownFilter:"oiSelectHighlight",listFilter:"oiSelectAscSort",groupFilter:"oiSelectGroup",editItem:!1,newItem:!1,closeList:!0,saveTrigger:"enter tab blur",minlength:0},version:{full:"0.2.21",major:0,minor:2,dot:21},$get:function(){return{options:this.options,version:this.version}}}}).factory("oiSelectEscape",function(){var n=/[-\/\\^$*+?.()|[\]{}]/g,t="\\$&";return function(i){return String(i).replace(n,t)}}).factory("oiSelectEditItem",function(){return function(n,t,i,r){return r?"":i(n)}}).factory("oiUtils",["$document","$timeout",function(n,t){function i(n,t,i){for(var r=t;r&&r.ownerDocument&&r.nodeType!==11;){if(i){if(r===n)return!1;if(r.className.indexOf(i)>=0)return!0}else if(r===n)return!0;r=r.parentNode}return!1}function u(r,u){function s(n){if(!n||n.target.nodeName==="INPUT"){if(o=!1,e){o=!0;return}t(function(){r.triggerHandler("blur")})}}function h(){f||(f=!0,t(function(){r.triggerHandler("focus")}))}function c(){e=!0}function l(n){e=!1;var c=n.target,h=i(r[0],c);o&&!h&&s();h&&c.nodeName!=="INPUT"&&t(function(){u[0].focus()});!h&&f&&(f=!1)}var f,e,o;n[0].addEventListener("click",l,!0);r[0].addEventListener("mousedown",c,!0);r[0].addEventListener("blur",s,!0);u.on("focus",h);return function(){n[0].removeEventListener("click",l,!0);r[0].removeEventListener("mousedown",c,!0);r[0].removeEventListener("blur",s,!0);u.off("focus",h)}}function f(n,t){var i,f,e,u,o,s;t&&(f=n.offsetHeight,e=c(t,"height","margin"),u=n.scrollTop||0,i=r(t).top-r(n).top+u,o=i,s=i-f+e,i+e>f+u?n.scrollTop=s:i<u&&(n.scrollTop=o))}function s(n,t,i,r,u){function s(n){return parseFloat(u[n])}for(var f=i===(r?"border":"content")?4:t==="width"?1:0,e=0,o=["Top","Right","Bottom","Left"];f<4;f+=2)i==="margin"&&(e+=s(i+o[f])),r?(i==="content"&&(e-=s("padding"+o[f])),i!=="margin"&&(e-=s("border"+o[f]+"Width"))):(e+=s("padding"+o[f]),i!=="padding"&&(e+=s("border"+o[f]+"Width")));return e}function r(n){var t,i,u=n.getBoundingClientRect(),r=n&&n.ownerDocument;if(r)return t=r.documentElement,i=h(r),{top:u.top+i.pageYOffset-t.clientTop,left:u.left+i.pageXOffset-t.clientLeft}}function h(n){return n!=null&&n===n.window?n:n.nodeType===9&&n.defaultView}function c(n,t,i){var r=t==="width"?n.offsetWidth:n.offsetHeight,u=window.getComputedStyle(n,null);if(r<=0||r==null){if(r=u[t],(r<0||r==null)&&(r=n.style[t]),o.test(r))return r;r=parseFloat(r)||0}return r+s(n,t,i||"content",!0,u)}function l(n){for(var t in n)if(n.hasOwnProperty(t)&&n[t].length)return!1;return!0}function a(n,t,i,r,u){for(var e,h,c,o=u?[].concat(n):[],f=0,s=n.length;f<n.length;f++)for(h=i?i(n[f]):n[f],e=0;e<t.length;e++)if(c=r?r(t[e]):t[e],angular.equals(h,c,n,t,f,e)){u?o.splice(f+o.length-s,1):o.push(t[e]);break}return o}function v(n,t,i,r){var u={};return n.split(".").reduce(function(n,i,r,u){return n[i]=r<u.length-1?{}:t},u),r(i,u)}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,o=new RegExp("^("+e+")(?!px)[a-z%]+$","i");return{contains:i,bindFocusBlur:u,scrollActiveOption:f,groupsIsEmpty:l,getValue:v,intersection:a}}]);angular.module("uplus").directive("oiSelect",["$document","$q","$timeout","$parse","$interpolate","$injector","$filter","$animate","oiUtils","oiSelect",function(n,t,i,r,u,f,e,o,s,h){var c=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,l=/([^\(\)\s\|\s]*)\s*(\(.*\))?\s*(\|?\s*.+)?/;return{restrict:"AE",templateUrl:"src/template.html",require:"ngModel",scope:{},compile:function(n,a){var ct=a.oiOptions,v=ct?ct.match(c):["","i","","","","i","","",""];if(!v)throw new Error("Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_'");var d=/ as /.test(v[0])&&v[1],g=v[2]||v[1],p=v[5]||v[7],b=v[6],nt=v[3]||"",tt=v[4]||"",lt=v[9]||g,ft=v[8].match(l),at=p,wt=b;b&&(p="i",d=p+"."+(d||at),lt=p+"."+b,g=p+"."+g,b=p+"."+b,nt=nt?p+"."+nt:undefined,tt=tt?p+"."+tt:undefined);var et=ft[1],bt=et+(ft[3]||""),kt=et+(ft[2]||""),it=d&&r(d),vt=r(g),dt=r(nt),gt=r(tt),ni=r(bt),ti=r(kt),ii=r(lt),ri=u(a.multiplePlaceholder||""),ui=u(a.listPlaceholder||""),fi=u(a.placeholder||""),yt=r(a.oiSelectOptions),k=angular.version.major<=1&&angular.version.minor<=3,rt,ot,w,pt,ut,y,st,ht;return function(n,u,c,l){function ur(){ct&&u.removeClass("cleanMode");ct=!1}function fr(n,t){t=t||150;u.addClass(n);i(function(){u.removeClass(n)},t)}function ci(){n.listItemHide=!0;n.inputHide=!1}function oi(){var t=ft(l.$modelValue);n.listItemHide=!t;n.inputHide=t}function er(t){n.query.length<a.minlength||s.contains(u[0],t.target,"disabled")||n.output.length>=st&&s.contains(u[0],t.target,"select-dropdown")||(n.inputHide&&n.removeItem(0),n.isOpen&&a.closeList&&(t.target.nodeName!=="INPUT"||!n.query.length)?(g({query:a.editItem&&!ct}),n.$evalAsync()):hi(n.query))}function ar(){n.isFocused||(n.isFocused=!0,c.disabled)||(n.backspaceFocus=!1)}function vr(){n.isFocused=!1;y||oi();lt("blur")||g();n.$evalAsync()}function lt(r,u){u||(u=r,r=n.query);var o=a.saveTrigger.split(" ").indexOf(u)+1,s=a.newItem&&r,f=u!=="blur"?n.order[n.selectorPosition]:null,e;if(o&&(s||f&&!sr(f)))return n.showLoader=!0,e=t.when(f||ht(n.$parent,{$query:r})),e.then(function(r){if(r===undefined)return t.reject();n.addItem(r);var u=n.order.length-1;n.selectorPosition===u&&kt(tt,0);a.newItemFn&&!f||i(angular.noop);g()}).catch(function(){fr("invalid-item");n.showLoader=!1}),!0}function yr(){var n=y&&ft(l.$modelValue)?lr:cr;nt.attr("placeholder",n)}function si(t){return s.getValue(p,t,n.$parent,ii)}function or(t){return s.getValue(p,t,n.$parent,it)}function bt(t){return s.getValue(p,t,n.$parent,vt)}function sr(t){return n.isEmptyList||s.getValue(p,t,n.$parent,gt)}function li(t){return s.getValue(p,t,n.$parent,dt)||""}function pr(t){return s.getValue(et,t,n.$parent,ni)}function hr(n){return n=n instanceof Array?n:n?[n]:[],n.filter(function(n){return n!==undefined&&(n instanceof Array&&n.length||it||bt(n))})}function ft(n){return!!hr(n).length}function hi(r,f){return n.isEmptyList=!1,w&&ei&&i.cancel(w),w=i(function(){var e=ti(n.$parent,{$query:r,$selectedAs:f})||"";return n.selectorPosition=a.newItem==="prompt"?!1:0,r||f||(n.oldQuery=null),(e.$promise&&!e.$resolved||angular.isFunction(e.then))&&(ei=a.debounce),n.showLoader=!0,t.when(e.$promise||e).then(function(t){var i,o;if(n.groups={},t&&b&&(i=[],angular.forEach(t,function(n,t){if(t.toString().charAt(0)!=="$"){var r={};r[wt]=t;r[at]=n;i.push(r)}}),t=i),t&&!f){var h=y?n.output:[],c=gi(t,r,bt,nr(n.$parent),u),l=s.intersection(c,h,si,si,!0),e=pr(l);e.length||(n.isEmptyList=!0,ai&&(o={},vt.assign(o,ai),e=[o[p]]));n.groups=br(e)}return wr(),t}).finally(function(){n.showLoader=!1;a.closeList&&!a.cleanModel&&i(function(){kt(tt,0)})})},ei)}function wr(){var i,t,u,r=[],f=0;n.order=[];n.groupPos={};for(t in n.groups)n.groups.hasOwnProperty(t)&&t.charAt(0)!="$"&&r.push(t);for(k&&r.sort(),i=0;i<r.length;i++)t=r[i],u=n.groups[t],n.order=n.order.concat(u),n.groupPos[t]=f,f+=u.length}function g(t){t=t||{};n.oldQuery=null;n.backspaceFocus=!1;n.groups={};n.order=[];n.showLoader=!1;n.isOpen=!1;ei=0;t.query||(n.query="");w&&i.cancel(w)}function kt(t,i){n.selectorPosition=i;s.scrollActiveOption(t[0],t.find("li")[i])}function br(n){for(var i={"":[]},r,u,t=0;t<n.length;t++)r=li(n[t]),(u=i[r])||(u=i[r]=[]),u.push(n[t]);return i}var yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr;l.$isEmpty=function(n){return!ft(n)};var nt=u.find("input"),tt=angular.element(u[0].querySelector(".select-dropdown")),cr=fi(n),lr=ri(n),ai=ui(n),vi=yt(n.$parent)||{},a=angular.extend({cleanModel:vi.newItem==="prompt"},h.options,vi),d=a.editItem,ct=d==="correct",ei=0;(d===!0||d==="correct")&&(d="oiSelectEditItem");yi=d?f.get(d):angular.noop;pi=r(a.removeItemFn);v=a.searchFilter.split(":");wi=e(v[0]);bi=r(v[1]);v=a.dropdownFilter.split(":");ki=e(v[0]);di=r(v[1]);v=a.listFilter.split(":");gi=e(v[0]);nr=r(v[1]);v=a.groupFilter.split(":");tr=e(v[0]);ir=r(v[1]);ht=a.newItemFn?r(a.newItemFn):function(n,t){return(yt(t)||{}).newItemModel||t.$query};a.cleanModel&&(!d||ct)&&u.addClass("cleanMode");rr=s.bindFocusBlur(u,nt);angular.isDefined(c.autofocus)&&i(function(){nt[0].focus()});angular.isDefined(c.readonly)&&nt.attr("readonly",!0);angular.isDefined(c.tabindex)&&(nt.attr("tabindex",c.tabindex),u[0].removeAttribute("tabindex"));a.maxlength&&nt.attr("maxlength",a.maxlength);c.$observe("disabled",function(t){nt.prop("disabled",t);y&&l.$modelValue&&l.$modelValue.length&&(n.inputHide=t)});n.$on("$destroy",rr);n.$parent.$watch(c.multipleLimit,function(n){st=Number(n)||Infinity});n.$parent.$watch(c.multiple,function(n){y=n===undefined?angular.isDefined(c.multiple):n;u[y?"addClass":"removeClass"]("multiple")});n.$parent.$watch(c.ngModel,function(i,r){var u=hr(i),f=t.when(u);yr();ft(r)&&i!==r&&ur();y||oi();it&&ft(i)&&(f=hi(null,i).then(function(n){return s.intersection(u,n,null,or)}),w=null);y&&c.disabled&&!ft(i)&&(n.inputHide=!1);f.then(function(t){n.output=t;t.length!==u.length&&n.removeItem(t.length)})});n.$watch("query",function(t,i){lt(t.slice(0,-1),t.slice(-1))||String(t).length<a.minlength||(t===i||n.oldQuery&&!t||ot||(tt[0].scrollTop=0,t?(hi(t),n.oldQuery=null):y&&(g(),ot=!0)),ot=!1)});n.$watch("groups",function(t){s.groupsIsEmpty(t)?n.isOpen=!1:n.isOpen||c.disabled||(n.isOpen=!0,n.isFocused=!0)});n.$watch("isFocused",function(n){o[n?"addClass":"removeClass"](u,"focused",!k&&{tempClasses:"focused-animate"})});n.$watch("isOpen",function(n){o[n?"addClass":"removeClass"](u,"open",!k&&{tempClasses:"open-animate"})});n.$watch("isEmptyList",function(n){o[n?"addClass":"removeClass"](u,"emptyList",!k&&{tempClasses:"emptyList-animate"})});n.$watch("showLoader",function(n){o[n?"addClass":"removeClass"](u,"loading",!k&&{tempClasses:"loading-animate"})});n.addItem=function(t){if(pt=n.query,!y||!s.intersection(n.output,[t],si,si).length){if(n.output.length>=st){fr("limited");return}var r=n.groups[li(t)]=n.groups[li(t)]||[],i=it?or(t):t;r.splice(r.indexOf(t),1);y?l.$setViewValue(angular.isArray(l.$modelValue)?l.$modelValue.concat(i):[i]):(l.$setViewValue(i),oi());s.groupsIsEmpty(n.groups)&&(n.groups={});y||a.closeList||g({query:!0});ur();n.oldQuery=n.oldQuery||n.query;n.query="";n.backspaceFocus=!1}};n.removeItem=function(i){c.disabled||y&&i<0||(ut=y?l.$modelValue[i]:l.$modelValue,t.when(pi(n.$parent,{$item:ut})).then(function(){(y||n.inputHide)&&(y?(l.$modelValue.splice(i,1),l.$setViewValue([].concat(l.$modelValue))):(ci(),a.cleanModel&&l.$setViewValue(undefined)),(y||!n.backspaceFocus)&&(n.query=yi(ut,pt,bt,ct,u)||""),y&&a.closeList&&g({query:!0}))}))};n.setSelection=function(t){rt||n.selectorPosition===t?rt=!1:kt(tt,t)};n.keyUp=function(t){switch(t.keyCode){case 8:n.query.length||y&&n.output.length||g()}};n.keyDown=function(t){var i=0,r=n.order.length-1;switch(t.keyCode){case 38:n.selectorPosition=angular.isNumber(n.selectorPosition)?n.selectorPosition:i;kt(tt,n.selectorPosition===i?r:n.selectorPosition-1);rt=!0;break;case 40:n.selectorPosition=angular.isNumber(n.selectorPosition)?n.selectorPosition:i-1;kt(tt,n.selectorPosition===r?i:n.selectorPosition+1);rt=!0;n.query.length||n.isOpen||hi();n.inputHide&&ci();break;case 37:case 39:break;case 9:lt("tab");break;case 13:lt("enter");t.preventDefault();break;case 32:lt("space");break;case 27:y||(oi(),a.cleanModel&&l.$setViewValue(ut));g();break;case 8:if(!n.query.length){if((!y||d)&&(n.backspaceFocus=!0),n.backspaceFocus&&n.output&&(!y||n.output.length)){n.removeItem(n.output.length-1);d&&t.preventDefault();break}n.backspaceFocus=!n.backspaceFocus;break}default:return n.inputHide&&ci(),n.backspaceFocus=!1,!1}};n.getSearchLabel=function(t){var i=bt(t);return wi(i,n.oldQuery||n.query,t,bi(n.$parent),u)};n.getDropdownLabel=function(t){var i=bt(t);return ki(i,n.oldQuery||n.query,t,di(n.$parent),u)};n.getGroupLabel=function(t,i){return tr(t,n.oldQuery||n.query,i,ir(n.$parent),u)};n.getDisableWhen=sr;g();u[0].addEventListener("click",er,!0);n.$on("$destroy",function(){u[0].removeEventListener("click",er,!0)});u.on("focus",ar);u.on("blur",vr)}}}}]);angular.module("uplus").filter("oiSelectGroup",["$sce",function(n){return function(t){return n.trustAsHtml(t)}}]).filter("oiSelectCloseIcon",["$sce",function(n){return function(t){return n.trustAsHtml(t+'<span class="close select-search-list-item_selection-remove">×<\/span>')}}]).filter("oiSelectHighlight",["$sce","oiSelectEscape",function(n,t){return function(i,r){var u;return r.length>0||angular.isNumber(r)?(i=i.toString(),r=t(r),u=i.replace(new RegExp(r,"gi"),"<strong>$&<\/strong>")):u=i,n.trustAsHtml(u)}}]).filter("oiSelectAscSort",["oiSelectEscape",function(n){function t(t,i,r,u){var f,e,s,o,h=[],c=[],l=[],a=[];if(i){for(i=n(i).toLocaleLowerCase(),f=0,s=!1;f<t.length;f++){if(s=r(t[f]).toLocaleLowerCase().match(new RegExp(i)),!s&&u&&(u.length||u.fields))for(e=0;e<u.length;e++){if(s)break;s=String(t[f][u[e]]).toLocaleLowerCase().match(new RegExp(i))}s&&h.push(t[f])}for(f=0;f<h.length;f++)r(h[f]).toLocaleLowerCase().match(new RegExp("^"+i))?c.push(h[f]):l.push(h[f]);if(o=c.concat(l),u&&(u===!0||u.all)){n:for(f=0;f<t.length;f++){for(e=0;e<o.length;e++)if(t[f]===o[e])continue n;a.push(t[f])}o=o.concat(a)}}else o=[].concat(t);return o}return t}]).filter("none",function(){return function(n){return n}});angular.module("uplus").run(["$templateCache",function(n){n.put("src/template.html",'<div class=select-search><ul class=select-search-list><li class="btn btn-default btn-xs select-search-list-item select-search-list-item_selection" ng-hide=listItemHide ng-repeat="item in output track by $index" ng-class="{focused: backspaceFocus && $last}" ng-click=removeItem($index) ng-bind-html=getSearchLabel(item)><\/li><li class="select-search-list-item select-search-list-item_input" ng-class="{\'select-search-list-item_hide\': inputHide}"><input autocomplete=off ng-model=query ng-keyup=keyUp($event) ng-keydown=keyDown($event)><\/li><li class="select-search-list-item select-search-list-item_loader" ng-show=showLoader><\/li><\/ul><\/div><div class=select-dropdown ng-show=isOpen><ul ng-if=isOpen class=select-dropdown-optgroup ng-repeat="(group, options) in groups"><div class=select-dropdown-optgroup-header ng-if="group && options.length" ng-bind-html="getGroupLabel(group, options)"><\/div><li class=select-dropdown-optgroup-option ng-init="isDisabled = getDisableWhen(option)" ng-repeat="option in options" ng-class="{\'active\': selectorPosition === groupPos[group] + $index, \'disabled\': isDisabled, \'ungroup\': !group}" ng-click="isDisabled || addItem(option)" ng-mouseenter="setSelection(groupPos[group] + $index)" ng-bind-html=getDropdownLabel(option)><\/li><\/ul><\/div>')}]);angular.module("uplus").directive("uDataview",["loadScript",function(n){return{restrict:"E",template:'<div id="{{name}}" class="u-spreadsheet"><\/div>',replace:!0,link:function(t){var i=null;t.$on("OnDataSourceChange",function(r,u){if(i){i.dxDataGrid("instance").option("dataSource",new DevExpress.data.ArrayStore({data:u.data,key:"Id"}));return}n.then(function(){setTimeout(function(){i=$("#"+t.name).dxDataGrid({dataSource:new DevExpress.data.ArrayStore({data:u.data,key:"Id"}),summary:u.summary,columns:u.columns,onCellPrepared:u.onCellPrepared,columnAutoWidth:!1,allowColumnResizing:!0,columnResizingMode:"widget",columnChooser:{enabled:!0},allowColumnReordering:!0,columnFixing:{enabled:!0},sorting:{mode:"multiple"},paging:{enabled:!1},showColumnLines:!0,showRowLines:!0,filterRow:{visible:!0},headerFilter:{visible:!0},grouping:{contextMenuEnabled:!0},groupPanel:{visible:"auto"},scrolling:{mode:"virtual",useNative:!0},"export":{enabled:!0,fileName:u.fileName},stateStoring:{enabled:!0,type:"custom",customSave:function(n){var t,i;for(n.searchText="",t=null,i=0;i<n.columns.length;i++)t=n.columns[i],t.hasOwnProperty("sortIndex")&&delete t.sortIndex,t.hasOwnProperty("sortOrder")&&delete t.sortOrder,t.hasOwnProperty("sortingMethod")&&delete t.sortingMethod,t.hasOwnProperty("filterOperations")&&delete t.filterOperations,t.hasOwnProperty("filterValues")&&delete t.filterValues,t.hasOwnProperty("filterType")&&delete t.filterType,t.hasOwnProperty("filterValue")&&delete t.filterValue;window.localStorage.setItem("grid-"+u.fileName,JSON.stringify(n))},customLoad:function(){var t=$.Deferred(),n=window.localStorage.getItem("grid-"+u.fileName);return n=n?JSON.parse(n):null,t.resolve(n),t.promise()}},twoWayBindingEnabled:!1,loadPanel:{enabled:!1},searchPanel:{visible:!1},noDataText:" ",selection:{mode:"multiple",allowSelectAll:!0,deferred:!0,showCheckBoxesMode:"none"},onExporting:function(){t.$emit("OnAjaxError",{message:"Exporting to Excel..."})}})},0)})});t.$on("$destroy",function(){i&&i.remove()})},scope:{name:"@"}}}]);angular.module("uplus").directive("uDatepicker",function(){return{restrict:"E",template:' <input type="text" id="{{name}}" name="{{name}}" readonly ng-model="value" pattern="[0-9]{1,2}[/][0-9]{1,2}[/][0-9]{4}$" autocomplete="off"  />',replace:!0,link:function(n){var t=null;setTimeout(function(){t=new Pikaday({field:document.getElementById(n.name),format:"D/M/YYYY",showWeekNumber:!0,firstDay:0});n.value&&(t.setDefaultDate=moment(n.value,"D/M/YYYY").toDate())},0);n.$on("$destroy",function(){t&&t.destroy()})},scope:{value:"=",name:"@"}}});angular.module("uplus").directive("uFabButton",function(){return{restrict:"E",scope:{icon:"@"},replace:!0,transclude:!1,link:function(n){n.onClick=function(){n.$emit("OnFabClick")}},template:'<button class="u-fab" ng-click="onClick()"><svg style="width: 24px; height: 24px; margin: 3px 0 0 0; fill: #fff"><use xlink:href="{{icon}}"><\/use><\/svg><\/a>'}});angular.module("uplus").directive("uFabLink",function(){return{restrict:"E",scope:{url:"@",icon:"@"},replace:!0,transclude:!1,link:function(){},template:'<a class="u-fab" ng-href="{{url}}"><svg style="width: 24px; height: 24px; margin: 13px 0 0 0; fill: #fff"><use xlink:href="{{icon}}"><\/use><\/svg><\/a>'}});angular.module("uplus").directive("uFileinput",["$http",function(n){return{restrict:"E",template:'<div class="u-fileinput"><a ng-href="{{url}}" class="u-fileinput-a" target="_system"ng-style="bgImg"><svg class="u-fileinput-svg" ng-show="!url"><use xlink:href="#icon-question-mark"><\/use><\/svg><svg class="u-fileinput-svg" style="fill: #fff" ng-show="url && !isimage"><use xlink:href="#icon-clip-1"><\/use><\/svg><\/a><span class="u-fileinput-span" ng-bind="description"><\/span><label for="{{propname}}" ng-show="!url" class="u-fileinput-label" ng-bind="progressText"><\/label><input type="file" ng-disabled="!canPickFile"  id="{{propname}}" class="u-fileinput-file" /> <button  type="button" class="u-fileinput-button" ng-show="url" ng-disabled="!canPickFile"  ng-click="removeFile()">Remove<\/button><\/div>',replace:!0,scope:{propname:"@",description:"=",uploadtype:"=",dbid:"=",url:"=",isimage:"="},link:function(t){var i="Choose file...",u=36e5,e=function(){t.bgImg=t.url?t.isimage?{"background-image":"url('"+t.url+"')"}:{"background-image":"linear-gradient(to bottom right,#1a27a1,#0b135e)"}:{"background-image":"none"}},r,f;t.$watch("url",function(){e()});t.progressText=i;t.canPickFile=!0;t.removeFile=function(){confirm("Are you sure you want to remove?")&&(t.canPickFile=!1,n.put("/api/Upload",{DbId:t.dbid,UploadType:t.uploadtype,PropertyName:t.propname,FileName:t.url,MimeType:"remove"}).then(function(n){t.canPickFile=!0;window.uplus.isSuccess(n.status)&&(t.isimage=!1,t.url=null)}))};r=function(r,f,e){n({method:"POST",url:"/api/Upload",timeout:u,headers:{"Content-Type":undefined},transformRequest:function(n){var t=new FormData;return t.append("model",angular.toJson(n.model)),t.append("file",n.file),t},data:{model:f,file:e},uploadEventHandlers:{progress:function(n){t.progressText="Uploading..."+Math.floor(n.loaded/n.total*100)+"%"}}}).then(function(n){r[0].value=null;t.progressText=i;t.canPickFile=!0;window.uplus.isSuccess(n.status)&&(t.isimage=n.data.IsImage,t.url=n.data.Url)})};f=function(r,f,e){var o=new FileReader;o.onload=function(e){var o=document.createElement("img");o.onload=function(){var h=document.createElement("canvas"),a=h.getContext("2d");a.drawImage(o,0,0);var c=1e3,l=1e3,e=parseInt(o.width,10),s=parseInt(o.height,10);e===0&&(e=parseInt(o.naturalWidth,10),s=parseInt(o.naturalHeight,10));e>s?e>c&&(s*=c/e,e=c):s>l&&(e*=l/s,s=l);h.width=e;h.height=s;a.drawImage(o,0,0,e,s);f.DataUrl=h.toDataURL("image/jpeg",.8);n({method:"PUT",url:"/api/Upload",timeout:u,data:f,uploadEventHandlers:{progress:function(n){t.progressText="Uploading..."+Math.floor(n.loaded/n.total*100)+"%"}}}).then(function(n){r[0].value=null;t.progressText=i;t.canPickFile=!0;window.uplus.isSuccess(n.status)&&(t.isimage=n.data.IsImage,t.url=n.data.Url)})};o.src=e.target.result};o.readAsDataURL(e)};setTimeout(function(){var n=angular.element(document.getElementById(t.propname));n.bind("change",function(i){var u=i.target.files[0],e;u&&(u.size&&u.size/1048576>100?t.$emit("OnAjaxError",{message:"The file must not exceed 100 MB."}):(t.canPickFile=!1,e={DbId:t.dbid,UploadType:t.uploadtype,PropertyName:t.propname,FileName:u.name,MimeType:u.type},e.MimeType==="image/png"||e.MimeType==="image/jpeg"||e.MimeType==="image/bmp"?u.size/1024>100?f(n,e,u):r(n,e,u):r(n,e,u)))})},0)}}}]);angular.module("uplus").directive("uFind",function(){return{restrict:"E",scope:{count:"=",searchText:"=",options:"="},replace:!0,transclude:!1,link:function(n){n.clear=function(){n.searchText=""};n.$watch("searchText",function(){var n=document.getElementById("findClearBtn");n&&n.focus()},!0)},template:'<div class="u-search-div"><oi-select oi-options="item for item in options" ng-model="searchText" oi-select-options="{ newItem: \'autocomplete\' }"><\/oi-select><svg class="u-search-svg"><use xlink:href="#icon-search"><\/use><\/svg><button id="findClearBtn" ng-show="searchText" ng-click="clear()"><svg class="u-search-btnsvg"><use xlink:href="#icon-close"><\/use><\/svg><\/button><i  class="u-search-info" ng-bind="count" ><\/button><\/div>'}});angular.module("uplus").directive("uHeader",function(){return{restrict:"E",scope:{caption:"@"},replace:!0,transclude:!1,link:function(){},template:'<div class="u-header"><a class="u-header-a" href="#!/home" title="Home"><svg class="u-header-svg"><use xlink:href="#icon-android-menu"><\/use><\/svg><\/a><h1 class="u-header-h1" ng-bind="caption"><\/h1><\/div>'}});angular.module("uplus").directive("uLoading",function(){return{restrict:"E",replace:!0,template:"<div id='uloading' class='marquee u-loading' style='display: none'><\/div>",link:function(n,t){var i=0,r=!1;n.$on("loading-started",function(){i<0?i=1:i++;r||(r=!0,t.css({display:"block"}),anime({targets:"#uloading",easing:"linear",opacity:1,duration:200}))});n.$on("loading-complete",function(){i--;i<=0&&r&&(r=!1,anime({targets:"#uloading",easing:"linear",opacity:0,duration:200,complete:function(){t.css({display:"none"})}}))})}}});angular.module("uplus").directive("uMenu",["$window",function(n){return{restrict:"E",scope:{caption:"@"},replace:!0,transclude:!0,link:function(t,i){angular.element(n).bind("scroll",function(){n.pageYOffset>50?i.addClass("menu-scrollfix"):i.removeClass("menu-scrollfix")})},template:'<div class="u-menu"><a class="u-header-a" href="#!/home" title="Home"><svg class="u-header-svg"><use xlink:href="#icon-android-menu"><\/use><\/svg><\/a><h1 class="u-header-h1" ng-bind="caption"><\/h1><div class="u-menu-container" ng-transclude><\/div><\/div>'}}]);angular.module("uplus").directive("uNodata",function(){return{restrict:"E",scope:{},replace:!0,transclude:!1,link:function(){},template:'<div class="u-nodata"><svg class="u-nodata-svg"><use xlink:href="#icon-folder-search"><\/use><\/svg><p class="text-title">Nothing to Display<\/p><\/div>'}});angular.module("uplus").factory("notify",["$timeout","$compile","$templateCache","$rootScope",function(n,t,i,r){var o=0,s=0,h=7e3,c="<div class='u-notify' ng-click='$close()' ng-bind='$message'><\/div>",l="center",a=document.body,e=3,u=[],f=[],v=function(i){var v,k,p,y,w,b;if(typeof i!="object"&&(i={message:i}),i.duration=i.duration?i.duration:h,i.templateUrl=i.templateUrl?i.templateUrl:c,i.container=i.container?i.container:a,i.classes=i.classes?i.classes:"",v=i.scope?i.scope.$new():r.$new(),v.$position=i.position?i.position:l,v.$message=i.message,v.$classes=i.classes,v.$messageTemplate=i.messageTemplate,e>0)for(k=f.length+1-e,p=0;p<k;p++)f[p].$close();return y=t(i.templateUrl)(v),y.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",function(n){(n.propertyName==="opacity"||n.currentTarget.style.opacity===0||n.originalEvent&&n.originalEvent.propertyName==="opacity")&&(y.remove(),u.splice(u.indexOf(y),1),f.splice(f.indexOf(v),1),w())}),angular.element(i.container).append(y),u.push(y),v.$close=function(){y.css("opacity",0).attr("data-closing","true");w()},w=function(){for(var h=0,r=o,n=u.length-1;n>=0;n--){var f=10,t=u[n],i=t[0].offsetHeight,e=r+i+f;t.attr("data-closing")?e+=20:r+=i+s;t.css("bottom",e+"px").css("margin-bottom","-"+(i+f)+"px").css("visibility","visible");h++}},n(function(){w()}),i.duration>0&&n(function(){v.$close()},i.duration),b={},b.close=function(){v.$close&&v.$close()},Object.defineProperty(b,"message",{get:function(){return v.$message},set:function(n){v.$message=n}}),f.push(v),b};return v.config=function(n){o=angular.isUndefined(n.startTop)?o:n.startTop;s=angular.isUndefined(n.verticalSpacing)?s:n.verticalSpacing;h=angular.isUndefined(n.duration)?h:n.duration;c=n.templateUrl?n.templateUrl:c;l=angular.isUndefined(n.position)?l:n.position;a=n.container?n.container:a;e=n.maximumOpen?n.maximumOpen:e},v.closeAll=function(){for(var t,n=u.length-1;n>=0;n--)t=u[n],t.css("opacity",0)},v}]);angular.module("uplus").directive("uPane",function(){return{restrict:"E",scope:{visible:"="},replace:!0,transclude:!0,link:function(n){n.hidePane=function(){n.visible=!1};n.$watch("visible",function(){n.visible?angular.element(document.body).addClass("body-hidescroll"):angular.element(document.body).removeClass("body-hidescroll")});n.$on("$destroy",function(){angular.element(document.body).removeClass("body-hidescroll")})},template:'<div id="flyout" ng-class="{\'slide\': visible}"><div ng-transclude id="flyoutcont" class="flyout-div-cont"><\/div><button class="flyout-button-close" ng-click="hidePane()"><svg class="flyout-button-svg"><use xlink:href="#icon-close"><\/use><\/svg><\/button><\/div>'}});angular.module("uplus").directive("uRefresh",["$window",function(n){return{restrict:"E",scope:{icon:"@"},replace:!0,transclude:!1,link:function(t,i){t.iconx=t.icon?t.icon:"#icon-cw";t.onClick=function(){t.$emit("OnRefreshData")};angular.element(n).bind("scroll",function(){n.pageYOffset>50?i.addClass("menu-scrollfix"):i.removeClass("menu-scrollfix")})},template:'<button class="u-refresh" ng-click="onClick()"><svg class="u-refresh-svg"><use xlink:href="{{iconx}}"><\/use><\/svg><\/button>'}}]);angular.module("ctrls").controller("ChangePasswordCtrl",["$rootScope","$scope","$http","cacheSvc","notify",function(n,t,i,r,u){n.pageTitle="Change Password";var f="/api/ChangePassword";t.fetchData=function(){r.get(f).then(function(n){t.current=n})};t.submitForm=function(n){n.$valid&&(t.isDisabled=!0,i.put(f,t.current).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,u("Saved"),t.current=n.data)}))};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;u(i)})}]);angular.module("ctrls").controller("HomeCtrl",["$rootScope","$scope","$http","notify","$location","cacheSvc",function(n,t,i,r,u,f){n.pageTitle="Home";var e="/api/Home";t.fetchData=function(){f.get(e).then(function(n){t.current=n})};t.$on("OnRefreshData",function(){f.remove(e);t.fetchData()});t.$on("$destroy",function(){t.current=null});n.logout=function(){window.localStorage.removeItem("token");window.uplus.scrollPosCache={};window.myCache={};u.path("/")};t.$on("OnAjaxError",function(n,t){r(t)});t.fetchData()}]);angular.module("ctrls").controller("LoginCtrl",["$rootScope","$scope","$http","notify","$location",function(n,t,i,r,u){n.pageTitle="Login";t.current={Version:window.uplus.VERSION,Title:window.uplus.APP_TITLE,Accent:window.uplus.APP_TITLE_ACCENT,Code:window.localStorage.getItem("Code")?window.localStorage.getItem("Code"):null,Account:window.localStorage.getItem("Account")?window.localStorage.getItem("Account"):window.uplus.APP_ACCOUNT_ID,canShowAccount:window.uplus.INTERNAL_MODE,isPhoneGap:window.uplus.isPhoneGap(),RememberPassword:window.localStorage.getItem("Remember")?!0:!1,Password:window.localStorage.getItem("Remember")?window.localStorage.getItem("Remember"):null};window.addEventListener("message",function(n){if(n.data){var i=n.data.split(",");window.uplus.INTERNAL_MODE=!1;window.uplus.APP_TITLE=i[0];window.uplus.APP_TITLE_ACCENT=i[1];window.uplus.APP_ACCOUNT_ID=i[2];t.current.Title=window.uplus.APP_TITLE;t.current.Accent=window.uplus.APP_TITLE_ACCENT;t.current.Account=window.uplus.APP_ACCOUNT_ID;t.current.canShowAccount=window.uplus.INTERNAL_MODE;t.$$phase||t.$apply()}},!1);t.submitForm=function(r){(console.log(window.uplus),r.$valid)&&(t.isDisabled=!0,window.localStorage.setItem("Code",t.current.Code),window.localStorage.setItem("Account",t.current.Account),t.current.RememberPassword?window.localStorage.setItem("Remember",t.current.Password):window.localStorage.removeItem("Remember"),i({method:"POST",url:"/api/Login",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(n){var t=[];for(var i in n)t.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));return t.join("&")},data:{grant_type:"password",username:t.current.Code+"^"+t.current.Account+"^"+(window.uplus.INTERNAL_MODE?"1":"0"),password:t.current.Password}}).then(function(i){if(window.uplus.isSuccess(i.status))if(localStorage.setItem("token",i.data.access_token),t.current.Account.toLowerCase()=="k030003"&&window.uplus.startFcm("medalink"),n.returnToUrl&&n.returnToUrl!=="/"){var r=n.returnToUrl;n.returnToUrl=null;u.path(r).replace()}else n.returnToUrl=null,u.path("/home").replace()}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)})}]);window.templ.NotFoundCtrl='<div class="container-center"><h1 style="font-size: 120px; letter-spacing: 10px; margin: 0">404<\/h1><p class="text-title">Page Not Found<\/p><a class="link-button-pink" href="#!/home">Home<\/a><\/div>';angular.module("ctrls").controller("NotFoundCtrl",["$rootScope","$scope","$http","notify",function(n,t,i,r){n.pageTitle="Page Not Found";t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("AeonLoanCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Aeon Loan";var o="/api/AeonLoan";t.fetchData=function(){u.id?e.getOnce(o+"/"+u.id).then(function(n){t.current=n.length>0?n[0]:{Id:0,Status:"None"}}):t.current={Id:0,Status:"None"}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("AeonLoansCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Aeon Loan";t.filter={findText:""};var u="/api/AeonLoans";t.init=function(){t.filter.options=["Pending","Approved","Declined","Cancelled"];t.fetchData()};t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("GooglePlayCtrl",["$rootScope","$scope","notify","$http","cacheSvc",function(n,t,i,r){n.pageTitle="Google Play";t.current={};t.submitForm=function(n){n.$valid&&(t.isDisabled=!0,r.get("/api/GooglePlay?fromd="+encodeURIComponent(t.current.fromd)+"&untild="+encodeURIComponent(t.current.untild)).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,t.list=n.data)}))};t.$on("OnAjaxError",function(n,r){t.isDisabled=!1;i(r)})}]);angular.module("ctrls").controller("LpNewsCtrl",["$rootScope","$scope","notify","$http","cacheSvc",function(n,t,i,r){n.pageTitle="News";t.current={IsBroadcast:!1};t.submitForm=function(n){n.$valid&&(t.isDisabled=!0,r.post("/api/LpNews",t.current).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,i("Saved"),t.current={IsBroadcast:!1})}))};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,r){t.isDisabled=!1;i(r)})}]);angular.module("ctrls").controller("LpPrizeCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Prize";var o="/api/LpPrize";t.filter={};t.fetchData=function(){u.id?e.getOnce(o+"/"+u.id).then(function(n){n.IsImage=!0;t.current=n}):t.current={Id:0}};t.submitForm=function(n){if(n.$valid){t.isDisabled=!0;var s="/api/LpPrize";u.id&&(s=o+"/"+u.id);i.put(s,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var s="/api/LpPrizes",i={Id:n.data.Id,Name:n.data.Name,Worth:n.data.Worth,EndDate:n.data.EndDate,Winner:n.data.Winner,MaxBid:n.data.MaxBid,TotalBid:n.data.PaidBid+n.data.FreeBid};u.id?(e.replaceItem(s,i.Id,i),n.data.IsImage=!0,t.current=n.data):(e.prepend(s,i),e.replace(o+"/"+i.Id,n.data),f.path("/lpprize/"+i.Id).replace())}})}};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(o+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");e.removeItem("/api/LpPrizes",parseInt(u.id,10));f.path("/lpprizes")}}):f.path("/lpprizes"))};t.pick=function(){confirm("Are you sure You want to pick Winner?")&&(u.id?i.post(o+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,r("Saved"))}):f.path("/lpprizes"))};t.onNew=function(){u.id?f.path("/lpprize"):t.current={Id:0}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("LpPrizesCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Prizes";t.filter={findText:""};var u="/api/LpPrizes";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("LpRedeemCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Redeem";var o="/api/LpRedeem";t.filter={};t.fetchData=function(){u.id&&e.getOnce(o+"/"+u.id).then(function(n){t.current=n})};t.submitForm=function(n){if(n.$valid){t.isDisabled=!0;var f="/api/LpRedeem";u.id&&(f=o+"/"+u.id);i.put(f,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var i={Id:n.data.Id,Name:n.data.User.Name,EndDate:n.data.Prize.EndDate,Status:n.data.Status};u.id&&(e.replaceItem("/api/LpRedeems",i.Id,i),t.current=n.data)}})}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("LpRedeemsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Redeems";t.filter={findText:""};var u="/api/LpRedeems";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("MykadCtrl",["$rootScope","$scope","$http","cacheSvc","notify",function(n,t,i,r,u){n.pageTitle="Mykad";t.current={};t.onEnterMykad=function(){if(t.current.Value){var n=JSON.parse(t.current.Value);t.current.Address=n.Address;t.current.Dob=n.DateOfBirth;t.current.Name=n.FullName;t.current.IcNo=n.NRICNumber;t.current.Religion=n.Religion;t.current.Sex=n.Sex}};t.submitForm=function(n){n.$valid&&(t.isDisabled=!0,i.post("/api/Mykad",t.current).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,u("Saved"),t.current={})}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;u(i)})}]);angular.module("ctrls").controller("StoreCtrl",["$rootScope","$scope","notify","$http","cacheSvc",function(n,t,r,u,f){var o,s,e;if(n.pageTitle="Store",t.deviceCode="Store",t.products=[],o="",t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)}),s=function(n){return n===Object(n)},t.currentEmail=null,t.accounts=[],t.showError=function(n){t.isDisabled=!1;s(n)?r(JSON.stringify(n)):r(n);t.$$phase||t.$apply()},e=null,window.Cocoon&&(e=Cocoon.InApp,t.deviceCode=device.uuid,o=device.uuid),t.$on("OnRefreshData",function(){t.fetchData()}),t.fetchData=function(){f.get("/api/Store/1").then(function(n){t.tallies=n});f.get("/api/Store").then(function(n){t.productIds=n;e&&e.fetchProducts(n,function(n,i){var f,u,r;if(i)t.showError("Fetch Error: "+JSON.stringify(i));else{for(t.products=[],f=[],u=0;u<n.length;++u)r=n[u],t.products.push({productId:r.productId,title:r.title,description:r.description,price:r.price,localizedPrice:r.localizedPrice,balance:e.stockOfProduct(r.productId)});t.$$phase||t.$apply()}})})},t.updatePurchase=function(n){t.deviceCode=n.transactionId;r(n.transactionId);t.isDisabled=!0;u.post("/api/Store",n).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,t.tallies=n.data,CacheSvc.update("/api/Store/1",n.data),t.showError("Successful"),t.$$phase||t.$apply())});t.$$phase||t.$apply()},e){e.on("purchase",{start:function(){},error:function(n,i){t.showError("Purchase Failed "+n+" Error: "+JSON.stringify(i))},complete:function(n){for(n.device=o,n.email=t.currentEmail,t.updatePurchase(n),i=0;i<t.products.length;i++)t.products[i].productId==n.productId&&(t.products[i].balance=e.stockOfProduct(n.productId),t.isDisabled=!1,t.$$phase||t.$apply())}});e.initialize({autofinish:!0},function(n){n?t.showError("Init Error: "+n):(e.setValidationHandler(function(n,t,i){i(!0)}),t.fetchData())});window.plugins.DeviceAccounts.get(function(n){for(t.accounts=[],i=0;i<n.length;i++)n[i].type=="com.google"&&t.accounts.push({name:n[i].name});t.accounts.length===1&&(t.currentEmail=t.accounts[0].name)},function(n){t.showError(n)})}t.buy=function(n){if(!t.isDisabled){if(!t.currentEmail){r("Please choose an Email");return}t.isDisabled=!0;e.purchase(n.productId,1,function(i){i||(n.balance=e.stockOfProduct(n.productId),t.isDisabled=!1,t.$$phase||t.$apply())})}};t.consume=function(n){t.isDisabled||n.balance<=0||(t.isDisabled=!0,e.consume(n.productId,1,function(i,r){r?t.showError("Consume Error: "+r):(t.showError("Consumed items: "+i),n.balance=e.stockOfProduct(n.productId),t.isDisabled=!1,t.$$phase||t.$apply())}))}}]);angular.module("ctrls").controller("BlogPostCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify","loadWysihtml",function(n,t,i,r,u,f,e,o){n.pageTitle="Blog Post";var s="/api/BlogPost",h=null;o.then(function(){h=new wysihtml.Editor("editor",{toolbar:"toolbar",parserRules:wysihtmlParserRules})});t.initData=function(){document.getElementById("editor").innerHTML=t.current.Body};t.fetchData=function(){u.id?f.getOnce(s+"/"+u.id).then(function(n){t.current=n;t.initData()}):(t.current={Id:0,Active:!1,Body:"&nbsp;"},t.initData())};t.submitForm=function(n){var o,h,c;n.$valid&&(o=document.getElementsByClassName("wysihtml-source-view"),o&&o.length>0?(h=o[0].value,t.current.Body=h):(h=document.getElementById("editor").innerHTML,t.current.Body=h),t.isDisabled=!0,c="/api/BlogPost",u.id&&(c=s+"/"+u.id),i.put(c,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");var o="/api/BlogPosts",i={Id:n.data.Id,Name:n.data.Name,Active:n.data.Active,PublishDate:n.data.PublishDate};u.id?(f.replaceItem(o,i.Id,i),t.current=n.data,t.initData()):(f.prepend(o,i),f.replace(s+"/"+i.Id,n.data),r.path("/blog-post/"+i.Id).replace())}}))};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(s+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");f.removeItem("/api/BlogPosts",parseInt(u.id,10));r.path("/blog-posts")}}):r.path("/blog-posts"))};t.onNew=function(){u.id?r.path("/blog-post"):(t.current={Id:0,Active:!1,Body:"&nbsp;"},t.initData())};t.$on("$destroy",function(){t.current=null;h&&h.cleanUp()});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;e(i)});t.fetchData()}]);angular.module("ctrls").controller("BlogPostsCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Blog Posts";var u="/api/BlogPosts";t.fetchData=function(){i.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){i.remove(u);t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("FileCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify","azureBlob",function(n,t,i,r,u,f,e,o){n.pageTitle="-";var h="/api/FileGrp",s=[],c=null;t.filter={findText:""};t.initData=function(){n.pageTitle=t.current.Name?t.current.Name:"Files"};t.fetchData=function(){u.id?f.getOnce(h+"/"+u.id).then(function(n){t.current=n;t.initData()}):(t.current={Id:0,Name:"",FileItems:[]},t.changeName(),t.initData())};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(h+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");f.removeItem("/api/FileGrps",parseInt(u.id,10));r.path("/files")}}):r.path("/files"))};t.changeName=function(){t.paneShown=!0};t.onChangeName=function(n){var o,s;n.$valid&&(t.isDisabled=!0,o="/api/FileGrp",u.id&&(o=h+"/"+u.id),s={Id:t.current.Id,Name:t.current.Name},i.put(o,s).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");var o="/api/FileGrps",i={Id:n.data.Id,Name:n.data.Name};n.data.FileItems=t.current.FileItems;t.paneShown=!1;u.id?(f.replaceItem(o,i.Id,i),t.current=n.data,t.initData()):(f.prepend(o,i),f.replace(h+"/"+i.Id,n.data),r.path("/file/"+i.Id).replace())}}))};t.submitForm=function(n){var f,r,u;if(n.$valid&&(f=document.getElementById("selections"),r=f.files,r.length!==0)){for(u=0;u<r.length;u++)s.push(r[u]);f.value=null;t.isDisabled=!0;i.post("/api/Sas").then(function(n){window.uplus.isSuccess(n.status)&&(c=n.data,t.onUpload())})}};t.onUpload=function(){var n=s[0],u=n.name.lastIndexOf("."),f="",r;u>-1&&(f=n.name.substring(u));r=window.uplus.newGuid()+f;o.upload({baseUrl:"https://uplus.blob.core.windows.net/"+c.AccountId+"/"+r,sasToken:c.Token,file:n,progress:function(i){t.progressTxt="Uploading "+n.name+" - "+i+"%"},complete:function(){i.put("/api/FileItem?fileGrpId="+t.current.Id,{Name:n.name,Length:n.size,Blob:r}).then(function(n){window.uplus.isSuccess(n.status)&&(t.current.FileItems.push(n.data),s.shift(),s.length<=0?(t.isDisabled=!1,t.progressTxt=""):t.onUpload())})},error:function(n){s=[];t.isDisabled=!1;e(n.data)}})};t.getFileSize=function(n){return parseInt(n/1024)+" KB"};t.getBackground=function(n){var t=n.substr(n.length-3);return t=="jpg"||t=="png"||t=="gif"?"url("+n+") center/contain no-repeat":"url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='30' height='30'><circle cx='15' cy='15' r='10' fill='#e7e7e7' /><\/svg>\")"};t.onChange=function(n){n.IsChanged=!0};t.onEndEdit=function(n){n.IsChanged&&(n.Name?i.put("/api/FileItem/"+n.Id+"?fileGrpId="+t.current.Id,n).then(function(t){window.uplus.isSuccess(t.status)&&(n.IsChanged=!1)}):i.delete("/api/FileItem/"+n.Id).then(function(i){if(window.uplus.isSuccess(i.status)){n.IsChanged=!1;var r=t.current.FileItems.indexOf(n);t.current.FileItems.splice(r,1)}}))};t.onNew=function(){u.id?r.path("/file"):(t.current={Id:0,Name:"",FileItems:[]},t.changeName(),t.initData())};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;e(i)});t.fetchData()}]);angular.module("ctrls").controller("FilesCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Files";var u="/api/FileGrps";t.fetchData=function(){i.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){i.remove(u);t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("FormCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify",function(n,t,i,r,u,f,e){n.pageTitle="-";var o="/api/FormGrp";t.initData=function(){n.pageTitle=t.current.Name?t.current.Name:"Forms"};t.fetchData=function(){u.id?f.getOnce(o+"/"+u.id).then(function(n){t.current=n;t.initData()}):(t.current={Id:0,Name:"",FormItems:[]},t.changeName(),t.initData())};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(o+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");f.removeItem("/api/FormGrps",parseInt(u.id,10));r.path("/forms")}}):r.path("/forms"))};t.changeName=function(){t.paneShown=!0};t.onChangeName=function(n){var s,h;n.$valid&&(t.isDisabled=!0,s="/api/FormGrp",u.id&&(s=o+"/"+u.id),h={Id:t.current.Id,Name:t.current.Name},i.put(s,h).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");var s="/api/FormGrps",i={Id:n.data.Id,Name:n.data.Name};n.data.FormItems=t.current.FormItems;t.paneShown=!1;u.id?(f.replaceItem(s,i.Id,i),t.current=n.data,t.initData()):(f.prepend(s,i),f.replace(o+"/"+i.Id,n.data),r.path("/form/"+i.Id).replace())}}))};t.onChange=function(n){n.IsChanged=!0};t.onNew=function(){u.id?r.path("/form"):(t.current={Id:0,Name:"",FormItems:[]},t.changeName(),t.initData())};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;e(i)});t.onEndEdit=function(n,r){(r||n.IsChanged)&&(n.Name?i.put("/api/FormItem/"+n.Id+"?formGrpId="+t.current.Id,n).then(function(t){window.uplus.isSuccess(t.status)&&(n.IsChanged=!1)}):i.delete("/api/FormItem/"+n.Id).then(function(i){if(window.uplus.isSuccess(i.status)){n.IsChanged=!1;var r=t.current.FormItems.indexOf(n);t.current.FormItems.splice(r,1)}}))};t.addItem=function(){t.isDisabled=!0;i.put("/api/FormItem?formGrpId="+t.current.Id,{Name:"Field",Type:"Text"}).then(function(n){window.uplus.isSuccess(n.status)&&(t.current.FormItems||(t.current.FormItems=[]),t.current.FormItems.push(n.data),t.isDisabled=!1)})};t.navTo=function(){t.current.Id>0&&r.path("/form-entries/"+t.current.Id)};t.fetchData()}]);angular.module("ctrls").controller("FormEntriesCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify",function(n,t,i,r,u,f,e){n.pageTitle="-";t.filter={findText:""};t.initData=function(){n.pageTitle=t.current.Name?t.current.Name:"Forms"};t.fetchData=function(){i.get("/api/FormGrp/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.current=n.data,t.initData())});i.get("/api/FormEntry/"+u.id).then(function(n){var r,u,i;if(window.uplus.isSuccess(n.status)){for(r=[],i=0;i<n.data.length;i++)u=n.data[i],r.push({Id:u.Id,Item:JSON.parse(u.Name)});t.list=r}})};t.onChange=function(n){n.IsChanged=!0};t.onEndEdit=function(n){n.IsChanged&&i.put("/api/FormEntry/"+n.Id+"?formGrpId="+t.current.Id,{Name:angular.toJson(n.Item)}).then(function(t){window.uplus.isSuccess(t.status)&&(n.IsChanged=!1)})};t.addItem=function(){for(var r={},n,u=0;u<t.current.FormItems.length;u++)n=t.current.FormItems[u],n.Type=="Text"?r[n.Name]="text":n.Type=="Number"?r[n.Name]=0:n.Type=="Multiline"&&(r[n.Name]="multiline");t.isDisabled=!0;i.put("/api/FormEntry?formGrpId="+t.current.Id,{Name:angular.toJson(r)}).then(function(n){window.uplus.isSuccess(n.status)&&(t.list.push({Id:n.data.Id,Item:JSON.parse(n.data.Name)}),t.isDisabled=!1)})};t.removeItem=function(n){confirm("Are you sure You want to remove?")&&i.delete("/api/FormEntry/"+n.Id).then(function(i){if(window.uplus.isSuccess(i.status)){t.isDisabled=!1;e("Saved");var r=t.list.indexOf(n);t.list.splice(r,1)}})};t.$on("OnRefreshData",function(){t.fetchData()});t.navTo=function(){r.path("/form/"+u.id)};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;e(i)})}]);angular.module("ctrls").controller("FormsCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Forms";var u="/api/FormGrps";t.fetchData=function(){i.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){i.remove(u);t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("QnaCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify",function(n,t,r,u,f,e,o){n.pageTitle="Question";var s="/api/Qna";t.initData=function(){t.current.Answers=t.current.AnswerJson?JSON.parse(t.current.AnswerJson):[{Text:"text"},{Text:"text"},{Text:"text"}]};t.fetchData=function(){f.id?e.getOnce(s+"/"+f.id).then(function(n){t.current=n;t.initData()}):t.current={Id:0,Answers:[{Text:"text"},{Text:"text"},{Text:"text"}]}};t.addItem=function(){t.current.Answers.push({Text:"text"})};t.submitForm=function(n){var h,c;if(n.$valid){for(t.isDisabled=!0,h="/api/Qna",f.id&&(h=s+"/"+f.id),c=[],i=0;i<t.current.Answers.length;i++)t.current.Answers[i].Text&&c.push(t.current.Answers[i]);t.current.AnswerJson=angular.toJson(c);r.put(h,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;o("Saved");var r="/api/Qnas",i={Id:n.data.Id,Question:n.data.Question,Qid:n.data.Qid};f.id?(e.replaceItem(r,i.Id,i),t.current=n.data,t.initData()):(e.prepend(r,i),e.replace(s+"/"+i.Id,n.data),u.path("/qna/"+i.Id).replace())}})}};t.remove=function(){confirm("Are you sure You want to remove?")&&(f.id?r.delete(s+"/"+f.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;o("Saved");e.removeItem("/api/Qnas",parseInt(f.id,10));u.path("/qnas")}}):u.path("/qnas"))};t.onNew=function(){f.id?u.path("/qna"):t.current={Id:0,Answers:[{Text:"text"},{Text:"text"},{Text:"text"}]}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;o(i)});t.fetchData()}]);angular.module("ctrls").controller("QnasCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Questions";var u="/api/Qnas";t.fetchData=function(){i.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){i.remove(u);t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("ShopItemCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify","loadWysihtml",function(n,t,i,r,u,f,e,o){var h,s,c;n.pageTitle="Shop Item";h="/api/ShopItem";t.display="";t.paneShown=!1;s=null;t.$on("$destroy",function(){t.current=null;s&&s.destroy();c&&c.cleanUp()});c=null;o.then(function(){c=new wysihtml.Editor("editor",{toolbar:"toolbar",parserRules:wysihtmlParserRules})});t.initData=function(){document.getElementById("editor").innerHTML=t.current.Body;t.current.Others&&(t.current.List=JSON.parse(t.current.Others))};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(h+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");f.removeItem("/api/ShopItems",parseInt(u.id,10));r.path("/shop-items")}}):r.path("/shop-items"))};t.onNew=function(){u.id?r.path("/shop-item"):(t.current={Id:0,Active:!0,Body:"&nbsp;"},t.initData())};t.fetchData=function(){u.id?f.getOnce(h+"/"+u.id).then(function(n){t.current=n;t.initData()}):(t.current={Id:0,Active:!0,Body:"&nbsp;"},t.initData())};t.addItem=function(){t.current.List||(t.current.List=[]);t.current.List.push({Name:"item",Remark:"",FromQtyGte:1,ToQtyLt:99999,Price:0})};t.openPhoto=function(n){n&&(t.display=n,s?s._reset():s=window.uplus.pinchZoom("currentPhoto"),t.paneShown=!0)};t.submitForm=function(n){var o,s,c;n.$valid&&(o=document.getElementsByClassName("wysihtml-source-view"),o&&o.length>0?(s=o[0].value,t.current.Body=s):(s=document.getElementById("editor").innerHTML,t.current.Body=s),t.current.List&&(t.current.Others=angular.toJson(t.current.List)),t.isDisabled=!0,c="/api/ShopItem",u.id&&(c=h+"/"+u.id),i.put(c,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");var o="/api/ShopItems",i={Id:n.data.Id,Name:n.data.Name,Category:n.data.Category,Active:n.data.Active,Price:n.data.Price};u.id?(f.replaceItem(o,i.Id,i),t.current=n.data,t.initData()):(f.prepend(o,i),f.replace(h+"/"+i.Id,n.data),r.path("/shop-item/"+i.Id).replace())}}))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;e(i)});t.fetchData()}]);angular.module("ctrls").controller("ShopItemsCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Shop Items";var u="/api/ShopItems";t.fetchData=function(){i.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){i.remove(u);t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("WebpageCtrl",["$rootScope","$scope","$http","$location","$routeParams","cacheSvc","notify","loadWysihtml",function(n,t,i,r,u,f,e,o){n.pageTitle="Web Page";var s="/api/WebPage",h=null;o.then(function(){h=new wysihtml.Editor("editor",{toolbar:"toolbar",parserRules:wysihtmlParserRules})});t.initData=function(){document.getElementById("editor").innerHTML=t.current.Body};t.fetchData=function(){u.id?f.getOnce(s+"/"+u.id).then(function(n){t.current=n;t.initData()}):(t.current={Id:0,Body:"&nbsp;"},t.initData())};t.submitForm=function(n){var o,h,c;n.$valid&&(o=document.getElementsByClassName("wysihtml-source-view"),o&&o.length>0?(h=o[0].value,t.current.Body=h):(h=document.getElementById("editor").innerHTML,t.current.Body=h),t.isDisabled=!0,c="/api/WebPage",u.id&&(c=s+"/"+u.id),i.put(c,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");var o="/api/WebPages",i={Id:n.data.Id,Name:n.data.Name};u.id?(f.replaceItem(o,i.Id,i),t.current=n.data,t.initData()):(f.prepend(o,i),f.replace(s+"/"+i.Id,n.data),r.path("/webpage/"+i.Id).replace())}}))};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(s+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;e("Saved");f.removeItem("/api/WebPages",parseInt(u.id,10));r.path("/webpages")}}):r.path("/webpages"))};t.onNew=function(){u.id?r.path("/webpage"):(t.current={Id:0,Body:"&nbsp;"},t.initData())};t.$on("$destroy",function(){t.current=null;h&&h.cleanUp()});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;e(i)});t.fetchData()}]);angular.module("ctrls").controller("WebpagesCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Web Pages";var u="/api/WebPages";t.fetchData=function(){i.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){i.remove(u);t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("LongiClearanceExportCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Longi - Export Clearance";var o="/api/LongiClearanceExport";t.filter={};t.filter.submitType="";t.filter.uploadType="LongiClearanceExport";t.onSubmitOrder=function(){t.submitForm(t.myForm,t.filter.submitType);t.filter.submitType=""};t.$watch("current.CargoType",function(n){n&&n.indexOf("AIR")!==-1?(t.filter.containerRelease="Booking Info",t.filter.shippingOrder="",t.filter.shippingOrder1="Airway Bill",t.filter.shippingOrder2="Airway Receipt",t.filter.invoice="Invoice",t.filter.packingList="Packing List",t.filter.k8Draft="K8 - Draft",t.filter.k8Start="K8 - Start",t.filter.k8Release="K8 - Chop",t.filter.k8Form="K8 - Complete",t.filter.vgmForm="",t.filter.k8Amendment="K8 - Amendment"):(t.filter.containerRelease="Container Release",t.filter.shippingOrder="Shipping Order",t.filter.shippingOrder1="HBL",t.filter.shippingOrder2="MBL",t.filter.invoice="Invoice",t.filter.packingList="Packing List",t.filter.k8Draft="K8 - Draft",t.filter.k8Start="K8 - Start",t.filter.k8Release="K8 - Chop",t.filter.k8Form="K8 - Complete",t.filter.vgmForm="VGM Form",t.filter.k8Amendment="K8 - Amendment")});t.removeCont=function(){t.addCont()};t.addCont=function(){r("You have no permission to do this.")};t.fetchData=function(){u.id&&e.getOnce(o+"/"+u.id).then(function(n){t.current=n})};t.submitForm=function(){t.addCont()};t.onNew=function(){t.addCont()};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("LongiClearanceExportsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Export Clearance";t.filter={findText:""};var u="/api/LongiCleareanceExports";t.init=function(){t.filter.options=["Urgent"];t.fetchData()};t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("LongiClearanceImportCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Longi - Import Clearance";var o="/api/LongiClearanceImport";t.filter={};t.filter.submitType="";t.filter.uploadType="LongiClearanceImport";t.onSubmitOrder=function(){t.submitForm(t.myForm,t.filter.submitType);t.filter.submitType=""};t.$watch("current.CargoType",function(n){n&&n.indexOf("AIR")!==-1?(t.filter.BillOfLading="BL - Transit 1",t.filter.BillOfLading2="BL  - Transit 2",t.filter.BillOfLading3="BL  - Domestic",t.filter.InvoiceClearance="Invoice - Clearance",t.filter.InvoiceConsignee="Invoice - Consignee",t.filter.PackingListClearance="Pack. List - Clearance",t.filter.PackingListConsignee="Pack. List - Consignee",t.filter.ShippingDo="Airway Bill",t.filter.LinerInvoice="",t.filter.K8Form="K8 Form",t.filter.NominationLetter=""):(t.filter.BillOfLading="BL - Transit 1",t.filter.BillOfLading2="BL - Transit 2",t.filter.BillOfLading3="BL - Domestic",t.filter.InvoiceClearance="Invoice - Clearance",t.filter.InvoiceConsignee="Invoice - Consignee",t.filter.PackingListClearance="Pack. List - Clearance",t.filter.PackingListConsignee="Pack. List - Consignee",t.filter.ShippingDo="Shipping DO",t.filter.LinerInvoice="Liner Invoice",t.filter.K8Form="K8 Form",t.filter.NominationLetter="Nomination Letter")});t.removeCont=function(){t.addCont()};t.addCont=function(){r("You have no permission to do this.")};t.fetchData=function(){u.id&&e.getOnce(o+"/"+u.id).then(function(n){t.current=n})};t.submitForm=function(){t.addCont()};t.onNew=function(){t.addCont()};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("LongiClearanceImportsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Import Clearance";t.filter={findText:""};var u="/api/LongiCleareanceImports";t.init=function(){t.filter.options=["Urgent"];t.fetchData()};t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("LongiExportContainerCtrl",["$rootScope","$scope","$http","notify","$routeParams",function(n,t,i,r,u){n.pageTitle="Longi - Export";var f="/api/LongiExportContainer";t.filter={};t.filter.uploadType="LongiContainer";t.$watch("current.CargoType",function(n){n&&n.indexOf("AIR")!==-1?(t.filter.ClosedCont="",t.filter.EmptyCont="",t.filter.LastPalletStrapping="",t.filter.HalfDoorCont="",t.filter.MiscCont="",t.filter.ShippingSeal="Cargo Photo 1",t.filter.CustomsSeal="Customs Seal",t.filter.FullViewCont="Cargo Photo 2"):(t.filter.ClosedCont="Closed Cont.",t.filter.EmptyCont="Empty Cont.",t.filter.LastPalletStrapping="Last Pallet Strapping",t.filter.HalfDoorCont="Open Half Door",t.filter.MiscCont="Misc Cont.",t.filter.ShippingSeal="Shipping Seal",t.filter.CustomsSeal="Customs Seal",t.filter.FullViewCont="Full View Cont.")});t.findDo=function(){var n=window.open();i.post(f+"/"+u.id).then(function(t){window.uplus.isSuccess(t.status)?n.location.href=t.data:n.close()})};t.fetchData=function(){u.id&&i.get(f+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.current=n.data)})};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,t){r(t)});t.fetchData()}]);angular.module("ctrls").controller("LongiExportCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Longi - Export";var o="/api/LongiExport";t.filter={};t.filter.insurances=["NA","1","2","3","4","5","6","7","8","9","10","11","12"];t.filter.forwarders=["TNE_EC","TNE_RT","TNE_ER","TNE_TN","TNE_GE"];t.filter.lks=["LK","LS","EXW","FCA","FAS","FOB","CPT","CFR","CIF","CIP","DAT","DAP - HEXAGON","DAP - OTHERS","DDU","DDP"];t.filter.plants=["C1","C2","C3","DOCK1","DOCK2","DOCK3","DOCK4","DOCK5","MODULE1","MODULE2","MODULE3","MODULE3a"];t.filter.uoms=["EA","KM","PC","SET","NA"];t.filter.cargoTypes=["CTN_AIR","CTN_LCL","PLT_AIR","PLT_LCL","20GP","40GP","40HC","40OT","40FR","40RF"];t.filter.submitType="";t.filter.uploadType="LongiExport";t.onSubmitOrder=function(){t.submitForm(t.myForm,t.filter.submitType);t.filter.submitType=""};t.approveK8Draft=function(){if(!u.id){r("Please save before continue.");return}confirm("Are you sure you want to approve the K8 draft?")&&(t.isDisabled=!0,i.post("/api/LongiExport/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,r("Saved"),t.current.K8DraftApproval=n.data)}))};t.$watch("current.CargoType",function(n){n&&n.indexOf("AIR")!==-1?(t.filter.containerRelease="Booking Info",t.filter.shippingOrder="",t.filter.shippingOrder1="Airway Bill",t.filter.shippingOrder2="Airway Receipt",t.filter.invoice="Invoice",t.filter.packingList="Packing List",t.filter.k8Draft="K8 - Draft",t.filter.k8Start="K8 - Start",t.filter.k8Release="K8 - Chop",t.filter.k8Form="K8 - Complete",t.filter.vgmForm="",t.filter.k8Amendment="K8 - Amendment"):(t.filter.containerRelease="Container Release",t.filter.shippingOrder="Shipping Order",t.filter.shippingOrder1="HBL",t.filter.shippingOrder2="MBL",t.filter.invoice="Invoice",t.filter.packingList="Packing List",t.filter.k8Draft="K8 - Draft",t.filter.k8Start="K8 - Start",t.filter.k8Release="K8 - Chop",t.filter.k8Form="K8 - Complete",t.filter.vgmForm="VGM Form",t.filter.k8Amendment="K8 - Amendment")});t.initModel=function(n){var t=null,i;if(n.TaxExclusiveTotal=0,n.GstTotal=0,n.TaxInclusiveTotal=0,n.Costs)for(i=0;i<n.Costs.length;i++)t=n.Costs[i],n.TaxExclusiveTotal+=t.TaxExclusive,n.GstTotal+=t.Gst,n.TaxInclusiveTotal+=t.TaxInclusive};t.removeCont=function(n){confirm("Are you sure you want to remove this container?")&&(n.Id=n.Id===0?n.Id=-9898989:n.Id*-1)};t.addCont=function(){t.current.Containers.push({Id:0,ContainerNo:null,CargoType:null,SendDate:null,ReturnDate:null})};t.fetchData=function(){u.id?e.getOnce(o+"/"+u.id).then(function(n){t.initModel(n);t.current=n}):(t.current={Id:0,Status:"Pending",Containers:[]},t.addCont())};t.submitForm=function(n,s){if(n.$valid&&(s!=="CreateInvoice"||confirm("Are you sure you want to create invoice?"))){t.isDisabled=!0;var h="/api/LongiExport";u.id&&(h=o+"/"+u.id);s||(s="None");h+="?saveType="+s;i.put(h,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var s="/api/LongiExports/"+window.uplus.getFilterIdByMonth(n.data.EtdOrigin),i={Id:n.data.Id,Caption:(n.data.Hbl?n.data.Hbl:"")+(n.data.Hbl&&n.data.Mbl?"/":"")+(n.data.Mbl?n.data.Mbl:""),ContainerNo:n.data.ContainerNo?n.data.ContainerNo:"-",Count:n.data.CargoCount,Status:n.data.Status};u.id?(e.replaceItem(s,i.Id,i),t.initModel(n.data),t.current=n.data):(e.prepend(s,i),e.replace(o+"/"+i.Id,n.data),f.path("/longi-export/"+i.Id).replace())}})}};t.onNew=function(){u.id?f.path("/longi-export"):(t.current={Id:0,Status:"Pending",Containers:[]},t.addCont())};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);window.templ.LongiExportDetailsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 170px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><u-dataview name="spreadsheet" style="top: 100px; position: fixed"><\/u-dataview><u-nodata ng-show="list && list.length === 0"><\/u-nodata>';angular.module("ctrls").controller("LongiExportDetailsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Export";t.filter={};var u="/api/LongiExportDetails/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETD Origin - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){for(var e=moment().startOf("day"),i=null,f=0;f<n.length;f++)i=n[f],i&&(i.hasOwnProperty("Link")||(i.Link='<a href="#!/longi-export/'+i.Id+'"><svg class="u-spreadsheet-svg"  ><use xlink:href="#icon-external-link"><\/use><\/svg><\/a>'),!i.hasOwnProperty("DayUntilEtd")&&i.EtdOrigin&&(i.DayUntilEtd=moment(i.EtdOrigin,"D/M/YYYY").diff(i.ClosedDate?moment(i.ClosedDate,"D/M/YYYY"):e,"days")));t.list=n;r.replace(u,t.filter.value);t.$broadcast("OnDataSourceChange",{data:n,fileName:"long-export-details",onCellPrepared:function(n){n.rowType==="data"&&(n.column.dataField==="DayUntilEtd"?n.data.DayUntilEtd===0?n.cellElement.css("color","orange"):n.data.DayUntilEtd<0&&n.cellElement.css("color","red"):n.column.dataField==="Status"&&(n.data.Status==="Pending"?n.cellElement.css("color","orange"):n.data.Status==="New Order"||n.data.Status==="Urgent - New Order"?n.cellElement.css("color","red"):(n.data.Status==="In Progress"||n.data.Status==="Urgent - In Progress")&&n.cellElement.css("color","green")))},columns:[{dataField:"Link",caption:"",width:33,encodeHtml:!1},{dataField:"Status",caption:"Status",width:90},{dataField:"DayUntilEtd",caption:"Day Until ETD",width:50,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Completed",caption:"Complete",width:50,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Hbl",caption:"HBL/HAWB",width:150},{dataField:"Mbl",caption:"MBL/MAWB",width:150},{dataField:"SoNo",caption:"SO No",width:150},{dataField:"Insurance",caption:"Insurance",width:70},{dataField:"Forwarder",caption:"Forwarder",width:70},{dataField:"Lk",caption:"LK",width:50},{dataField:"Ls",caption:"LS",width:50},{dataField:"TermLocation",caption:"Term Location",width:150},{dataField:"PoSc",caption:"PO/SC",width:170},{dataField:"Plant",caption:"Plant",width:100},{dataField:"Recipient",caption:"Recipient",width:250},{dataField:"Destination",caption:"Destination",width:80},{dataField:"Description",caption:"Description",width:150},{dataField:"Quantity",caption:"Qty",width:70,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Uom",caption:"UoM",width:50},{dataField:"CargoCount",caption:"Cargo Count",width:50,dataType:"number",format:{type:"fixedPoint"}},{dataField:"CargoType",caption:"Cargo Type",width:90},{dataField:"Weight",caption:"Weight (kg)",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Volume",caption:"Volume (m3)",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"ContainerNo",caption:"Container No",width:200},{dataField:"Vessel1",caption:"1st Vessel/Flight",width:200},{dataField:"Vessel2",caption:"2nd Vessel/Flight",width:200},{dataField:"Vessel3",caption:"3rd Vessel/Flight",width:200},{dataField:"PickupDate",caption:"Pickup Date",width:100},{dataField:"CutOffDate",caption:"Cut Off Date",width:100},{dataField:"EtdOrigin",caption:"ETD Origin",width:100},{dataField:"AtdOrigin",caption:"ATD Origin",width:100},{dataField:"EtdTransit",caption:"ETD Transit",width:100},{dataField:"AtdTransit",caption:"ATD Transit",width:100},{dataField:"TransitPoint",caption:"Transit Point",width:100},{dataField:"EtaDest",caption:"ETA Dest.",width:100},{dataField:"AtaDest",caption:"ATA Dest.",width:100},{dataField:"DeliveryDate",caption:"Delivery Date",width:100},{dataField:"DeliveryLocation",caption:"Delivery Location",width:200},{dataField:"DeliveryRemark",caption:"Remark",width:200},{dataField:"CreatedOn",caption:"Created On",width:100}]})})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);window.templ.LongiExportPnlsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 170px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><u-dataview name="spreadsheet" style="top: 100px; position: fixed"><\/u-dataview><u-nodata ng-show="list && list.length === 0"><\/u-nodata>';angular.module("ctrls").controller("LongiExportPnlsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Export";t.filter={};var u="/api/LongiExportPnls/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETD Origin - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){for(var i=null,f=0;f<n.length;f++)if(i=n[f],i)if(i.hasOwnProperty("Link")||(i.Link='<a href="#!/longi-export/'+i.Id+'"><svg class="u-spreadsheet-svg"  ><use xlink:href="#icon-external-link"><\/use><\/svg><\/a>'),i.Id=i.Id+""+i.RowNo,i.RowNo>1)i.FwdInvoiceNo=null,i.FwdInvoiceTaxExcl=null,i.FwdInvoiceTax=null,i.FwdInvoiceTaxIncl=null,i.CostExclusive=null,i.CostTax=null,i.CostInclusive=null,i.Profit=i.HaulInvoiceTaxExcl;else{var e=i.FwdInvoiceTaxExcl||0,o=i.CostExclusive||0,s=i.HaulInvoiceTaxExcl||0;i.Profit=e+s-o}t.list=n;r.replace(u,t.filter.value);t.$broadcast("OnDataSourceChange",{data:n,fileName:"long-export-pnls",columns:[{dataField:"Link",caption:"",width:33,encodeHtml:!1},{dataField:"Hbl",caption:"HBL/HAWB",width:150},{dataField:"Mbl",caption:"MBL/MAWB",width:150},{dataField:"SoNo",caption:"SO No",width:150},{dataField:"EtdOrigin",caption:"ETD Origin",width:100},{dataField:"Description",caption:"Description",width:150},{dataField:"TotalWeight",caption:"Total Weight (kg)",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"TotalVolume",caption:"Total Volume (m3)",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"TotalQuantity",caption:"Total Qty",width:70,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Uom",caption:"UoM",width:50},{dataField:"CargoType",caption:"Cargo Type",width:90},{dataField:"ContainerNo",caption:"Container No",width:200},{dataField:"FwdInvoiceNo",caption:"Fwd. - Invoice No",width:90},{dataField:"FwdInvoiceTaxExcl",caption:"Fwd. Invoice GST Exclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"FwdInvoiceTax",caption:"Fwd. - Invoice GST",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"FwdInvoiceTaxIncl",caption:"Fwd. - Invoice GST Inclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"HaulInvoiceNo",caption:"Haul. - Invoice No",width:90},{dataField:"HaulInvoiceTaxExcl",caption:"Haul. - Invoice GST Exclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"HaulInvoiceTax",caption:"Haul. - Invoice GST",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"HaulInvoiceTaxIncl",caption:"Haul. - Invoice GST Inclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"CostExclusive",caption:"Cost - GST Exclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"CostTax",caption:"Cost - GST",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"CostInclusive",caption:"Cost - GST Inclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"Profit",caption:"Profit",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}}],summary:{totalItems:[{column:"FwdInvoiceTaxExcl",summaryType:"sum"},{column:"FwdInvoiceTaxIncl",summaryType:"sum"},{column:"HaulInvoiceTaxExcl",summaryType:"sum"},{column:"HaulInvoiceTaxIncl",summaryType:"sum"},{column:"CostExclusive",summaryType:"sum"},{column:"CostInclusive",summaryType:"sum"},{column:"Profit",summaryType:"sum"},{column:"Hbl",summaryType:"count"}]}})})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("LongiExportsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Export";t.filter={findText:""};var u="/api/LongiExports/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETD Origin - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.filter.options=["Pending","New Order","In Progress","Closed","Urgent - New Order","Urgent - In Progress"];t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){t.list=n;r.replace(u,t.filter.value)})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("LongiImportContainerCtrl",["$rootScope","$scope","$http","notify","$routeParams",function(n,t,i,r,u){n.pageTitle="Longi - Import";var f="/api/LongiImportContainer";t.filter={};t.filter.uploadType="LongiContainer";t.$watch("current.CargoType",function(n){n&&n.indexOf("AIR")!==-1?(t.filter.ConvoyNote="Airport DO",t.filter.ShippingSeal="Cargo Photo 1",t.filter.CustomsSeal="Customs Seal",t.filter.FullViewCont="Cargo Photo 2"):(t.filter.ConvoyNote="Convoy Note",t.filter.ShippingSeal="Shipping Seal",t.filter.CustomsSeal="Customs Seal",t.filter.FullViewCont="Full View Cont.")});t.findDo=function(){var n=window.open();i.post(f+"/"+u.id).then(function(t){window.uplus.isSuccess(t.status)?n.location.href=t.data:n.close()})};t.fetchData=function(){u.id&&i.get(f+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.current=n.data)})};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,t){r(t)});t.fetchData()}]);angular.module("ctrls").controller("LongiImportCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Longi - Import";var o="/api/LongiImport";t.filter={};t.filter.insurances=["NA","1","2","3","4","5","6","7","8","9","10","11","12"];t.filter.forwarders=["TNE_EC","TNE_RT","TNE_ER","TNE_TN","TNE_GE"];t.filter.terms=["LK","LS","EXW","FCA","FAS","FOB","CPT","CFR","CIF","CIP","DAT","DAP - HEXAGON","DAP - OTHERS","DDU","DDP"];t.filter.plants=["C1","C2","C3","DOCK1","DOCK2","DOCK3","DOCK4","DOCK5","MODULE1","MODULE2","MODULE3","MODULE3a"];t.filter.uoms=["EA","KM","PC","SET","NA"];t.filter.cargoTypes=["CTN_AIR","CTN_LCL","PLT_AIR","PLT_LCL","20GP","40GP","40HC","40OT","40FR","40RF"];t.filter.submitType="";t.filter.uploadType="LongiImport";t.onSubmitOrder=function(){t.submitForm(t.myForm,t.filter.submitType);t.filter.submitType=""};t.$watch("current.CargoType",function(n){n&&n.indexOf("AIR")!==-1?(t.filter.BillOfLading="BL - Transit 1",t.filter.BillOfLading2="BL  - Transit 2",t.filter.BillOfLading3="BL  - Domestic",t.filter.InvoiceClearance="Invoice - Clearance",t.filter.InvoiceConsignee="Invoice - Consignee",t.filter.PackingListClearance="Pack. List - Clearance",t.filter.PackingListConsignee="Pack. List - Consignee",t.filter.ShippingDo="Airway Bill",t.filter.LinerInvoice="",t.filter.K8Form="K8 Form",t.filter.NominationLetter="",t.filter.K8Draft="K8 - Draft"):(t.filter.BillOfLading="BL - Transit 1",t.filter.BillOfLading2="BL - Transit 2",t.filter.BillOfLading3="BL - Domestic",t.filter.InvoiceClearance="Invoice - Clearance",t.filter.InvoiceConsignee="Invoice - Consignee",t.filter.PackingListClearance="Pack. List - Clearance",t.filter.PackingListConsignee="Pack. List - Consignee",t.filter.ShippingDo="Shipping DO",t.filter.LinerInvoice="Liner Invoice",t.filter.K8Form="K8 Form",t.filter.NominationLetter="Nomination Letter",t.filter.K8Draft="K8 - Draft")});t.initModel=function(n){var t=null,i;if(n.TaxExclusiveTotal=0,n.GstTotal=0,n.TaxInclusiveTotal=0,n.Costs)for(i=0;i<n.Costs.length;i++)t=n.Costs[i],n.TaxExclusiveTotal+=t.TaxExclusive,n.GstTotal+=t.Gst,n.TaxInclusiveTotal+=t.TaxInclusive};t.removeCont=function(n){confirm("Are you sure you want to remove this container?")&&(n.Id=n.Id===0?n.Id=-9898989:n.Id*-1)};t.addCont=function(){t.current.Containers.push({Id:0,ContainerNo:null,CargoType:null,SendDate:null,ReturnDate:null})};t.approveK8Draft=function(){if(!u.id){r("Please save before continue.");return}confirm("Are you sure you want to approve the K8 draft?")&&(t.isDisabled=!0,i.post("/api/LongiImport/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,r("Saved"),t.current.K8DraftApproval=n.data)}))};t.fetchData=function(){u.id?e.getOnce(o+"/"+u.id).then(function(n){t.initModel(n);t.current=n}):(t.current={Id:0,Status:"Pending",Containers:[]},t.addCont())};t.submitForm=function(n,s){if(n.$valid&&(s!=="CreateInvoice"||confirm("Are you sure you want to create invoice?"))){t.isDisabled=!0;var h="/api/LongiImport";u.id&&(h=o+"/"+u.id);s||(s="None");h+="?saveType="+s;i.put(h,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var s="/api/LongiImports/"+window.uplus.getFilterIdByMonth(n.data.EtdOrigin),i={Id:n.data.Id,Caption:(n.data.Hbl?n.data.Hbl:"")+(n.data.Hbl&&n.data.Mbl?"/":"")+(n.data.Mbl?n.data.Mbl:""),ContainerNo:n.data.ContainerNo?n.data.ContainerNo:"-",Count:n.data.CargoCount,Status:n.data.Status};u.id?(e.replaceItem(s,i.Id,i),t.initModel(n.data),t.current=n.data):(e.prepend(s,i),e.replace(o+"/"+i.Id,n.data),f.path("/longi-import/"+i.Id).replace())}})}};t.onNew=function(){u.id?f.path("/longi-import"):(t.current={Id:0,Status:"Pending",Containers:[]},t.addCont())};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);window.templ.LongiImportDetailsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 170px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><u-dataview name="spreadsheet" style="top: 100px; position: fixed"><\/u-dataview><u-nodata ng-show="list && list.length === 0"><\/u-nodata>';angular.module("ctrls").controller("LongiImportDetailsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Import";t.filter={};var u="/api/LongiImportDetails/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETA Dest. - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){for(var e=moment().startOf("day"),i=null,f=0;f<n.length;f++)i=n[f],i&&(i.hasOwnProperty("Link")||(i.Link='<a href="#!/longi-import/'+i.Id+'"><svg class="u-spreadsheet-svg"  ><use xlink:href="#icon-external-link"><\/use><\/svg><\/a>'),!i.hasOwnProperty("DaySinceAta")&&i.AtaDest&&(i.DaySinceAta=(i.ClosedDate?moment(i.ClosedDate,"D/M/YYYY"):e).diff(moment(i.AtaDest,"D/M/YYYY"),"days")));t.list=n;r.replace(u,t.filter.value);t.$broadcast("OnDataSourceChange",{data:n,fileName:"long-import-details",onCellPrepared:function(n){n.rowType==="data"&&(n.column.dataField==="DaySinceAta"?n.data.DayUntilEtd===0?n.cellElement.css("color","orange"):n.data.DayUntilEtd<0&&n.cellElement.css("color","red"):n.column.dataField==="Status"&&(n.data.Status==="Pending"?n.cellElement.css("color","orange"):n.data.Status==="New Order"||n.data.Status==="Urgent - New Order"?n.cellElement.css("color","red"):(n.data.Status==="In Progress"||n.data.Status==="Urgent - In Progress")&&n.cellElement.css("color","green")))},columns:[{dataField:"Link",caption:"",width:33,encodeHtml:!1},{dataField:"Status",caption:"Status",width:90},{dataField:"DaySinceAta",caption:"Day Since ATA",width:50,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Completed",caption:"Complete",width:50,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Hbl",caption:"HBL/HAWB",width:150},{dataField:"Mbl",caption:"MBL/MAWB",width:150},{dataField:"Insurance",caption:"Insurance",width:70},{dataField:"Forwarder",caption:"Forwarder",width:70},{dataField:"Term",caption:"Term",width:50},{dataField:"TermLocation",caption:"Term Location",width:150},{dataField:"PoSc",caption:"PO/SC",width:170},{dataField:"Material",caption:"Material",width:100},{dataField:"Plant",caption:"Plant",width:100},{dataField:"Recipient",caption:"Recipient",width:250},{dataField:"Origin",caption:"Origin",width:80},{dataField:"Description",caption:"Description",width:150},{dataField:"Quantity",caption:"Qty",width:70,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Uom",caption:"UoM",width:50},{dataField:"CargoCount",caption:"Cargo Count",width:50,dataType:"number",format:{type:"fixedPoint"}},{dataField:"CargoType",caption:"Cargo Type",width:90},{dataField:"Weight",caption:"Weight (kg)",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"ContainerNo",caption:"Container No",width:200},{dataField:"Vessel1",caption:"1st Vessel/Flight",width:200},{dataField:"Vessel2",caption:"2nd Vessel/Flight",width:200},{dataField:"Vessel3",caption:"3nd Vessel/Flight",width:200},{dataField:"PickupDate",caption:"Pickup Date",width:100},{dataField:"EtdOrigin",caption:"ETD Origin",width:100},{dataField:"AtdOrigin",caption:"ATD Origin",width:100},{dataField:"EtdTransit",caption:"ETD Transit",width:100},{dataField:"AtdTransit",caption:"ATD Transit",width:100},{dataField:"TransitPoint",caption:"Transit Point",width:100},{dataField:"EtaDest",caption:"ETA Dest.",width:100},{dataField:"AtaDest",caption:"ATA Dest.",width:100},{dataField:"DeliveryDate",caption:"Delivery Date",width:100},{dataField:"DeliveryLocation",caption:"Delivery Location",width:200},{dataField:"DeliveryRemark",caption:"Remark",width:200},{dataField:"Volume",caption:"Volume (m3)",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"PreClearance",caption:"Pre-Clearance",width:90},{dataField:"K8Number",caption:"K8 Number",width:150},{dataField:"OblCourierNo",caption:"OBL Courier No",width:150},{dataField:"CreatedOn",caption:"Created On",width:100}]})})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);window.templ.LongiImportPnlsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 170px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><u-dataview name="spreadsheet" style="top: 100px; position: fixed"><\/u-dataview><u-nodata ng-show="list && list.length === 0"><\/u-nodata>';angular.module("ctrls").controller("LongiImportPnlsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Import";t.filter={};var u="/api/LongiImportPnls/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETA Dest. - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){for(var i=null,f=0;f<n.length;f++)if(i=n[f],i)if(i.hasOwnProperty("Link")||(i.Link='<a href="#!/longi-import/'+i.Id+'"><svg class="u-spreadsheet-svg"  ><use xlink:href="#icon-external-link"><\/use><\/svg><\/a>'),i.Id=i.Id+""+i.RowNo,i.RowNo>1)i.FwdInvoiceNo=null,i.FwdInvoiceTaxExcl=null,i.FwdInvoiceTax=null,i.FwdInvoiceTaxIncl=null,i.CostExclusive=null,i.CostTax=null,i.CostInclusive=null,i.Profit=i.HaulInvoiceTaxExcl;else{var e=i.FwdInvoiceTaxExcl||0,o=i.CostExclusive||0,s=i.HaulInvoiceTaxExcl||0;i.Profit=e+s-o}t.list=n;r.replace(u,t.filter.value);t.$broadcast("OnDataSourceChange",{data:n,fileName:"long-import-pnls",columns:[{dataField:"Link",caption:"",width:33,encodeHtml:!1},{dataField:"Hbl",caption:"HBL/HAWB",width:150},{dataField:"Mbl",caption:"MBL/MAWB",width:150},{dataField:"EtaDest",caption:"ETA Dest.",width:100},{dataField:"Description",caption:"Description",width:150},{dataField:"TotalVolume",caption:"Total Volume (m3)",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"TotalWeight",caption:"Total Weight (kg)",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"TotalQuantity",caption:"Total Qty",width:70,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Uom",caption:"UoM",width:50},{dataField:"CargoType",caption:"Cargo Type",width:90},{dataField:"ContainerNo",caption:"Container No",width:200},{dataField:"FwdInvoiceNo",caption:"Fwd. - Invoice No",width:90},{dataField:"FwdInvoiceTaxExcl",caption:"Fwd. Invoice GST Exclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"FwdInvoiceTax",caption:"Fwd. - Invoice GST",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"FwdInvoiceTaxIncl",caption:"Fwd. - Invoice GST Inclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"HaulInvoiceNo",caption:"Haul. - Invoice No",width:90},{dataField:"HaulInvoiceTaxExcl",caption:"Haul. - Invoice GST Exclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"HaulInvoiceTax",caption:"Haul. - Invoice GST",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"HaulInvoiceTaxIncl",caption:"Haul. - Invoice GST Inclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"CostExclusive",caption:"Cost - GST Exclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"CostTax",caption:"Cost - GST",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"CostInclusive",caption:"Cost - GST Inclusive",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"Profit",caption:"Profit",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}}],summary:{totalItems:[{column:"FwdInvoiceTaxExcl",summaryType:"sum"},{column:"FwdInvoiceTaxIncl",summaryType:"sum"},{column:"HaulInvoiceTaxExcl",summaryType:"sum"},{column:"HaulInvoiceTaxIncl",summaryType:"sum"},{column:"CostExclusive",summaryType:"sum"},{column:"CostInclusive",summaryType:"sum"},{column:"Profit",summaryType:"sum"},{column:"Hbl",summaryType:"count"}]}})})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("LongiImportsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Longi - Import";t.filter={findText:""};var u="/api/LongiImports/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETA Dest. - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.filter.options=["Pending","New Order","In Progress","Closed","Urgent - New Order","Urgent - In Progress"];t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){t.list=n;r.replace(u,t.filter.value)})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("MdlzLoadingCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="MDLZ - Loading";var o="/api/MdlzPreCarriage";t.filter={};t.filter.uploadType="MdlzPreCarriage";t.filter.Empty="Empty Cont.";t.filter.Loading50="50% Loaded";t.filter.Loading100="100% Loaded";t.filter.Closed="Closed Cont.";t.filter.Seal="Cont. Seal";t.fetchData=function(){u.id&&e.getOnce(o+"/"+u.id).then(function(n){t.current=n})};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("MdlzLoadingsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="MDLZ - Loading";t.filter={findText:""};var u="/api/MdlzPreCarriages/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETD - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.filter.options=[];t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){t.list=n;r.replace(u,t.filter.value)})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("MdlzPreCarriageCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="MDLZ - Indent";var o="/api/MdlzPreCarriage";t.filter={};t.filter.PolWarehouse=["LF PKG","LF PKG-RF","LF PRAI","SL NG","TAI SUN"];t.filter.Pol=["JB","PEN","PKG"];t.filter.Pod=["BKI","BTU","KCH","KGU (BKI)","LBU","LHD (TWU)","MUA","MYY","SBW","SDK","TWU"];t.filter.ContainerType=["20GP","40GP","40HC","20RF","40RF","20RH","40RH"];t.filter.Shipper=["MONDELEZ","CADBURY"];t.filter.Consignee=["MOH HENG - BTU","MOH HENG - BKI","MOH HENG - KCH","MOH HENG - LHD","MOH HENG - MYY","MOH HENG - SBW","MOH HENG - KGU","MOH HENG - SDK","MOH HENG - TWU","MOH HENG","SKY TRADING","MALAR SETIA"];t.filter.uploadType="MdlzPreCarriage";t.filter.Insurance="Insurance";t.filter.Empty="Empty Cont.";t.filter.Loading50="50% Loaded";t.filter.Loading100="100% Loaded";t.filter.Closed="Closed Cont.";t.filter.Seal="Cont. Seal";t.filter.K3Chit="K3 Chit";t.filter.BillOfLading="Bill Of Lading";t.filter.Invoice="Invoice";t.filter.PackingList="Packing List";t.filter.CourierReceipt="Courier Receipt";t.fetchData=function(){u.id?e.getOnce(o+"/"+u.id).then(function(n){t.current=n}):t.current={Id:0}};t.submitForm=function(n,s){if(n.$valid&&(s!=="CreateInvoice"||confirm("Are you sure you want to create invoice?"))){t.isDisabled=!0;var h="/api/MdlzPreCarriage";u.id&&(h=o+"/"+u.id);s||(s="None");h+="?saveType="+s;i.put(h,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var s="/api/MdlzPreCarriages/"+window.uplus.getFilterIdByMonth(n.data.Etd),i={Id:n.data.Id,Week:n.data.Week,ContainerNo:n.data.ContainerNo,IndentNo:n.data.IndentNo,ContainerType:n.data.ContainerType};u.id?(e.replaceItem(s,i.Id,i),t.current=n.data):(e.prepend(s,i),e.replace(o+"/"+i.Id,n.data),f.path("/mdlz-precarriage/"+i.Id).replace())}})}};t.onNew=function(){u.id?f.path("/mdlz-precarriage"):t.current={Id:0}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);window.templ.MdlzPreCarriageDetailsCtrl='<u-menu caption="{{pageTitle}}"><select style="max-width: 140px" class="menu-select" ng-change="fetchData()" ng-model="filter.value" ng-options=" item.id as item.name for item in filter.list"><\/select><\/u-menu><u-refresh><\/u-refresh><u-dataview name="spreadsheet" style="top: 100px; position: fixed"><\/u-dataview><u-nodata ng-show="list && list.length === 0"><\/u-nodata>';angular.module("ctrls").controller("MdlzPreCarriageDetailsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="MDLZ - Indent";t.filter={};var u="/api/MdlzPreCarriageDetails/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETD - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){for(var i=null,f=0;f<n.length;f++)i=n[f],i&&(i.hasOwnProperty("Link")||(i.Link='<a href="#!/mdlz-precarriage/'+i.Id+'"><svg class="u-spreadsheet-svg"  ><use xlink:href="#icon-external-link"><\/use><\/svg><\/a>'));t.list=n;r.replace(u,t.filter.value);t.$broadcast("OnDataSourceChange",{data:n,fileName:"mdlz-precarriage-details",columns:[{dataField:"Link",caption:"",width:33,encodeHtml:!1},{dataField:"Week",caption:"Week",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"PolWarehouse",caption:"POL - Warehouse",width:100},{dataField:"Pol",caption:"POL",width:100},{dataField:"Pod",caption:"POD",width:100},{dataField:"20GP",caption:"20GP",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"40GP",caption:"40GP",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"40HC",caption:"40HC",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"20RH",caption:"20RH",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"40RH",caption:"40RH",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"20RF",caption:"20RF",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"40RF",caption:"40RF",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"CarrierBookingNo",caption:"Carrier Booking No",width:100},{dataField:"ContainerNo",caption:"Container No",width:100},{dataField:"SealNo",caption:"Seal No",width:100},{dataField:"OperatorCode",caption:"Operator Code",width:90},{dataField:"Vessel",caption:"Vessel",width:100},{dataField:"Voyage",caption:"Voyage",width:100},{dataField:"Etd",caption:"ETD",width:100},{dataField:"Eta",caption:"ETA",width:100},{dataField:"SendEmptyOn",caption:"Send Empty On",width:100},{dataField:"LoadingTime",caption:"Loading Time",width:140},{dataField:"ClosingTime",caption:"Closing Time",width:140},{dataField:"IndentNo",caption:"Indent No",width:100},{dataField:"IndentNo2",caption:"Indent No 2",width:100},{dataField:"SalesOrderNo",caption:"Sales Order No",width:100},{dataField:"DoNo",caption:"DO No",width:100},{dataField:"Shipper",caption:"Shipper",width:200},{dataField:"Consignee",caption:"Consignee",width:200},{dataField:"Commodity",caption:"Commodity",width:200},{dataField:"Carton",caption:"Carton",width:90,dataType:"number",format:{type:"fixedPoint"}},{dataField:"Volume",caption:"Volume (m3)",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"SapInvoiceNo",caption:"SAP Invoice No",width:100},{dataField:"SapInvoiceDate",caption:"SAP Invoice Date",width:100},{dataField:"SapInvoiceAmount",caption:"SAP Invoice Amount",width:90,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"Remark",caption:"Remark",width:200}],summary:{totalItems:[{column:"20RH",summaryType:"sum"},{column:"40RH",summaryType:"sum"},{column:"20GP",summaryType:"sum"},{column:"40GP",summaryType:"sum"},{column:"40HC",summaryType:"sum"},{column:"20RF",summaryType:"sum"},{column:"40RF",summaryType:"sum"}]}})})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("MdlzPreCarriagesCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="MDLZ - Indent";t.filter={findText:""};var u="/api/MdlzPreCarriages/";t.init=function(){t.filter.list=window.uplus.getMonths(13,"ETD - ");t.filter.value=r.find(u)?r.find(u):t.filter.list[1].id;t.filter.options=[];t.fetchData()};t.fetchData=function(){r.get(u+t.filter.value).then(function(n){t.list=n;r.replace(u,t.filter.value)})};t.$on("OnRefreshData",function(){r.remove(u+t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);angular.module("ctrls").controller("AeonCtrl",["$rootScope","$scope","$routeParams","$timeout","$location","notify",function(n,t,i,r,u,f){function o(n){f(n);t.$apply()}var e,s;n.pageTitle="Aeon";t.mykad="";t.tab=1;e=i.id;t.changeTab=function(n){t.tab=n;window.scrollTo(0,0)};t.current=e?JSON.parse(window.localStorage.getItem("aeon-"+e)):{AgreementFee:50,ApplicationDate:new Date};t.submitForm=function(n){if(n.$valid){if(t.isDisabled=!0,!e){var i=0;window.localStorage.getItem("aeon-count")&&(i=Number(window.localStorage.getItem("aeon-count")));e=i+1;window.localStorage.setItem("aeon-count",e)}window.localStorage.setItem("aeon-"+e,angular.toJson(t.current));r(function(){t.isDisabled=!1},1e3)}};t.delete=function(){confirm("Are you sure you want to delete?")&&(t.isDisabled=!0,t.current.IsDeleted=!0,e&&window.localStorage.setItem("aeon-"+e,angular.toJson(t.current)),r(function(){t.isDisabled=!1;u.path("/aeons").replace()},1e3))};t.onEnterMykad=function(){if(t.mykad){var n=JSON.parse(t.mykad);t.current.Address=n.Address;t.current.Name=n.FullName;t.current.Code=n.NRICNumber}};s=function(n){return Math.round((n+1e-5)*100)/100};t.onCalc=function(){var n=0,e,u,f;t.current.Price1&&(n=t.current.Price1);t.current.Price2&&(n+=t.current.Price2);t.current.Price3&&(n+=t.current.Price3);t.current.Price4&&(n+=t.current.Price4);t.current.TotalCashPrice=n;e=t.current.AgreementFee?t.current.AgreementFee:0;u=t.current.Downpayment?t.current.Downpayment:0;t.current.FinanceAmount=n-u;var o=t.current.InterestRate?t.current.InterestRate:0,r=t.current.LoanPeriod?t.current.LoanPeriod:0,i=0;r>0&&(i=(o/100*t.current.FinanceAmount*r+t.current.FinanceAmount)/r);t.current.MonthlyAmount=i-parseInt(i,10)>.44?parseInt(i,10)+1:parseInt(i,10);f=t.current.InitialPayment?t.current.InitialPayment:0;t.current.BalanceSum=t.current.MonthlyAmount*r-f};t.removePhoto=function(n){t.current[n]=null};t.pickPhoto=function(n){navigator.camera.getPicture(function(i){t.current[n]="data:image/jpg;base64,"+i;t.$apply()},o,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3})};t.takePhoto=function(n){navigator.camera.getPicture(function(i){t.current[n]="data:image/jpg;base64,"+i;t.$apply()},o,{quality:80,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!1,encodingType:Camera.EncodingType.JPEG,targetWidth:1e3,targetHeight:1e3})};t.$on("OnAjaxError",function(n,t){f(t.msg)});t.print=function(){confirm("Are you sure you want to print?")&&typeof bluetoothSerial!="undefined"&&bluetoothSerial.isEnabled(function(){bluetoothSerial.isConnected(function(){t.onPrint()},function(){bluetoothSerial.list(function(n){n.length===0?(f("No Bluetooth Devices. Please pair a Bluetooth Device."),t.$apply()):bluetoothSerial.connect(n[0].id,function(){t.onPrint()},function(n){f("ERROR: "+n);t.$apply()})},function(n){f("ERROR: "+n);t.$apply()})})},function(){f("Bluetooth is not enabled");t.$apply()})};t.onPrint=function(){window.uplus.print.setTitleFont();window.uplus.print.alignCenter();window.uplus.print.printString("Medalink Sdn Bhd");window.uplus.print.lineFeed();window.uplus.print.bold();window.uplus.print.printString("www.easykira.com");window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.setFontA();window.uplus.print.alignLeft();window.uplus.print.printString("Date  : "+moment(t.current.ApplicationDate).format("d-M-YYYY"));window.uplus.print.lineFeed();window.uplus.print.printString("ID    : "+t.current.Code);window.uplus.print.lineFeed();window.uplus.print.printString("Name  : "+t.current.Name);window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.printString("Brand : "+t.current.Brand1);window.uplus.print.lineFeed();window.uplus.print.printString("Model : "+t.current.Model1);window.uplus.print.lineFeed();window.uplus.print.printString("Price : RM "+t.current.Price1.toFixed(2));window.uplus.print.lineFeed();t.current.Model2&&(window.uplus.print.printString("Brand : "+t.current.Brand2),window.uplus.print.lineFeed(),window.uplus.print.printString("Model : "+t.current.Model2),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price2.toFixed(2)),window.uplus.print.lineFeed());t.current.Model3&&(window.uplus.print.printString("Brand : "+t.current.Brand3),window.uplus.print.lineFeed(),window.uplus.print.printString("Model : "+t.current.Model3),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price3.toFixed(2)),window.uplus.print.lineFeed());t.current.Model4&&(window.uplus.print.printString("Brand : "+t.current.Brand4),window.uplus.print.lineFeed(),window.uplus.print.printString("Model : "+t.current.Model4),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price4.toFixed(2)),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.printString("Total Cash Price : RM "+t.current.TotalCashPrice.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Agreement Fee    : RM "+t.current.AgreementFee.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Interest Rate    : "+t.current.InterestRate.toFixed(2)+"%");window.uplus.print.lineFeed();window.uplus.print.printString("Downpayment      : RM "+t.current.Downpayment.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Finance Amount   : RM "+t.current.FinanceAmount.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Initial Payment  : RM "+t.current.InitialPayment.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Balance Sum      : RM "+t.current.BalanceSum.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Loan Period      : "+t.current.LoanPeriod);window.uplus.print.lineFeed();window.uplus.print.printString("Monthly Amount   : RM "+t.current.MonthlyAmount.toFixed(2));window.uplus.print.lineFeed();t.current.UserCode&&(window.uplus.print.lineFeed(),window.uplus.print.lineFeed(),window.uplus.print.printString("Your are served by "+t.current.UserCode),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed()}}]);angular.module("ctrls").controller("AeonsCtrl",["$rootScope","$scope","$location","notify",function(n,t,r,u){n.pageTitle="Aeon";t.list=[];var f,o=[],e=0;if(window.localStorage.getItem("aeon-count")&&(e=Number(window.localStorage.getItem("aeon-count"))),e>0)for(i=1;i<=e;i++)f=JSON.parse(window.localStorage.getItem("aeon-"+i)),f.IsDeleted||o.push({Id:i,Name:f.Name,Item:f.Model1});t.list=o;t.$on("OnAjaxError",function(n,t){u(t)})}]);angular.module("ctrls").controller("ContactLogCtrl",["$rootScope","$scope","$routeParams","$http","cacheSvc","notify",function(n,t,i,r,u,f){n.pageTitle="Contact Log";t.fetchData=function(){t.isDisabled=!0;r.get("/api/ContactLog/"+i.id).then(function(n){window.uplus.isSuccess(n.status)&&(n.data.Answers=JSON.parse(n.data.JsonText),t.current=n.data,t.isDisabled=!1)})};t.assignMe=function(){t.isDisabled=!0;r.post("/api/ContactLog/"+i.id).then(function(n){window.uplus.isSuccess(n.status)&&(n.data.Answers=JSON.parse(n.data.JsonText),t.current=n.data,t.isDisabled=!1,u.remove("/api/ContactLogs"))})};t.fetchData();t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;f(i)})}]);angular.module("ctrls").controller("ContactLogsCtrl",["$rootScope","$scope","cacheSvc","notify",function(n,t,i,r){n.pageTitle="Contact Log";t.fetchData=function(){t.isDisabled=!0;i.get("/api/ContactLogs").then(function(n){t.list=n;t.isDisabled=!1})};t.refreshData=function(){i.remove("/api/ContactLogs");t.fetchData()};t.$on("OnRefreshData",function(){i.remove("/api/ContactLogs");t.fetchData()});t.fetchData();t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)})}]);angular.module("ctrls").controller("PernamaCalculatorCtrl",["$rootScope","$scope","$location","notify",function(n,t,r,u){var o=1,h=8,s=60,e,f;t.isPriceMode=!0;t.info={Data:[]};t.groups=[];t.promos=[];t.suggestions=null;t.loadData=function(){var u=window.localStorage.getItem("pernama"),i,r,n;u&&(t.info.Data=JSON.parse(u));i=window.localStorage.getItem("pernama-groups");i&&(n=JSON.parse(i),t.groups=n,n.length>0&&(t.current.Item=n[0],t.info.LoanChargeRate=t.current.Item.LoanChargeRate,t.info.GstRate=t.current.Item.GstRate));r=window.localStorage.getItem("pernama-promos");r&&(n=JSON.parse(r),t.promos=n)};n.pageTitle="Pernama Basic";e=moment();t.setPriceMode=function(n){t.isPriceMode=n};f=function(n){return Math.round((n+1e-5)*100)/100};t.reset=function(){t.current={TtpMonth:"01",TtpYear:parseInt(moment().format("YYYY")),RetailPrice:0,LoanPeriod:6}};t.onCalculate=function(){t.isPriceMode?t.onCalculateFromPrice():t.onCalculateFromMonthly()};t.onCalculateFromPrice=function(){var r=t.current.TtpYear*12+parseInt(t.current.TtpMonth),u=e.year()*12+e.month()+1,c=e.date()>15?1:0,n;for(t.current.WorkingMonth=r-u-c,t.current.MaxLoanPeriod=t.current.WorkingMonth-h,t.current.MaxLoanPeriod>s&&(t.current.MaxLoanPeriod=s),t.current.LoanPeriod>t.current.MaxLoanPeriod&&(t.current.LoanPeriod=t.current.MaxLoanPeriod),t.current.LoanPeriod<o&&(t.current.LoanPeriod=o),t.current.LoanChargeRate=t.current.Item.LoanChargeRate,t.current.LoanCharge=f(t.current.RetailPrice*(100-t.current.LoanChargeRate)/100),t.current.SalePrice=t.current.RetailPrice-t.current.LoanCharge,n=null,i=0;i<t.info.Data.length;i++)if(t.info.Data[i].LoanPeriod==t.current.LoanPeriod){n=t.info.Data[i];break}t.current.InsuranceRate=n?n.Insurance:0;t.current.Insurance=f(t.current.RetailPrice*t.current.InsuranceRate/100);t.current.TotalPrice=t.current.RetailPrice+t.current.Insurance;t.current.GstRate=t.current.Item.GstRate;t.current.Gst=f(t.current.TotalPrice*t.current.GstRate/100);t.current.FinanceAmount=t.current.Gst+t.current.TotalPrice;t.current.InterestRate=n?n.Interest:0;t.current.Interest=f(t.current.FinanceAmount*t.current.InterestRate/100);t.current.LoanAmount=t.current.Interest+t.current.FinanceAmount;t.current.MonthlyAmount=f(t.current.LoanAmount/t.current.LoanPeriod);t.onCalcPromos()};t.onCalculateFromMonthly=function(){var r=t.current.TtpYear*12+parseInt(t.current.TtpMonth),u=e.year()*12+e.month()+1,c=e.date()>15?1:0,n;for(t.current.WorkingMonth=r-u-c,t.current.MaxLoanPeriod=t.current.WorkingMonth-h,t.current.MaxLoanPeriod>s&&(t.current.MaxLoanPeriod=s),t.current.LoanPeriod>t.current.MaxLoanPeriod&&(t.current.LoanPeriod=t.current.MaxLoanPeriod),t.current.LoanPeriod<o&&(t.current.LoanPeriod=o),t.current.LoanAmount=f(t.current.MonthlyAmount*t.current.LoanPeriod),n=null,i=0;i<t.info.Data.length;i++)if(t.info.Data[i].LoanPeriod==t.current.LoanPeriod){n=t.info.Data[i];break}t.current.InterestRate=n?n.Interest:0;t.current.FinanceAmount=f(t.current.LoanAmount/(t.current.InterestRate/100+1));t.current.Interest=t.current.LoanAmount-t.current.FinanceAmount;t.current.GstRate=t.current.Item.GstRate;t.current.Gst=f(t.current.FinanceAmount*t.current.GstRate/(100+t.current.GstRate));t.current.TotalPrice=t.current.FinanceAmount-t.current.Gst;t.current.InsuranceRate=n?n.Insurance:0;t.current.RetailPrice=f(t.current.TotalPrice/(t.current.InsuranceRate/100+1));t.current.Insurance=t.current.TotalPrice-t.current.RetailPrice;t.current.LoanChargeRate=t.current.Item.LoanChargeRate;t.current.LoanCharge=f(t.current.RetailPrice*t.current.LoanChargeRate/100);t.current.SalePrice=t.current.RetailPrice-t.current.LoanCharge;t.onCalcPromos()};t.reset();t.loadData();t.onCalcPromos=function(){var n,i,r;if(t.promos){for(n=null,i=[],r=0;r<t.promos.length;r++)n=t.promos[r],n.MonthlyAmount=f(n.LoanAmount/t.current.LoanPeriod),n.MonthlyAmount<=t.current.MonthlyAmount&&i.push(n);i.sort(function(n,t){return n.MonthlyAmount-t.MonthlyAmount});i.reverse();t.suggestions=i}};t.applyLoan=function(){var n,i;confirm("Are you sure?")&&(n=0,window.localStorage.getItem("pernama-count")&&(n=Number(window.localStorage.getItem("pernama-count"))),i={Sku1:t.current.Item.Name,Item1:t.current.Item.Name,Price1:f(t.current.TotalPrice),Gst1:f(t.current.Gst),TotalPrice1:f(t.current.FinanceAmount),TotalCashPrice:f(t.current.FinanceAmount),Rebate:f(t.current.Interest),FirstPayment:0,FinanceAmount:f(t.current.LoanAmount),LoanPeriod:t.current.LoanPeriod,MonthlyAmount:f(t.current.MonthlyAmount),ApplicationDate:new Date},window.localStorage.setItem("pernama-"+(n+1),JSON.stringify(i)),window.localStorage.setItem("pernama-count",n+1),r.path("/pernama/"+(n+1)))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;u(i)})}]);angular.module("ctrls").controller("PernamaCalculatorPromoCtrl",["$rootScope","$scope","$location","notify",function(n,t,i,r){var e=1,s=8,o=60,f,u;t.groups=[];t.loadData=function(){var i=window.localStorage.getItem("pernama-promos"),n;i&&(n=JSON.parse(i),t.groups=n,n.length>0&&(t.current.Item=null))};n.pageTitle="Pernama Promo";f=moment();u=function(n){return Math.round((n+1e-5)*100)/100};t.reset=function(){t.current={TtpMonth:"01",TtpYear:parseInt(moment().format("YYYY")),Item:null,LoanPeriod:6,Quantity:"1"}};t.onCalculate=function(){t.onCalculateFromPrice()};t.onCalculateFromPrice=function(){var i=t.current.TtpYear*12+parseInt(t.current.TtpMonth),r=f.year()*12+f.month()+1,h=f.date()>15?1:0,n;(t.current.WorkingMonth=i-r-h,t.current.MaxLoanPeriod=t.current.WorkingMonth-s,t.current.MaxLoanPeriod>o&&(t.current.MaxLoanPeriod=o),t.current.LoanPeriod>t.current.MaxLoanPeriod&&(t.current.LoanPeriod=t.current.MaxLoanPeriod),t.current.LoanPeriod<e&&(t.current.LoanPeriod=e),t.current.Item)&&(n=Number(t.current.Quantity),t.current.CashPrice=t.current.Item.CashPrice*n,t.current.RetailPriceNoGst=t.current.Item.RetailPriceNoGst*n,t.current.Gst=t.current.Item.Gst*n,t.current.Rebate=t.current.Item.Rebate*n,t.current.LoanAmount=t.current.Item.LoanAmount*n,t.current.Remark=t.current.Item.Remark,t.current.Sku=t.current.Item.Sku,t.current.MonthlyAmount=u(t.current.LoanAmount/t.current.LoanPeriod))};t.reset();t.loadData();t.applyLoan=function(){var f,n,r;confirm("Are you sure?")&&(f=0,window.localStorage.getItem("pernama-count")&&(f=Number(window.localStorage.getItem("pernama-count"))),n=Number(t.current.Quantity),r={Sku1:t.current.Sku,Item1:t.current.Item.Name,Price1:u(t.current.RetailPriceNoGst/n),Gst1:u(t.current.Gst/n),TotalPrice1:u((t.current.RetailPriceNoGst+t.current.Gst)/n),TotalCashPrice:u(t.current.RetailPriceNoGst+t.current.Gst),Rebate:u(t.current.Rebate),FirstPayment:0,FinanceAmount:u(t.current.LoanAmount),LoanPeriod:t.current.LoanPeriod,MonthlyAmount:u(t.current.MonthlyAmount),ApplicationDate:new Date},n>1&&(r.Sku2=t.current.Sku,r.Item2=t.current.Item.Name,r.Price2=u(t.current.RetailPriceNoGst/n),r.Gst2=u(t.current.Gst/n),r.TotalPrice2=u((t.current.RetailPriceNoGst+t.current.Gst)/n)),window.localStorage.setItem("pernama-"+(f+1),JSON.stringify(r)),window.localStorage.setItem("pernama-count",f+1),i.path("/pernama/"+(f+1)))};t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)})}]);angular.module("ctrls").controller("PernamaCtrl",["$rootScope","$scope","$routeParams","$timeout","$location","notify",function(n,t,i,r,u,f){n.pageTitle="Pernama";t.tab=1;t.changeTab=function(n){t.tab=n;window.scrollTo(0,0)};t.current=JSON.parse(window.localStorage.getItem("pernama-"+i.id));t.submitForm=function(n){n.$valid&&(t.isDisabled=!0,window.localStorage.setItem("pernama-"+i.id,angular.toJson(t.current)),r(function(){t.isDisabled=!1},1e3))};t.$on("OnAjaxError",function(n,t){f(t)});t.delete=function(){confirm("Are you sure you want to delete?")&&(t.isDisabled=!0,t.current.IsDeleted=!0,window.localStorage.setItem("pernama-"+i.id,angular.toJson(t.current)),r(function(){t.isDisabled=!1;u.path("/pernamas").replace()},1e3))};t.print=function(){confirm("Are you sure you want to print?")&&typeof bluetoothSerial!="undefined"&&bluetoothSerial.isEnabled(function(){bluetoothSerial.isConnected(function(){t.onPrint()},function(){bluetoothSerial.list(function(n){n.length===0?(f("No Bluetooth Devices. Please pair a Bluetooth Device."),t.$apply()):bluetoothSerial.connect(n[0].id,function(){t.onPrint()},function(n){f("ERROR: "+n);t.$apply()})},function(n){f("ERROR: "+n);t.$apply()})})},function(){f("Bluetooth is not enabled");t.$apply()})};t.onPrint=function(){window.uplus.print.setTitleFont();window.uplus.print.alignCenter();window.uplus.print.printString("Medalink Sdn Bhd");window.uplus.print.lineFeed();window.uplus.print.bold();window.uplus.print.printString("www.easykira.com");window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.setFontA();window.uplus.print.alignLeft();window.uplus.print.printString("Date  : "+moment(t.current.ApplicationDate).format("d-M-YYYY"));window.uplus.print.lineFeed();window.uplus.print.printString("ID    : "+t.current.Code);window.uplus.print.lineFeed();window.uplus.print.printString("Name  : "+t.current.Name);window.uplus.print.lineFeed();t.current.Remark&&(window.uplus.print.printString("Remark: "+t.current.Remark),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.printString("SKU   : "+t.current.Sku1);window.uplus.print.lineFeed();window.uplus.print.printString("Item  : "+t.current.Item1);window.uplus.print.lineFeed();window.uplus.print.printString("Price : RM "+t.current.Price1.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("GST   : RM "+t.current.Gst1.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Total : RM "+t.current.TotalPrice1.toFixed(2));window.uplus.print.lineFeed();t.current.Item2&&(window.uplus.print.printString("SKU   : "+t.current.Sku2),window.uplus.print.lineFeed(),window.uplus.print.printString("Item  : "+t.current.Item2),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price2.toFixed(2)),window.uplus.print.lineFeed(),window.uplus.print.printString("GST   : RM "+t.current.Gst2.toFixed(2)),window.uplus.print.lineFeed(),window.uplus.print.printString("Total : RM "+t.current.TotalPrice2.toFixed(2)),window.uplus.print.lineFeed());t.current.Item3&&(window.uplus.print.printString("SKU   : "+t.current.Sku3),window.uplus.print.lineFeed(),window.uplus.print.printString("Item  : "+t.current.Item3),window.uplus.print.lineFeed(),window.uplus.print.printString("Price : RM "+t.current.Price3.toFixed(2)),window.uplus.print.lineFeed(),window.uplus.print.printString("GST   : RM "+t.current.Gst3.toFixed(2)),window.uplus.print.lineFeed(),window.uplus.print.printString("Total : RM "+t.current.TotalPrice3.toFixed(2)),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.printString("Total Cash Price : RM "+t.current.TotalCashPrice.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Rebeh            : RM "+t.current.Rebate.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Initial Payment  : RM "+t.current.FirstPayment.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Balance Sum      : RM "+t.current.FinanceAmount.toFixed(2));window.uplus.print.lineFeed();window.uplus.print.printString("Loan Period      : "+t.current.LoanPeriod);window.uplus.print.lineFeed();window.uplus.print.printString("Monthly Amount   : RM "+t.current.MonthlyAmount.toFixed(2));window.uplus.print.lineFeed();t.current.AgreementNo&&(window.uplus.print.printString("Agreement No     : "+t.current.AgreementNo),window.uplus.print.lineFeed());t.current.UserCode&&(window.uplus.print.lineFeed(),window.uplus.print.lineFeed(),window.uplus.print.printString("Your are served by "+t.current.UserCode),window.uplus.print.lineFeed());window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed();window.uplus.print.lineFeed()}}]);angular.module("ctrls").controller("PernamasCtrl",["$rootScope","$scope","notify",function(n,t,r){n.pageTitle="Pernama";t.list=[];var u,e=[],f=0;if(window.localStorage.getItem("pernama-count")&&(f=Number(window.localStorage.getItem("pernama-count"))),f>0)for(i=1;i<=f;i++)u=JSON.parse(window.localStorage.getItem("pernama-"+i)),u.IsDeleted||e.push({Id:i,Name:u.Name,Item:u.Item1});t.list=e;t.$on("OnAjaxError",function(n,t){r(t)})}]);angular.module("ctrls").controller("SyncCtrl",["$rootScope","$scope","$http","notify",function(t,i,r,u){t.pageTitle="Sync";i.current={};i.current.lastSync="-";i.current.totalPernama=0;i.current.totalAeon=0;window.localStorage.getItem("pernama-sync")&&(i.current.lastSync=new Date(window.localStorage.getItem("pernama-sync")));window.localStorage.getItem("pernama-count")&&(i.current.totalPernama=Number(window.localStorage.getItem("pernama-count")));window.localStorage.getItem("aeon-count")&&(i.current.totalAeon=Number(window.localStorage.getItem("aeon-count")));i.sync=function(){i.isDisabled=!0;i.onSync1()};i.onSync1=function(){var t=[];r.get("/api/Pernama").then(function(r){if(window.uplus.isSuccess(r.status)){for(n=0;n<r.data.length;n++)t.push(JSON.parse(r.data[n]));i.onSync2(t)}})};i.onSync2=function(t){var u=[];r.get("/api/Pernama/groups").then(function(r){if(window.uplus.isSuccess(r.status)){for(n=0;n<r.data.length;n++)u.push(JSON.parse(r.data[n]));i.onSync3(t,u)}})};i.onSync3=function(t,u){var f=[];r.get("/api/Pernama/promos").then(function(r){if(window.uplus.isSuccess(r.status)){for(n=0;n<r.data.length;n++)f.push(JSON.parse(r.data[n]));window.localStorage.setItem("pernama",JSON.stringify(t));window.localStorage.setItem("pernama-groups",JSON.stringify(u));window.localStorage.setItem("pernama-promos",JSON.stringify(f));i.current.lastSync=new Date;window.localStorage.setItem("pernama-sync",i.current.lastSync);i.onSync4()}})};i.onSync4=function(){var n=i.current.totalPernama,t;n>0?(t=JSON.parse(window.localStorage.getItem("pernama-"+n)),r.post("/api/SyncPernama",t).then(function(t){window.uplus.isSuccess(t.status)&&(i.current.totalPernama--,window.localStorage.removeItem("pernama-"+n),window.localStorage.setItem("pernama-count",i.current.totalPernama),i.onSync4())})):i.onSync5()};i.onSync5=function(){var n=i.current.totalAeon,t;n>0?(t=JSON.parse(window.localStorage.getItem("aeon-"+n)),r.post("/api/SyncAeon",t).then(function(t){window.uplus.isSuccess(t.status)&&(i.current.totalAeon--,window.localStorage.removeItem("aeon-"+n),window.localStorage.setItem("aeon-count",i.current.totalAeon),i.onSync5())})):i.isDisabled=!1};i.$on("OnAjaxError",function(n,t){i.isDisabled=!1;u(t)})}]);angular.module("ctrls").controller("AlertCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,r,u,f,e,o){n.pageTitle="Alert";t.current={};t.selected={SendTo:null};t.submitForm=function(n){var s,i,e;if(n.$valid){if(t.selected.SendTo&&t.selected.SendTo.length!==0){for(s=[],i=null,e=0;e<t.selected.SendTo.length;e++)i=t.selected.SendTo[e],i&&i.Id&&s.push(i.Id);t.current.SendTo=JSON.stringify(s)}else t.current.SendTo=null;t.isDisabled=!0;r.put("/api/Alert/"+f.id,t.current).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,o.remove("/api/Alerts"),u({message:"Saved"}))})}};t.fetchData=function(){o.get("/api/Alert").then(function(n){t.filters=n;r.get("/api/Alert/"+f.id).then(function(n){if(window.uplus.isSuccess(n.status)&&(t.current=n.data,n.data.SendTo)){t.selected.SendTo=[];var r=JSON.parse(n.data.SendTo);for(i=0;i<r.length;i++)for(j=0;j<t.filters.length;j++)if(t.filters[j].Id==r[i]){t.selected.SendTo.push(t.filters[j]);break}}})})};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;u(i)});t.fetchData()}]);angular.module("ctrls").controller("AlertsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Alerts";t.filter={findText:""};var u="/api/Alerts";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("AnnounceCtrl",["$rootScope","$scope","$http","cacheSvc","notify",function(n,t,i,r,u){n.pageTitle="Announce";t.current={};t.selected={SendTo:null};t.submitForm=function(n){var f,r;if(n.$valid&&t.selected.SendTo&&t.selected.SendTo.length!==0){for(f=[],r=0;r<t.selected.SendTo.length;r++)f.push(t.selected.SendTo[r].Id);t.current.SendTo=f;t.isDisabled=!0;i.post("/api/Announce",t.current).then(function(n){window.uplus.isSuccess(n.status)&&(t.isDisabled=!1,u({message:"Posted"}))})}};var f=null;t.$on("$destroy",function(){f&&f.destroy()});t.onClick=function(){if(t.current.Photo)t.photoUrl=t.current.Photo.Data;else return;f?f._reset():f=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};r.get("/api/Announce").then(function(n){t.filters=n});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;u(i)})}]);angular.module("ctrls").controller("DeviceCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Device";t.showCommands=!1;t.toggleShowCommands=function(){t.showCommands=!t.showCommands};t.editMode=!0;var s="/api/Device",o=null;t.selected={Location:null,Category:null};t.fetchData=function(){if(e.get("/api/Device").then(function(n){t.locations=n.Locations;t.categories=n.Categories;t.userGroups=n.UserGroups;o=n}),!u.id){t.current={Colour:"#354069"};t.editMode=!1;return}i.get(s+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.current=n.data)})};t.delete=function(){confirm("Are you sure you want to delete?")&&(u.id?i.delete(s+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(e.remove("/api/Devices"),f.path("/devices"))}):f.path("/devices"))};t.addLocation=function(n){return t.locations.indexOf(n)==-1&&t.locations.push(n),n};t.addCategory=function(n){return t.categories.indexOf(n)==-1&&t.categories.push(n),n};t.submitForm=function(n){if(n.$valid){if(t.current.Location&&o&&o.Locations.indexOf(t.current.Location)==-1&&o.Locations.push(t.current.Location),t.current.Category&&o&&o.Categories.indexOf(t.current.Category)==-1&&o.Categories.push(t.current.Category),e.replace("/api/Device",o),t.isDisabled=!0,!u.id){i.put(s,t.current).then(function(n){window.uplus.isSuccess(n.status)&&(e.prepend("/api/Devices",n.data),t.isDisabled=!1,f.path("/devices"))});return}i.put(s+"/"+u.id,t.current).then(function(n){window.uplus.isSuccess(n.status)&&(e.remove("/api/Devices"),t.isDisabled=!1,r({message:"Saved"}))})}};t.commands=[{Name:"begin123456",Desc:"Reset to default factory setting."},{Name:"imei123456",Desc:"Get IMEI."},{Name:"time zone123456 8",Desc:"Set timezone."},{Name:"APN123456 internet",Desc:"Set APN."},{Name:"up123456  ",Desc:"Set APN user and password, e.g. up123456 user pwd"},{Name:"adminip123456 13.76.215.28 9000",Desc:"Set server IP and port."},{Name:"GPRS123456",Desc:"Switch to GPRS mode."},{Name:"fix010s005m***n123456",Desc:"Track positon every 10 seconds when ACC is on, and every 5 minutes when ACC is off."},{Name:"protocol123456 18 out",Desc:"Set device to output 18 pieces of data."},{Name:"check123456",Desc:"Get vehicle state."},{Name:"reset123456",Desc:"Reset GSM and GPRS modules."},{Name:"sleep123456 on",Desc:"Sleep mode."},{Name:"less gprs123456 on",Desc:"Less GPRS traffic mode: Turn on after ACC goes off for 5 minutes."},{Name:"suppress123456",Desc:"Turn on GPS drift suppression. Stop updating if vehicle is not driving (ACC is OFF) and latitude and longitude always keep the same, and GPS data updates automatically when vehicle is moving (ACC is ON)."},{Name:"nosuppress123456",Desc:"Turn on GPS drift suppression."}];t.getSmsMessage=function(n){return encodeURIComponent(n.Name)};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("DevicesCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Devices";t.filter={findText:""};var u="/api/Devices";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("InboxCtrl",["$rootScope","$scope","$http","$timeout","cacheSvc",function(n,t,i){var u,r;n.pageTitle="Inbox";u="/api/Inbox";t.display="";t.paneShown=!1;t.fetchData=function(){i.get(u).then(function(n){window.uplus.isSuccess(n.status)&&(t.list=n.data)})};t.$on("OnRefreshData",function(){t.fetchData()});r=null;t.$on("$destroy",function(){r&&r.destroy()});t.showPhoto=function(n){t.display=n;r?r._reset():r=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.$on("$destroy",function(){t.list=null});t.fetchData();t.$on("OnAjaxError",function(n,t){notify(t)})}]);angular.module("ctrls").controller("MapCtrl",["$rootScope","$scope","$http","cacheSvc","loadGmap","notify","$timeout","$q",function(n,t,i,r,u,f,e,o){var h={},s={},w=null,v="map-div-info-all",y=null,c=null,a=[],g,b,p,l,d,ft,nt,et;t.selected={item:null,place:null};t.devices=[];t.current;t.infoPanelClass="";t.photoIdx=1;t.uiMode="quickFind";n.pageTitle="Map";n.moreMenuClass="visible";t.listingClass="";g=!1;b=!1;u.then(function(){t.initMap()});t.initMap=function(){window.uplus.attachMap("mapcont");t.refreshData()};p=function(n,t,i,r){s[n]&&s[n].marker?s[n].marker.setPosition(t):(s[n]={},s[n].marker=new google.maps.Marker({map:window.uplus.mapControl,position:t,clickable:!0,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:i,fillOpacity:1,scale:7,strokeWeight:0}}),s[n].tooltip=new Tooltip({marker:s[n].marker,content:r,cssClass:"map-tooltip"}))};t.getCurrentGpsPosition=function(){n.$broadcast("loading-started");navigator.geolocation.getCurrentPosition(function(t){var i=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);window.uplus.mapControl.setZoom(16);window.uplus.mapControl.setCenter(i);p("current",i,"#4e2054","I am Here");n.$broadcast("loading-complete")},function(i){f({message:i.code+": "+i.message});n.$broadcast("loading-complete");t.$$phase||t.$apply()})};t.onSearchGoogleMap=function(){t.uiMode="googleMap";e(function(){w||(w=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{componentRestrictions:{country:"MY"}}),w.addListener("place_changed",function(){var n=w.getPlace(),t;n&&(t=new google.maps.LatLng(n.geometry.location.lat(),n.geometry.location.lng()),window.uplus.mapControl.setCenter(t),window.uplus.mapControl.setZoom(16),p(n.place_id,t,"#4e2054",n.formatted_address));document.getElementById("autocomplete").value=null}))},0)};t.clearPlaceMarkers=function(){var r,u,f,t,n,i;for(n in s)if(s.hasOwnProperty(n)){if(s[n].tooltip&&s[n].tooltip.onRemove(),r=s[n].marker,r&&(google.maps.event.clearInstanceListeners(r),r.setMap(null)),u=s[n].rect,u&&(google.maps.event.clearInstanceListeners(u),u.setMap(null)),t=s[n].polylines,t)for(i=0;i<t.length;i++)google.maps.event.clearInstanceListeners(t[i]),t[i].setMap(null),t[i].tooltip.onRemove();f=s[n].renderer;f&&f.setMap(null);delete s[n]}};t.refreshData=function(){i.get("/api/Live").then(function(n){if(window.uplus.isSuccess(n.status)){t.devices=[{Device:"----",Name:"---- All Devices ----"}];t.selected.item=t.devices[0];t.clearDeviceMarkers();for(var i=0;i<n.data.length;i++)d(n.data[i]);n.data.length>0&&st(n.data[0].AccountId)}})};t.clearDeviceMarkers=function(){var n;for(var t in h)h.hasOwnProperty(t)&&(n=h[t].marker,n.label.remove(),google.maps.event.clearInstanceListeners(n),n.setMap(null),delete h[t])};t.$on("$routeChangeStart",function(){t.clearDeviceMarkers();t.clearPlaceMarkers();g=!0;c&&c.destroy();window.uplus.detachMap()});t.$on("$destroy",function(){y&&y.destroy()});t.$on("OnAjaxError",function(n,t){f(t.msg)});l=function(n,t){setTimeout(function(){window.uplus.mapControl.setCenter(n);t&&window.uplus.mapControl.setZoom(16)},100)};d=function(n){var u=n.Device,i,r;if(n.Driver&&(u+=" // "+n.Driver),h[n.Device]){for(i=0;i<t.devices.length;i++)if(t.devices[i].Device==n.Device){t.devices[i].Name=u;break}h[n.Device].data=n;h[n.Device].marker.setPosition(new google.maps.LatLng(n.Lat,n.Lng));h[n.Device].marker.setIcon(window.uplus.getDeviceMarker(n))}else h[n.Device]={data:n},t.devices.push({Device:n.Device,Name:u}),r=new google.maps.Marker({map:window.uplus.mapControl,position:new google.maps.LatLng(n.Lat,n.Lng),clickable:!0,icon:window.uplus.getDeviceMarker(n),title:n.Device,label:{text:n.Device,color:n.Colour}}),google.maps.event.addListener(r,"click",function(){var u=this,n,i;u&&l(u.getPosition(),!1);n=h[r.getTitle()];n&&n.data&&(i=n.data.Device,n.data.Driver&&(i+=" // "+n.data.Driver),b=!0,t.selected.item={Device:n.data.Device,Name:i},t.$$phase||t.$apply())}),h[n.Device].marker=r;t.current&&t.current.Device==n.Device&&(l(new google.maps.LatLng(n.Lat,n.Lng),!1),t.current=n,c&&ft());t.$$phase||t.$apply()};t.filterDevices=function(){t.uiMode="quickFind"};t.searchPlaces=function(){t.uiMode="searchPlace"};t.destroyChart=function(){c&&c.destroy();c=null;document.getElementById("graphdiv").style.display="none";document.getElementById("tempbtn").style.display="block"};t.$watch("selected.item",function(){var n,i;if(t.selected.item==null||t.selected.item.Device=="----"){t.current=null;t.infoPanelClass="";t.destroyChart();return}n=null;t.current&&(n=t.current.Device);i=h[t.selected.item.Device];t.current=i.data;l(i.marker.getPosition(),!b);t.infoPanelClass=v;n&&n!==t.current.Device&&t.destroyChart();b=!1});t.changeVisibility=function(){v=v=="map-div-info-all"?"map-div-info-small":"map-div-info-all";t.infoPanelClass=v};t.setPhotoIdx=function(n){t.photoIdx=n};t.openPhoto=function(n){var i=t.getPhoto(n);i&&(t.photoUrl=i);y?y._reset():y=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};var ht=function(n){d(JSON.parse(n))},ot=function(){g||i.get("/api/Live").then(function(n){if(window.uplus.isSuccess(n.status))for(var t=0;t<n.data.length;t++)d(n.data[t]);tt()})},tt=function(){setTimeout(function(){ot()},15e3)},st=function(){tt()};t.onSearchPlace=function(n){if(!n)return[];if(n.length<3)return[];var t=o.defer();return i.post("/api/PlaceSearch/"+encodeURIComponent(n)).then(function(n){window.uplus.isSuccess(n.status)&&t.resolve(n.data)}),t.promise};t.$watch("selected.place",function(){t.selected.place!=null&&r.get("/api/PlaceSearch/"+t.selected.place.Id).then(function(n){n.Type=="Placemark"?(p(n.Id,new google.maps.LatLng(n.Lat,n.Lng),n.Colour,n.Name),l(new google.maps.LatLng(n.Lat,n.Lng),!0)):n.Type=="Area"?(it(n.Id,new google.maps.LatLng(n.Lat,n.Lng),new google.maps.LatLng(n.Lat2,n.Lng2),n.Colour,n.Name),l(new google.maps.LatLng((n.Lat+n.Lat2)/2,(n.Lng+n.Lng2)/2),!0)):n.Type=="Route"&&(rt(n.Id,new google.maps.LatLng(n.Lat,n.Lng),new google.maps.LatLng(n.Lat2,n.Lng2),n.Data,n.Colour,n.Name),l(new google.maps.LatLng(n.Lat,n.Lng),!0))})});t.showNearby=function(){var n=window.uplus.mapControl.getBounds(),t=n.getSouthWest(),r=n.getNorthEast();i.get("/api/Nearby?lat=".concat(t.lat(),"&lng=",t.lng(),"&lat2=",r.lat(),"&lng2=",r.lng())).then(function(n){var t,i;if(window.uplus.isSuccess(n.status))for(i=0;i<n.data.length;i++)t=n.data[i],t.Type=="Placemark"?p(t.Id,new google.maps.LatLng(t.Lat,t.Lng),t.Colour,t.Name):t.Type=="Area"?it(t.Id,new google.maps.LatLng(t.Lat,t.Lng),new google.maps.LatLng(t.Lat2,t.Lng2),t.Colour,t.Name):t.Type=="Route"&&rt(t.Id,new google.maps.LatLng(t.Lat,t.Lng),new google.maps.LatLng(t.Lat2,t.Lng2),t.Data,t.Colour,t.Name)})};var it=function(n,t,i,r,u){s[n]&&s[n].rect?s[n].rect.setBounds(new google.maps.LatLngBounds(t,i)):(s[n]={},s[n].rect=new google.maps.Rectangle({map:window.uplus.mapControl,draggable:!1,editable:!1,fillColor:r,fillOpacity:.4,strokeColor:r,strokeOpacity:1,strokeWeight:2,bounds:new google.maps.LatLngBounds(t,i),getPosition:function(){return new google.maps.LatLng((t.lat()+i.lat())/2,(t.lng()+i.lng())/2)}}),s[n].tooltip=new Tooltip({marker:s[n].rect,content:u,cssClass:"map-tooltip"}))},rt=function(n,t,i,r,u,f){s[n]&&s[n].renderer?ut(s[n].renderer,t,i,r,u,f,s[n]):(s[n]={},s[n].polylines=[],s[n].renderer=new google.maps.DirectionsRenderer({draggable:!1,suppressInfoWindows:!0,suppressMarkers:!0,preserveViewport:!0,map:window.uplus.mapControl,polylineOptions:{strokeColor:u}}),ut(s[n].renderer,t,i,r,u,f,s[n]))},ut=function(n,t,i,r,u,f,e){for(var c,l,h=[],s=JSON.parse(r),o=0;o<s.length;o++)h[o]={location:new google.maps.LatLng(s[o][0],s[o][1]),stopover:!1};c=new google.maps.DirectionsService;l={origin:t,destination:i,travelMode:google.maps.TravelMode.DRIVING,waypoints:h,optimizeWaypoints:!1,provideRouteAlternatives:!1};c.route(l,function(n,t){var c,i,o,s,h,r;if(t==google.maps.DirectionsStatus.OK){for(c={strokeColor:u,strokeOpacity:1,strokeWeight:4},i=0;i<e.polylines.length;i++)e.polylines[i].setMap(null);for(o=n.routes[0].legs,i=0;i<o.length;i++)for(s=o[i].steps,j=0;j<s.length;j++){for(h=s[j].path,r=new google.maps.Polyline(c),k=0;k<h.length;k++)r.getPath().push(h[k]);e.polylines.push(r);r.setMap(window.uplus.mapControl);r.getPosition=function(){return this.getPath().getAt(0)};r.tooltip=new Tooltip({marker:r,content:f,cssClass:"map-tooltip"})}}})};t.showTempChart=function(){a=[];document.getElementById("graphdiv").style.display="block";document.getElementById("tempbtn").style.display="none";i.get("/api/Live/"+t.current.Device).then(function(n){var t,i;if(window.uplus.isSuccess(n.status)){for(i=0;i<n.data.length;i++)t=n.data[i],a.push([new Date(t.T+"+08:00"),t.A,t.B]);n.data.length==0&&a.push([new Date,0,0]);c=new Dygraph(document.getElementById("graphdiv"),a,{showLabelsOnHighlight:!1,ylabel:"Temperature",interactionModel:{},strokeWidth:2,axisLineColor:"#888",colors:["#39628d","#ff4a5d"],gridLineColor:"#dcdcdc"})}})};ft=function(){c&&(a.push([new Date(t.current.Time+"+08:00"),t.current.Temp1,t.current.Temp2]),a.shift(),c.updateOptions({file:a}))};t.onRowClick=function(n){var i=h[n],r;i&&i.marker&&l(i.marker.getPosition(),!1);i&&i.data&&(r=i.data.Device,i.data.Driver&&(r+=" // "+i.data.Driver),t.selected.item={Device:i.data.Device,Name:r});t.listingClass="";t.listing=[]};t.showListView=function(){var r;if(t.listingClass)t.listingClass="",t.listing=[];else{var u={Name:"Overspeed",Data:[]},f={Name:"Moving",Data:[]},e={Name:"Idling",Data:[]},o={Name:"Stopped",Data:[]},s={Name:"No Update",Data:[]},n,i;for(r in h)h.hasOwnProperty(r)&&(n=h[r].data,i=window.uplus.getDeviceMarker(n),n.Path=i.path,n.FillColor=i.fillColor,i.status=="Moving"?f.Data.push(n):i.status=="Idling"?e.Data.push(n):i.status=="Stopped"?o.Data.push(n):i.status=="No Update"?s.Data.push(n):u.Data.push(n));t.listing=[u,f,e,o,s];t.listingClass="slide"}};nt=document.getElementById("list-body");et=document.getElementById("list-header");angular.element(nt).on("scroll",function(){et.style.left=-1*nt.scrollLeft+"px"});t.getPhoto=function(n){return n?"https://uplus.blob.core.windows.net/pinpoint-photo/"+n:"https://uplus.blob.core.windows.net/uplus-web/pinpointnull.png"}}]);angular.module("ctrls").controller("PlaceCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc","loadGmap",function(n,t,i,r,u,f,e,o){var v;n.pageTitle="Place";t.editMode=!0;v="/api/Place";t.labelLat="Latitude";t.labelLng="Longitude";t.labelLat2="";t.labelLng2="";var h=null,c=null,l=null,a=null,s=null,y=null,p=null;o.then(function(){t.initMap()});t.onPlaceTypeChange=function(n){t.current.PlaceType=="Placemark"?(t.labelLat="Lat",t.labelLng="Lng",t.labelLat2="",t.labelLng2="",n||(t.current.Colour="#4e2054")):t.current.PlaceType=="Area"?(t.labelLat="Lat 1",t.labelLng="Lng 1",t.labelLat2="Lat 2",t.labelLng2="Lng 2",n||(t.current.Lat2=t.current.Lat+.001,t.current.Lng2=t.current.Lng+.001,t.current.Colour="#57668f")):t.current.PlaceType=="Route"&&(t.labelLat="Start Lat",t.labelLng="Start Lng",t.labelLat2="End Lat",t.labelLng2="End Lng",n||(t.current.Lat2=t.current.Lat+.001,t.current.Lng2=t.current.Lng+.001,t.current.Colour="#1bacf8"));window.google&&t.redrawMap()};t.fetchData=function(){if(!u.id){t.current={PlaceType:"Placemark",Colour:"#4e2054"};t.onPlaceTypeChange(!0);t.editMode=!1;return}i.get(v+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.current=n.data;t.onPlaceTypeChange(!0)}})};t.delete=function(){confirm("Are you sure you want to delete?")&&i.delete(v+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(e.remove("/api/Places"),f.path("/places"))})};t.submitForm=function(n){if(n.$valid){if(t.isDisabled=!0,!u.id){i.put(v,t.current).then(function(n){window.uplus.isSuccess(n.status)&&(e.prepend("/api/Places",n.data),t.isDisabled=!1,f.path("/places"))});return}i.put(v+"/"+u.id,t.current).then(function(n){window.uplus.isSuccess(n.status)&&(e.remove("/api/Places"),e.remove("/api/PlaceSearch/"+u.id),t.isDisabled=!1,r({message:"Saved"}))})}};t.gpsPosition=function(){n.$broadcast("loading-started");navigator.geolocation.getCurrentPosition(function(i){t.current.Lat=i.coords.latitude;t.current.Lng=i.coords.longitude;t.current.Address=null;t.current.PlaceType=="Placemark"?(t.current.Lat2=null,t.current.Lng2=null):t.current.PlaceType=="Area"?(t.current.Lat2=i.coords.latitude+.01,t.current.Lng2=i.coords.longitude+.01):t.current.PlaceType=="Route"&&(t.current.Lat2=i.coords.latitude+.01,t.current.Lng2=i.coords.longitude+.01);n.$broadcast("loading-complete");t.redrawMap();t.$$phase||t.$apply()},function(i){r({message:i.code+": "+i.message});n.$broadcast("loading-complete");t.$$phase||t.$apply()})};t.geocode=function(){if(!t.current.Lat||!t.current.Lng){r({message:"Please specify the Lat and Lng before continue."});return}n.$broadcast("loading-started");var i=new google.maps.LatLng(t.current.Lat,t.current.Lng),u=new google.maps.Geocoder;u.geocode({location:i},function(i,u){u==="OK"?i[0]?t.current.Address=i[0].formatted_address:r({message:"No results found."}):r({message:u});n.$broadcast("loading-complete");t.$$phase||t.$apply()})};t.reverseGeocode=function(){if(!t.current.Address){r({message:"Please specify the Address before continue."});return}n.$broadcast("loading-started");var i=new google.maps.Geocoder;i.geocode({address:t.current.Address,componentRestrictions:{country:"MY"}},function(i,u){u==="OK"&&(i[0]?(t.current.Lat=i[0].geometry.location.lat(),t.current.Lng=i[0].geometry.location.lng(),t.redrawMap()):r({message:u}));n.$broadcast("loading-complete");t.$$phase||t.$apply()})};t.initMap=function(){window.uplus.attachMap("mapcont");t.redrawMap();y=window.uplus.mapControl.addListener("dblclick",function(n){t.current.Lat=n.latLng.lat();t.current.Lng=n.latLng.lng();(t.current.PlaceType=="Area"||t.current.PlaceType=="Route")&&(t.current.Lat2=n.latLng.lat()+.001,t.current.Lng2=n.latLng.lng()+.001);t.$$phase||t.$apply();t.redrawMap()});p=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{componentRestrictions:{country:"MY"}});p.addListener("place_changed",rt)};t.enlargeMap=function(){t.paneShown=!0};var w=function(){l&&(google.maps.event.clearInstanceListeners(l),l.setMap(null),l=null);a&&(google.maps.event.clearInstanceListeners(a),a.setMap(null),a=null);s&&(google.maps.event.clearInstanceListeners(s),s.set("directions",null),s.setMap(null),s=null)},b=function(){c&&(google.maps.event.clearInstanceListeners(c),c.setMap(null),c=null)},k=function(){h&&(google.maps.event.clearInstanceListeners(h),h.setMap(null),h=null)};t.$on("$routeChangeStart",function(){y&&google.maps.event.removeListener(y);b();k();w();window.uplus.detachMap()});t.$watch("paneShown",function(n){n!==undefined&&(n?window.uplus.reattachMap("flyoutcont"):window.uplus.reattachMap("mapcont"),t.current.PlaceType=="Placemark"&&t.current.Lat&&t.current.Lng?window.uplus.mapControl.panTo(new google.maps.LatLng(t.current.Lat,t.current.Lng)):t.current.Lat&&t.current.Lng&&t.current.Lat2&&t.current.Lng2&&window.uplus.mapControl.panTo(new google.maps.LatLng((t.current.Lat+t.current.Lat2)/2,(t.current.Lng+t.current.Lng2)/2)))});var g=function(){k();w();c||(c=new google.maps.Marker({map:window.uplus.mapControl,draggable:!0}),c.addListener("dragend",function(n){t.current.Lat=n.latLng.lat();t.current.Lng=n.latLng.lng();t.$$phase||t.$apply()}),window.uplus.mapControl.setZoom(16));c.setIcon({path:google.maps.SymbolPath.CIRCLE,fillColor:t.current.Colour,fillOpacity:1,scale:10,strokeColor:"#ffffff",strokeWeight:2});c.setPosition(new google.maps.LatLng(t.current.Lat,t.current.Lng));window.uplus.mapControl.panTo(new google.maps.LatLng(t.current.Lat,t.current.Lng))},nt=function(){b();w();h||(h=new google.maps.Rectangle({map:window.uplus.mapControl,draggable:!0,editable:!0}),h.addListener("bounds_changed",function(){var n=h.getBounds(),i=n.getSouthWest(),r=n.getNorthEast();t.current.Lat=i.lat();t.current.Lng=i.lng();t.current.Lat2=r.lat();t.current.Lng2=r.lng();t.$$phase||t.$apply()}),window.uplus.mapControl.setZoom(16));h.setOptions({fillColor:t.current.Colour,fillOpacity:.4,strokeColor:t.current.Colour,strokeOpacity:1,strokeWeight:2});h.setBounds(new google.maps.LatLngBounds(new google.maps.LatLng(t.current.Lat,t.current.Lng),new google.maps.LatLng(t.current.Lat2,t.current.Lng2)));window.uplus.mapControl.panTo(new google.maps.LatLng((t.current.Lat+t.current.Lat2)/2,(t.current.Lng+t.current.Lng2)/2))},tt=function(){b();k();var n=!1;l||(l=new google.maps.Marker({map:window.uplus.mapControl,position:new google.maps.LatLng(t.current.Lat,t.current.Lng),draggable:!0,title:"Origin",icon:{path:google.maps.SymbolPath.CIRCLE,fillOpacity:1,strokeWeight:2,scale:10,strokeColor:"#ffffff",fillColor:"#39628d"}}),l.addListener("dragend",function(n){t.current.Lat=n.latLng.lat();t.current.Lng=n.latLng.lng();t.$$phase||t.$apply();d(!1)}));a||(a=new google.maps.Marker({map:window.uplus.mapControl,position:new google.maps.LatLng(t.current.Lat2,t.current.Lng2),draggable:!0,title:"Destination",icon:{path:google.maps.SymbolPath.CIRCLE,fillOpacity:1,strokeWeight:2,scale:10,strokeColor:"#ffffff",fillColor:"#ff4a5d"}}),a.addListener("dragend",function(n){t.current.Lat2=n.latLng.lat();t.current.Lng2=n.latLng.lng();t.$$phase||t.$apply();d(!1)}));s||(n=!0,s=new google.maps.DirectionsRenderer({draggable:!0,suppressInfoWindows:!1,suppressMarkers:!0,preserveViewport:!1,map:window.uplus.mapControl}),s.addListener("directions_changed",function(){s.directions&&it()}));s.setOptions({polylineOptions:{strokeColor:t.current.Colour}});l.setPosition(new google.maps.LatLng(t.current.Lat,t.current.Lng));a.setPosition(new google.maps.LatLng(t.current.Lat2,t.current.Lng2));d(n)},it=function(){for(var u=s.directions.routes[0].legs[0],r=[],i=u.via_waypoints,n=0;n<i.length;n++)r[n]=[i[n].lat(),i[n].lng()];t.current.Data=JSON.stringify(r)},d=function(n){var f=[],u,i,e,o;if(n&&t.current.Data)for(u=JSON.parse(t.current.Data),i=0;i<u.length;i++)f[i]={location:new google.maps.LatLng(u[i][0],u[i][1]),stopover:!1};e=new google.maps.DirectionsService;o={origin:l.getPosition(),destination:a.getPosition(),travelMode:google.maps.TravelMode.DRIVING,waypoints:f,optimizeWaypoints:!1,provideRouteAlternatives:!1};e.route(o,function(n,t){t==google.maps.DirectionsStatus.OK?s.set("directions",n):r({message:t})})},rt=function(){var n=p.getPlace();n&&(window.uplus.mapControl.setCenter(new google.maps.LatLng(n.geometry.location.lat(),n.geometry.location.lng())),window.uplus.mapControl.setZoom(16));document.getElementById("autocomplete").value=null};t.redrawMap=function(){t.current&&(t.current.PlaceType=="Placemark"&&t.current.Lat&&t.current.Lng?g():t.current.PlaceType=="Area"&&t.current.Lat&&t.current.Lng&&t.current.Lat2&&t.current.Lng2?nt():t.current.PlaceType=="Route"&&t.current.Lat&&t.current.Lng&&t.current.Lat2&&t.current.Lng2&&tt())};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("PlacesCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Places";t.filter={findText:""};var u="/api/Places";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("PlaybackCtrl",["$rootScope","$scope","$http","cacheSvc","$filter","notify","loadGmap",function(n,t,i,r,u,f,e){var d,g,w;n.pageTitle="Playback";var h=[],y=null,b=!1,c=null,l=null,o=null,s=null,v=null,a=0,k=0,p=null;t.pb={isPlayingMap:!1};t.title="";t.entry={End:null,Start:null,Device:null,Output:"Route"};t.init=function(){r.get("/api/Playback").then(function(n){t.devices=n})};t.submitForm=function(n){(v||(v=document.getElementById("slider")),n.$valid)&&(t.isDisabled=!0,t.entry.Output=="Temperature"?t.loadTemperature():t.entry.Output=="CSV"?t.exportCsv():t.entry.Output=="Overspeed"?t.exportOverspeed():t.entry.Output=="Route"&&t.drawRoute())};d=function(){y&&(y.destroy(),y=null);b&&(window.uplus.detachMap(),b=!1);s&&(clearInterval(s),s=null);o&&(o.setMap(null),google.maps.event.clearInstanceListeners(o),o.label.remove(),o=null);c&&(c.setMap(null),c=null);p&&p.destroy();l=null;h=null;document.getElementById("graphdiv2").style.display="none";document.getElementById("tempbtn").style.display="block";t.infoPanelClass="";t.$$phase||t.$apply()};t.backToForm=function(){document.getElementById("options").style.display="block";document.getElementById("chart").style.display="none";document.getElementById("mapcont").style.display="none";document.getElementById("chartmenu").style.display="none";document.getElementById("mapmenu").style.display="none";n.pageTitle="Playback";d()};t.loadTemperature=function(){i.post("/api/Playback",{Purpose:"Temperature",Device:t.entry.Device,StartDate:t.entry.Start.format("YYYY-MM-DD HH:mm"),EndDate:t.entry.End.format("YYYY-MM-DD HH:mm")}).then(function(n){var i,r;if(window.uplus.isSuccess(n.status)){for(t.isDisabled=!1,t.title=t.entry.Device+": "+t.entry.Start.format("D/M/YYYY h:mm a")+" - "+t.entry.End.format("D/M/YYYY h:mm a"),document.getElementById("options").style.display="none",document.getElementById("chart").style.display="block",document.getElementById("chartmenu").style.display="block",f({message:"Click+Drag to Zoom. SHIFT+Click+Drag to Pan. Double+Click to Restore."}),h=[],r=0;r<n.data.length;r++)i=n.data[r],h.push([new Date(i.T+"+08:00"),i.A,i.B]);y=new Dygraph(document.getElementById("graphdiv"),h,{labels:["Time","Temp. 1","Temp. 2"],labelsDiv:document.getElementById("labels"),ylabel:"Temperature",xlabel:"Time",strokeWidth:2,axisLineColor:"#888",colors:["#39628d","#ff4a5d"],gridLineColor:"#dcdcdc",axes:{x:{valueFormatter:function(n){return u("date")(new Date(n),"d/M/yyyy h:mm:ss a")}}}})}})};t.exportCsv=function(){i.post("/api/Playback",{Purpose:"History",Device:t.entry.Device,StartDate:t.entry.Start.format("YYYY-MM-DD HH:mm"),EndDate:t.entry.End.format("YYYY-MM-DD HH:mm")}).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;var r=t.entry.Device+"--"+t.entry.Start.format("D-M-YYYY-h:mma")+"--"+t.entry.End.format("D-M-YYYY-h:mma")+".csv",u="data:text/csv;charset=utf-8,"+escape(n.data),i=document.getElementById("dllink");i.setAttribute("href",u);i.setAttribute("download",r);i.click()}})};t.exportOverspeed=function(){i.post("/api/Playback",{Purpose:"Overspeed",StartDate:t.entry.Start.format("YYYY-MM-DD HH:mm"),EndDate:t.entry.End.format("YYYY-MM-DD HH:mm")}).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;var r="Overspeed--"+t.entry.Start.format("D-M-YYYY-h:mma")+"--"+t.entry.End.format("D-M-YYYY-h:mma")+".csv",u="data:text/csv;charset=utf-8,"+escape(n.data),i=document.getElementById("dllink");i.setAttribute("href",u);i.setAttribute("download",r);i.click()}})};t.drawRoute=function(){i.post("/api/Playback",{Purpose:"Playback",Device:t.entry.Device,StartDate:t.entry.Start.format("YYYY-MM-DD HH:mm"),EndDate:t.entry.End.format("YYYY-MM-DD HH:mm")}).then(function(i){window.uplus.isSuccess(i.status)&&(t.isDisabled=!1,document.getElementById("options").style.display="none",document.getElementById("mapcont").style.display="block",document.getElementById("mapmenu").style.display="flex",v.value=0,n.pageTitle=t.entry.Device+": "+t.entry.Start.format("D/M/YYYY h:mm a")+" - "+t.entry.End.format("D/M/YYYY h:mm a"),t.pb.max=i.data.length>0?i.data.length-1:0,e.then(function(){window.uplus.attachMap("mapcont");b=!0;t.onDrawMap(i.data)}))})};t.init();t.$on("$routeChangeStart",function(){d()});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;f(i)});t.onDrawMap=function(n){var t,r,i,f;for(c||(c=new google.maps.Polyline({clickable:!1,strokeColor:"#39628d",strokeOpacity:.7,strokeWeight:4})),r=0,n.length>0&&n[0].M&&(r=n[0].M),c.getPath().clear(),i=0;i<n.length;i++)t=n[i],f=new google.maps.LatLng(t.Lat,t.Lng),c.getPath().push(f),t.tooltip=u("date")(t.T,"h:mm:ssa")+", "+(t.M-r).toFixed(2)+"km";c.setMap(window.uplus.mapControl);l=n;o||(o=new google.maps.Marker({map:window.uplus.mapControl,clickable:!0,label:{text:"-",color:"#354069"}}),google.maps.event.addListener(o,"click",function(){var n=Number(v.value);g(n)}));a=0;k=0;l.length>0&&(window.uplus.mapControl.setZoom(14),w(0))};g=function(n){if(l&&l.length>n){var i=l[n];r.get("/api/Playback/"+i.D).then(function(n){t.current=n;t.infoPanelClass="map-div-info-all";t.setPhotoIdx(1);document.getElementById("graphdiv2").style.display="none";document.getElementById("tempbtn").style.display="block";t.$$phase||t.$apply()})}};t.onPlayPause=function(){t.infoPanelClass="";t.pb.isPlayingMap?(t.pb.isPlayingMap=!1,s&&(clearInterval(s),s=null)):(t.pb.isPlayingMap=!0,a=Number(v.value),k=l.length-1,window.uplus.mapControl.setZoom(14),s=setInterval(function(){w(a);a+=1;a>k&&(clearInterval(s),t.pb.isPlayingMap=!1,t.$$phase||t.$apply(),s=null)},400))};t.onSliderChange=function(n){a=Number(n);w(a);t.infoPanelClass&&g(a)};t.changeVisibility=function(){t.infoPanelClass=t.infoPanelClass?"":"map-div-info-all"};t.setPhotoIdx=function(n){t.photoIdx=n};t.openPhoto=function(n){var i=t.getPhoto(n);i&&(t.photoUrl=i);p?p._reset():p=window.uplus.pinchZoom("currentPhoto");t.paneShown=!0};t.showTempChart=function(){h=[];document.getElementById("graphdiv2").style.display="block";document.getElementById("tempbtn").style.display="none";i.post("/api/Playback",{Purpose:"Temperature",Device:t.entry.Device,StartDate:u("date")(new Date(t.current.Time),"yyyy-MM-dd HH:mm"),EndDate:u("date")(new Date(t.current.Time),"yyyy-MM-dd HH:mm")}).then(function(n){var t,i;if(window.uplus.isSuccess(n.status)){for(i=0;i<n.data.length;i++)t=n.data[i],h.push([new Date(t.T+"+08:00"),t.A,t.B]);n.data.length==0&&h.push([new Date,0,0]);y=new Dygraph(document.getElementById("graphdiv2"),h,{showLabelsOnHighlight:!1,ylabel:"Temperature",interactionModel:{},strokeWidth:2,axisLineColor:"#888",colors:["#39628d","#ff4a5d"],gridLineColor:"#dcdcdc"})}})};w=function(n){var t=l[n],i=new google.maps.LatLng(t.Lat,t.Lng);o.setPosition(i);o.setIcon(window.uplus.getDeviceMarker({Ignition:t.I,Speed:t.S,Heading:t.H}));o.label.updateText(t.tooltip);window.uplus.mapControl.panTo(i);v.value=n};t.getPhoto=function(n){return n?"https://uplus.blob.core.windows.net/pinpoint-photo/"+n:"https://uplus.blob.core.windows.net/uplus-web/pinpointnull.png"}}]);angular.module("ctrls").controller("ComputerDeviceCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Computer Device";var o="/api/ComputerDevice";t.fetchData=function(){u.id?e.getOnce(o+"/"+u.id).then(function(n){t.current=n}):t.current={Id:0}};t.submitForm=function(n){if(n.$valid){t.isDisabled=!0;var s="/api/ComputerDevice";u.id&&(s=o+"/"+u.id);i.put(s,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var s="/api/ComputerDevices",i={Id:n.data.Id,Code:n.data.Code,Name:n.data.Name,CreatedOn:n.data.CreatedOn};u.id?(e.replaceItem(s,i.Id,i),t.current=n.data):(e.prepend(s,i),e.replace(o+"/"+i.Id,n.data),f.path("/computer-device/"+i.Id).replace())}})}};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(o+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");e.removeItem("/api/ComputerDevices",parseInt(u.id,10));f.path("/computer-devices")}}):f.path("/computer-devices"))};t.onNew=function(){u.id?f.path("/computer-device"):t.current={Id:0}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("ComputerDevicesCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Computer Devices";t.filter={findText:""};var u="/api/ComputerDevices";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("DownloadHistoryCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Download History";t.filter={findText:""};var u="/api/DownloadHistory";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("DownloadsCtrl",["$rootScope","$scope","notify","cacheSvc","$http",function(n,t,i,r,u){n.pageTitle="Downloads (Use Internet Explorer)";t.filter={findText:""};var f="/api/Downloads";t.fetchData=function(){r.get(f).then(function(n){t.list=n})};t.open=function(n){u.get("/api/Downloads/"+n.Oid).then(function(i){window.uplus.isSuccess(i.status)&&(t.paneShown=!0,t.filter.Url=i.data,t.filter.Name=n.Name)})};t.$on("OnRefreshData",function(){r.remove(f);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("SecurityGroupCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){n.pageTitle="Security Group";var o="/api/SecurityGroup";t.filter={options:[{id:0,name:"None"},{id:1,name:"View"},{id:2,name:"Modify"},{id:3,name:"All"}]};t.fetchData=function(){e.get("/api/WpModule").then(function(n){t.filter.module=n});u.id?e.getOnce(o+"/"+u.id).then(function(n){t.current=n}):t.current={Id:0}};t.submitForm=function(n){if(n.$valid){t.isDisabled=!0;var s="/api/SecurityGroup";u.id&&(s=o+"/"+u.id);i.put(s,t.current).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");var s="/api/SecurityGroups",i={Id:n.data.Id,Name:n.data.Name};u.id?(e.replaceItem(s,i.Id,i),t.current=n.data):(e.prepend(s,i),e.replace(o+"/"+i.Id,n.data),f.path("/security-group/"+i.Id).replace())}})}};t.remove=function(){confirm("Are you sure You want to remove?")&&(u.id?i.delete(o+"/"+u.id).then(function(n){if(window.uplus.isSuccess(n.status)){t.isDisabled=!1;r("Saved");e.removeItem("/api/SecurityGroups",parseInt(u.id,10));f.path("/security-groups")}}):f.path("/security-groups"))};t.onNew=function(){u.id?f.path("/security-group"):t.current={Id:0}};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("SecurityGroupsCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Security Group";t.filter={findText:""};var u="/api/SecurityGroups";t.fetchData=function(){r.get(u).then(function(n){t.list=n})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);angular.module("ctrls").controller("UserCtrl",["$rootScope","$scope","$http","notify","$routeParams","$location","cacheSvc",function(n,t,i,r,u,f,e){var o;n.pageTitle="User";t.filter={};o=u.type=="staff"?"/api/User":"/api/SubCustomer";t.fetchData=function(){e.get("/api/SecurityGroups").then(function(n){t.filter.sgs=n});i.get(o+"/"+u.id).then(function(n){window.uplus.isSuccess(n.status)&&(t.current=n.data)})};t.submitForm=function(n){n.$valid&&(t.isDisabled=!0,i.put(o+"/"+u.id,t.current).then(function(n){var h,s,i,f;if(window.uplus.isSuccess(n.status)){for(t.isDisabled=!1,r("Saved"),h=o+"s",s="",i=0;i<t.filter.sgs.length;i++)if(t.filter.sgs[i].Id===n.data.WebSecurityGroupId){s=t.filter.sgs[i].Name;break}f={Id:u.type=="staff"?"#!/user/staff/"+u.id:"#!/user/customer/"+u.id,Code:n.data.Code,Name:n.data.Name,SecurityGroup:s};n.data.UserGroup&&(f.Code+=" ~ "+n.data.UserGroup);e.replaceItem(h,f.Id,f);t.current=n.data}}))};t.$on("$destroy",function(){t.current=null});t.$on("OnAjaxError",function(n,i){t.isDisabled=!1;r(i)});t.fetchData()}]);angular.module("ctrls").controller("UsersCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Users";t.filter={findText:""};var u="/users";t.init=function(){t.filter.list=[{id:"/api/Users",name:"Staffs"},{id:"/api/SubCustomers",name:"Customers"}];t.filter.value=r.find(u)?r.find(u):t.filter.list[0].id;t.fetchData()};t.fetchData=function(){r.get(t.filter.value).then(function(n){t.list=n;r.replace(u,t.filter.value)})};t.$on("OnRefreshData",function(){r.remove(t.filter.value);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.init()}]);window.templ.CryptosCtrl='<u-header caption="{{pageTitle}}"><\/u-header><u-refresh><\/u-refresh><u-dataview name="spreadsheet" style="top: 50px; position: fixed"><\/u-dataview><u-nodata ng-show="list && list.length === 0"><\/u-nodata>';angular.module("ctrls").controller("CryptosCtrl",["$rootScope","$scope","notify","cacheSvc",function(n,t,i,r){n.pageTitle="Cryptos";t.filter={};var u="/api/Crypto";t.fetchData=function(){r.get(u).then(function(n){t.list=n;t.$broadcast("OnDataSourceChange",{data:n,fileName:"cryptos",columns:[{dataField:"Code",caption:"Code",width:100},{dataField:"Price",caption:"Price",width:100,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"Usd",caption:"Total",width:100,dataType:"number",format:{type:"fixedPoint",precision:2}},{dataField:"Qty",caption:"Qty",width:100,dataType:"number",format:{type:"fixedPoint",precision:2}}]})})};t.$on("OnRefreshData",function(){r.remove(u);t.fetchData()});t.$on("$destroy",function(){t.list=null});t.$on("OnAjaxError",function(n,t){i(t)});t.fetchData()}]);window.uplus.app.config(["$routeProvider","$compileProvider","$locationProvider",function(n,t,i){i.html5Mode(!1).hashPrefix("!");t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|tel|mailto|file|ghttps?|ms-appx|x-wmapp0|market|whatsapp):/);t.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|ms-appx|x-wmapp0):|data:image\//);n.when("/change-password",{template:window.templ.ChangePasswordCtrl,controller:"ChangePasswordCtrl"}).when("/home",{template:window.templ.HomeCtrl,controller:"HomeCtrl"}).when("/",{template:window.templ.LoginCtrl,controller:"LoginCtrl"}).when("/not-found",{template:window.templ.NotFoundCtrl,controller:"NotFoundCtrl"}).when("/aeon-loan/:id",{template:window.templ.AeonLoanCtrl,controller:"AeonLoanCtrl"}).when("/aeon-loans",{template:window.templ.AeonLoansCtrl,controller:"AeonLoansCtrl"}).when("/google-play",{template:window.templ.GooglePlayCtrl,controller:"GooglePlayCtrl"}).when("/mykad",{template:window.templ.MykadCtrl,controller:"MykadCtrl"}).when("/store",{template:window.templ.StoreCtrl,controller:"StoreCtrl"}).when("/lpnews",{template:window.templ.LpNewsCtrl,controller:"LpNewsCtrl"}).when("/lpprizes",{template:window.templ.LpPrizesCtrl,controller:"LpPrizesCtrl"}).when("/lpprize/:id",{template:window.templ.LpPrizeCtrl,controller:"LpPrizeCtrl"}).when("/lpprize",{template:window.templ.LpPrizeCtrl,controller:"LpPrizeCtrl"}).when("/lpredeems",{template:window.templ.LpRedeemsCtrl,controller:"LpRedeemsCtrl"}).when("/lpredeem/:id",{template:window.templ.LpRedeemCtrl,controller:"LpRedeemCtrl"}).when("/alerts",{template:window.templ.AlertsCtrl,controller:"AlertsCtrl"}).when("/alert/:id",{template:window.templ.AlertCtrl,controller:"AlertCtrl"}).when("/announce",{template:window.templ.AnnounceCtrl,controller:"AnnounceCtrl"}).when("/devices",{template:window.templ.DevicesCtrl,controller:"DevicesCtrl"}).when("/device/:id",{template:window.templ.DeviceCtrl,controller:"DeviceCtrl"}).when("/device",{template:window.templ.DeviceCtrl,controller:"DeviceCtrl"}).when("/inbox",{template:window.templ.InboxCtrl,controller:"InboxCtrl"}).when("/map",{template:window.templ.MapCtrl,controller:"MapCtrl"}).when("/places",{template:window.templ.PlacesCtrl,controller:"PlacesCtrl"}).when("/place/:id",{template:window.templ.PlaceCtrl,controller:"PlaceCtrl"}).when("/place",{template:window.templ.PlaceCtrl,controller:"PlaceCtrl"}).when("/playback",{template:window.templ.PlaybackCtrl,controller:"PlaybackCtrl"}).when("/blog-posts",{template:window.templ.BlogPostsCtrl,controller:"BlogPostsCtrl"}).when("/blog-post/:id",{template:window.templ.BlogPostCtrl,controller:"BlogPostCtrl"}).when("/blog-post",{template:window.templ.BlogPostCtrl,controller:"BlogPostCtrl"}).when("/files",{template:window.templ.FilesCtrl,controller:"FilesCtrl"}).when("/file/:id",{template:window.templ.FileCtrl,controller:"FileCtrl"}).when("/file",{template:window.templ.FileCtrl,controller:"FileCtrl"}).when("/forms",{template:window.templ.FormsCtrl,controller:"FormsCtrl"}).when("/form/:id",{template:window.templ.FormCtrl,controller:"FormCtrl"}).when("/form",{template:window.templ.FormCtrl,controller:"FormCtrl"}).when("/form-entries/:id",{template:window.templ.FormEntriesCtrl,controller:"FormEntriesCtrl"}).when("/shop-items",{template:window.templ.ShopItemsCtrl,controller:"ShopItemsCtrl"}).when("/shop-item/:id",{template:window.templ.ShopItemCtrl,controller:"ShopItemCtrl"}).when("/shop-item",{template:window.templ.ShopItemCtrl,controller:"ShopItemCtrl"}).when("/qna/:id",{template:window.templ.QnaCtrl,controller:"QnaCtrl"}).when("/qna",{template:window.templ.QnaCtrl,controller:"QnaCtrl"}).when("/qnas",{template:window.templ.QnasCtrl,controller:"QnasCtrl"}).when("/webpages",{template:window.templ.WebpagesCtrl,controller:"WebpagesCtrl"}).when("/webpage/:id",{template:window.templ.WebpageCtrl,controller:"WebpageCtrl"}).when("/webpage",{template:window.templ.WebpageCtrl,controller:"WebpageCtrl"}).when("/longi-clearance-export/:id",{template:window.templ.LongiExportCtrl,controller:"LongiClearanceExportCtrl"}).when("/longi-clearance-exports",{template:window.templ.LongiClearanceExportsCtrl,controller:"LongiClearanceExportsCtrl"}).when("/longi-clearance-import/:id",{template:window.templ.LongiImportCtrl,controller:"LongiClearanceImportCtrl"}).when("/longi-clearance-imports",{template:window.templ.LongiClearanceImportsCtrl,controller:"LongiClearanceImportsCtrl"}).when("/longi-export-container/:id",{template:window.templ.LongiExportContainerCtrl,controller:"LongiExportContainerCtrl"}).when("/longi-export/:id",{template:window.templ.LongiExportCtrl,controller:"LongiExportCtrl"}).when("/longi-export",{template:window.templ.LongiExportCtrl,controller:"LongiExportCtrl"}).when("/longi-export-details",{template:window.templ.LongiExportDetailsCtrl,controller:"LongiExportDetailsCtrl"}).when("/longi-export-pnls",{template:window.templ.LongiExportPnlsCtrl,controller:"LongiExportPnlsCtrl"}).when("/longi-exports",{template:window.templ.LongiExportsCtrl,controller:"LongiExportsCtrl"}).when("/longi-import-container/:id",{template:window.templ.LongiImportContainerCtrl,controller:"LongiImportContainerCtrl"}).when("/longi-import/:id",{template:window.templ.LongiImportCtrl,controller:"LongiImportCtrl"}).when("/longi-import",{template:window.templ.LongiImportCtrl,controller:"LongiImportCtrl"}).when("/longi-import-details",{template:window.templ.LongiImportDetailsCtrl,controller:"LongiImportDetailsCtrl"}).when("/longi-import-pnls",{template:window.templ.LongiImportPnlsCtrl,controller:"LongiImportPnlsCtrl"}).when("/longi-imports",{template:window.templ.LongiImportsCtrl,controller:"LongiImportsCtrl"}).when("/mdlz-precarriage/:id",{template:window.templ.MdlzPreCarriageCtrl,controller:"MdlzPreCarriageCtrl"}).when("/mdlz-precarriage",{template:window.templ.MdlzPreCarriageCtrl,controller:"MdlzPreCarriageCtrl"}).when("/mdlz-precarriage-details",{template:window.templ.MdlzPreCarriageDetailsCtrl,controller:"MdlzPreCarriageDetailsCtrl"}).when("/mdlz-precarriages",{template:window.templ.MdlzPreCarriagesCtrl,controller:"MdlzPreCarriagesCtrl"}).when("/mdlz-loading/:id",{template:window.templ.MdlzLoadingCtrl,controller:"MdlzLoadingCtrl"}).when("/mdlz-loadings",{template:window.templ.MdlzLoadingsCtrl,controller:"MdlzLoadingsCtrl"}).when("/contact-log/:id",{template:window.templ.ContactLogCtrl,controller:"ContactLogCtrl"}).when("/contact-logs",{template:window.templ.ContactLogsCtrl,controller:"ContactLogsCtrl"}).when("/aeon/:id",{template:window.templ.AeonCtrl,controller:"AeonCtrl"}).when("/aeon",{template:window.templ.AeonCtrl,controller:"AeonCtrl"}).when("/aeons",{template:window.templ.AeonsCtrl,controller:"AeonsCtrl"}).when("/pernama/:id",{template:window.templ.PernamaCtrl,controller:"PernamaCtrl"}).when("/pernamas",{template:window.templ.PernamasCtrl,controller:"PernamasCtrl"}).when("/pernama-calculator",{template:window.templ.PernamaCalculatorCtrl,controller:"PernamaCalculatorCtrl"}).when("/pernama-calculator-promo",{template:window.templ.PernamaCalculatorPromoCtrl,controller:"PernamaCalculatorPromoCtrl"}).when("/sync",{template:window.templ.SyncCtrl,controller:"SyncCtrl"}).when("/computer-device/:id",{template:window.templ.ComputerDeviceCtrl,controller:"ComputerDeviceCtrl"}).when("/computer-device",{template:window.templ.ComputerDeviceCtrl,controller:"ComputerDeviceCtrl"}).when("/computer-devices",{template:window.templ.ComputerDevicesCtrl,controller:"ComputerDevicesCtrl"}).when("/download-history",{template:window.templ.DownloadHistoryCtrl,controller:"DownloadHistoryCtrl"}).when("/downloads",{template:window.templ.DownloadsCtrl,controller:"DownloadsCtrl"}).when("/security-group/:id",{template:window.templ.SecurityGroupCtrl,controller:"SecurityGroupCtrl"}).when("/security-group",{template:window.templ.SecurityGroupCtrl,controller:"SecurityGroupCtrl"}).when("/security-groups",{template:window.templ.SecurityGroupsCtrl,controller:"SecurityGroupsCtrl"}).when("/user/:type/:id",{template:window.templ.UserCtrl,controller:"UserCtrl"}).when("/users",{template:window.templ.UsersCtrl,controller:"UsersCtrl"}).when("/cryptos",{template:window.templ.CryptosCtrl,controller:"CryptosCtrl"}).otherwise({redirectTo:"/not-found"})}]);window.uplus.start(["app"]);anime({targets:"#splash",easing:"linear",opacity:0,duration:300,delay:300,complete:function(){var n=document.getElementById("splash");n.parentElement.removeChild(n)}});